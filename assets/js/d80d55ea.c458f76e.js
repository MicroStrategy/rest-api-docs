"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[6877],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=s(t),u=a,f=m["".concat(p,".").concat(u)]||m[u]||d[u]||i;return t?r.createElement(f,o(o({ref:n},c),{},{components:t})):r.createElement(f,o({ref:n},c))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9119:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return d}});var r=t(3117),a=t(102),i=(t(7294),t(3905)),o=["components"],l={title:"Workflow Sample - Create an Incremental Refresh Report With Advanced Properties",sidebar_label:"Create an IRR with Advanced Properties",description:"This topic covers several workflows for creating a new Incremental Refresh Report with advanced properties through the Modeling service."},p=void 0,s={unversionedId:"common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties",id:"common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties",title:"Workflow Sample - Create an Incremental Refresh Report With Advanced Properties",description:"This topic covers several workflows for creating a new Incremental Refresh Report with advanced properties through the Modeling service.",source:"@site/docs/common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties.md",sourceDirName:"common-workflows/manage-incremental-refresh-report",slug:"/common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties",permalink:"/common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties",draft:!1,editUrl:"https://undefined/undefined/restapi-docs/tree/main/docs/common-workflows/manage-incremental-refresh-report/create-an-irr-with-advanced-properties.md",tags:[],version:"current",lastUpdatedBy:"Liang, Jiapei",lastUpdatedAt:1663186539,formattedLastUpdatedAt:"Sep 14, 2022",frontMatter:{title:"Workflow Sample - Create an Incremental Refresh Report With Advanced Properties",sidebar_label:"Create an IRR with Advanced Properties",description:"This topic covers several workflows for creating a new Incremental Refresh Report with advanced properties through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Retrieve an IRR Definition with Advanced Properties",permalink:"/common-workflows/manage-incremental-refresh-report/retrieve-an-irr-definition-with-advanced-properties"},next:{title:"Update IRR Advanced Properties",permalink:"/common-workflows/manage-incremental-refresh-report/update-irr-advanced-properties"}},c={},d=[],m={toc:d};function u(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This topic covers several workflows for creating a new Incremental Refresh Report with advanced properties through the Modeling service."),(0,i.kt)("p",null,'You want to create a new Incremental Refresh Report and name it \u201cOriginal Test" in the destination folder of ',(0,i.kt)("inlineCode",{parentName:"p"},"8A1831FF494F528D02A4A8BF5FB73459"),". The target cube of the Incremental Refresh Report is called ",(0,i.kt)("inlineCode",{parentName:"p"},"IC01")," with the object ID of ",(0,i.kt)("inlineCode",{parentName:"p"},"946C0C0142C5210D01FEA1AA6B83F202"),". The project ID is ",(0,i.kt)("inlineCode",{parentName:"p"},"B7CA92F04B9FAE8D941C3E9B7E0CD754"),"."),(0,i.kt)("p",null,"You also want to set some advanced properties to a specific value instead of the default value."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Metric Level Determination under Analytical Engine to the option of ",(0,i.kt)("strong",{parentName:"li"},"Include higher-level related attributes in metric level (Deprecated)"),"."),(0,i.kt)("li",{parentName:"ul"},"Null Checking for Analytical Engine under Analytical to the option of ",(0,i.kt)("strong",{parentName:"li"},"Scalar and aggregation calculations treat NULL as zero (Deprecated)"),".")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"An authorization token allows the API layer to hide internal session-related implementations such as managing different project-specific sessions. Once the REST API layer has validated the user's credentials using the specified authentication mode, it initiates a session with the Intelligence server and creates a unique authorization token for the client."),(0,i.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,i.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,i.kt)("p",null,"Create a new Incremental Refresh Report using ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Cubes/post_api_model_incrementalRefresh"},"POST /api/model/incrementalRefresh"),"."),(0,i.kt)("p",null,"To create the new Incremental Refresh Report, you must submit the request body with the correct information."),(0,i.kt)("p",null,"The response can change based on the request parameters provided by the caller. Use the following parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Header: ",(0,i.kt)("inlineCode",{parentName:"li"},"X-MSTR-authToken")," - The authorization token"),(0,i.kt)("li",{parentName:"ul"},"Header: ",(0,i.kt)("inlineCode",{parentName:"li"},"X-MSTR-ProjectID")," - The ID of the project"),(0,i.kt)("li",{parentName:"ul"},"Parameter: ",(0,i.kt)("inlineCode",{parentName:"li"},"showFilterTokens"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Specify whether the Incremental Refresh Report ",(0,i.kt)("inlineCode",{parentName:"li"},"filter")," is returned in ",(0,i.kt)("inlineCode",{parentName:"li"},"tokens")," format, along with ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"tree")," formats."),(0,i.kt)("li",{parentName:"ul"},"If omitted or ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),", only ",(0,i.kt)("inlineCode",{parentName:"li"},"text")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"tree")," formats are returned."),(0,i.kt)("li",{parentName:"ul"},"If ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),", all ",(0,i.kt)("inlineCode",{parentName:"li"},"text"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"tree"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"tokens")," formats are returned.")))),(0,i.kt)("p",null,"Sample Request Body:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "destinationFolderId": "8A1831FF494F528D02A4A8BF5FB73459",\n    "subType": "report_increment_refresh",\n    "name": "Original Test"\n  },\n  "targetCube": {\n    "objectId": "946C0C0142C5210D01FEA1AA6B83F202",\n    "subType": "report_cube",\n    "name": "IC01"\n  },\n  "incrementType": "filter",\n  "refreshType": "update",\n  "filter": {\n    "text": "Year = 2016, 2017, 2015",\n    "tree": {\n      "type": "predicate_element_list",\n      "predicateId": "C131BAB2177044AF85E52C40F75F0A35",\n      "predicateTree": {\n        "attribute": {\n          "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Year"\n        },\n        "elements": [\n          {\n            "display": "2016",\n            "elementId": "h2016"\n          },\n          {\n            "display": "2017",\n            "elementId": "h2017"\n          },\n          {\n            "display": "2015",\n            "elementId": "h2015"\n          }\n        ],\n        "function": "in"\n      }\n    }\n  },\n  "advancedProperties": {\n    "vldbProperties": {\n      "[AnalyticalEngineProperties].[MetricLevelDetermination]": {\n        "name": "MetricLevelDetermination",\n        "value": "true",\n        "type": "boolean",\n        "resolvedLocation": "report"\n      },\n      "[AnalyticalEngineProperties].[NullCheckingForAnalyticalEngine]": {\n        "name": "NullCheckingForAnalyticalEngine",\n        "value": "2",\n        "type": "int32",\n        "resolvedLocation": "report"\n      }\n    }\n  }\n}\n')),(0,i.kt)("p",null,"Sample Curl:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "http://10.23.36.118:8080/MicroStrategyLibrary/api/model/incrementalRefresh?showAdvancedProperties=true" \\\n-H "accept: application/json" \\\n-H "X-MSTR-AuthToken: qfjlu36r0cjpnhadp2kj0ud45s" \\\n-H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754" \\\n-H "Content-Type: application/json" \\\n-d \'{"information":{"destinationFolderId":"8A1831FF494F528D02A4A8BF5FB73459","subType":"report_increment_refresh","name":"Original Test"},"targetCube":{"objectId":"946C0C0142C5210D01FEA1AA6B83F202","subType":"report_cube","name":"IC01"},"incrementType":"filter","refreshType":"update","filter":{"text":"Year = 2016, 2017, 2015","tree":{"type":"predicate_element_list","predicateId":"C131BAB2177044AF85E52C40F75F0A35","predicateTree":{"attribute":{"objectId":"8D679D5111D3E4981000E787EC6DE8A4","subType":"attribute","name":"Year"},"elements":[{"display":"2016","elementId":"h2016"},{"display":"2017","elementId":"h2017"},{"display":"2015","elementId":"h2015"}],"function":"in"}}},"advancedProperties":{"vldbProperties":{"[AnalyticalEngineProperties].[MetricLevelDetermination]":{"name":"MetricLevelDetermination","value":"true","type":"boolean","resolvedLocation":"report"},"[AnalyticalEngineProperties].[NullCheckingForAnalyticalEngine]":{"name":"NullCheckingForAnalyticalEngine","value":"2","type":"int32","resolvedLocation":"report"}}}}\'\n')),(0,i.kt)("p",null,"Sample Response Body:"),(0,i.kt)("p",null,"You can view the Incremental Refresh Report definition in the body of the response. Below is an example of filter in ",(0,i.kt)("inlineCode",{parentName:"p"},"text")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"tree")," formats."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "dateCreated": "2022-06-10T07:17:20.563Z",\n    "dateModified": "2022-06-10T07:17:20.563Z",\n    "versionId": "3E14625B45C27EF65DDF5AA3A2087788",\n    "primaryLocale": "en-US",\n    "objectId": "BC95299E4447D23A6EA4E9B1049F4221",\n    "subType": "report_increment_refresh",\n    "name": "Original Test"\n  },\n  "targetCube": {\n    "objectId": "946C0C0142C5210D01FEA1AA6B83F202",\n    "subType": "report_cube",\n    "name": "IC01"\n  },\n  "incrementType": "filter",\n  "refreshType": "update",\n  "filter": {\n    "text": "Year = 2016, 2017, 2015",\n    "tree": {\n      "type": "predicate_element_list",\n      "predicateId": "86827BEDB1EB4B6BB2BF1141A10E2ED5",\n      "predicateTree": {\n        "attribute": {\n          "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Year"\n        },\n        "elements": [\n          {\n            "display": "2016",\n            "elementId": "h2016"\n          },\n          {\n            "display": "2017",\n            "elementId": "h2017"\n          },\n          {\n            "display": "2015",\n            "elementId": "h2015"\n          }\n        ],\n        "function": "in"\n      }\n    }\n  },\n  "advancedProperties": {\n    "vldbProperties": {\n      "[AnalyticalEngineProperties].[ConsolidationSubtotal]": {\n        "name": "ConsolidationSubtotal",\n        "value": "true",\n        "type": "boolean",\n        "resolvedLocation": "default"\n      },\n      "[MDX Syntax].[MDX Add Fake Measure]": {\n        "name": "MDX Add Fake Measure",\n        "value": "1",\n        "type": "int32",\n        "resolvedLocation": "default"\n      }\n    },\n    "metricJoinTypes": {\n      "7FD5B69611D5AC76C000D98A4CC5F24F": {\n        "metric": {\n          "objectId": "7FD5B69611D5AC76C000D98A4CC5F24F",\n          "subType": "metric",\n          "name": "Cost"\n        },\n        "joinType": "inner",\n        "resolvedLocation": "default"\n      },\n      "4C051DB611D3E877C000B3B2D86C964F": {\n        "metric": {\n          "objectId": "4C051DB611D3E877C000B3B2D86C964F",\n          "subType": "metric",\n          "name": "Profit"\n        },\n        "joinType": "inner",\n        "resolvedLocation": "default"\n      }\n    },\n    "attributeJoinTypes": {\n      "8D679D5111D3E4981000E787EC6DE8A4": {\n        "attribute": {\n          "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Year"\n        },\n        "noParticipationInPreserveRow": false,\n        "resolvedLocation": "default"\n      },\n      "8D679D3711D3E4981000E787EC6DE8A4": {\n        "attribute": {\n          "objectId": "8D679D3711D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Category"\n        },\n        "noParticipationInPreserveRow": false,\n        "resolvedLocation": "default"\n      }\n    }\n  }\n}\n')),(0,i.kt)("p",null,"Response Code: 200 (Incremental Refresh Report's definition is returned successfully.)"))}u.isMDXComponent=!0}}]);