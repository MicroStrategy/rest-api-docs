"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[3625],{29114:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=o(74848),c=o(28453);const s={title:"Lock the schema",description:"This workflow sample demonstrates how to lock the schema."},a=void 0,i={id:"common-workflows/modeling/common-object-management/manage-the-schema/lock-the-schema",title:"Lock the schema",description:"This workflow sample demonstrates how to lock the schema.",source:"@site/docs/common-workflows/modeling/common-object-management/manage-the-schema/lock-the-schema.md",sourceDirName:"common-workflows/modeling/common-object-management/manage-the-schema",slug:"/common-workflows/modeling/common-object-management/manage-the-schema/lock-the-schema",permalink:"/rest-api-docs/common-workflows/modeling/common-object-management/manage-the-schema/lock-the-schema",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/modeling/common-object-management/manage-the-schema/lock-the-schema.md",tags:[],version:"current",lastUpdatedBy:"AugLychee",lastUpdatedAt:1710818077,formattedLastUpdatedAt:"Mar 19, 2024",frontMatter:{title:"Lock the schema",description:"This workflow sample demonstrates how to lock the schema."},sidebar:"tutorialSidebar",previous:{title:"Retrieve the schema lock",permalink:"/rest-api-docs/common-workflows/modeling/common-object-management/manage-the-schema/retrieve-the-schema-lock"},next:{title:"Unlock the schema",permalink:"/rest-api-docs/common-workflows/modeling/common-object-management/manage-the-schema/unlock-the-schema"}},r={},l=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components},{Available:o}=t;return o||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{since:"2021 Update 1"}),"\n",(0,n.jsxs)(t.admonition,{type:"tip",children:[(0,n.jsxs)(t.p,{children:["You can try out this workflow at ",(0,n.jsx)(t.a,{href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-c3ac84b3-bce5-495d-94d5-941305fc1def?ctx=documentation",children:"REST API Playground"}),"."]}),(0,n.jsxs)(t.p,{children:["Learn more about MicroStrategy REST API Playground ",(0,n.jsx)(t.a,{href:"/rest-api-docs/getting-started/playground",children:"here"}),"."]})]}),"\n",(0,n.jsx)(t.p,{children:"This workflow sample demonstrates how to lock the schema."}),"\n",(0,n.jsxs)(t.p,{children:["You want to lock the schema in the MicroStrategy Tutorial project with an ",(0,n.jsx)(t.code,{children:"\u201cabsolute_individual\u201c"})," lock. The project ID is ",(0,n.jsx)(t.code,{children:"B7CA92F04B9FAE8D941C3E9B7E0CD754"}),"."]}),"\n",(0,n.jsxs)(t.admonition,{type:"info",children:[(0,n.jsxs)(t.p,{children:["Get the authorization token needed to execute the request with ",(0,n.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,n.jsxs)(t.p,{children:["Get the project ID from ",(0,n.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1",children:"GET /api/projects"}),"."]})]}),"\n",(0,n.jsxs)(t.admonition,{type:"tip",children:[(0,n.jsxs)(t.p,{children:["In the response, the ",(0,n.jsx)(t.code,{children:'"lockType"'})," can be:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:'"absolute_individual"'}),": Place using the POST schema lock API. When placed, no one, including the administrator, can perform changes on the schema objects. The purpose of this lock is to prevent accidental modifications to the schema in a project."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:'"exclusive_constituent"'}),": When the changeset is created with ",(0,n.jsx)(t.code,{children:'"schemaEdit" = true'}),", an ",(0,n.jsx)(t.code,{children:'"exclusive_constituent"'})," lock is placed on the schema. It is a lock exclusive to the changeset holding the lock; only that changeset can change the schema or its constituents (tables, attributes, etc.)."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:'"absolute_constituent"'}),": Not in use."]}),"\n"]})]}),"\n",(0,n.jsxs)(t.p,{children:["Lock the schema using ",(0,n.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Schema/ms-postLock",children:"POST /api/model/schema/lock"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Sample Request Header:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "ouddou5qdd421ndfpjqd6ssman"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754\n'})}),"\n",(0,n.jsx)(t.p,{children:"Sample Request Body:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "lockType": "absolute_individual"\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"Sample Curl:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/schema/lock" \\\n-H "accept: */*" \\\n-H "X-MSTR-AuthToken: ouddou5qdd421ndfpjqd6ssman" \\\n-H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754" \\\n-H "Content-Type: application/json"\n-d \'{"lockType":"absolute_individual"}\'\n'})}),"\n",(0,n.jsx)(t.p,{children:"Sample Response Body: Empty"}),"\n",(0,n.jsx)(t.p,{children:"Response Code 201 (The schema is locked successfully.)"})]})}function m(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>i});var n=o(96540);const c={},s=n.createContext(c);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);