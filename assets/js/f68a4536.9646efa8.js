"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[2076],{99539:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var a=n(74848),i=n(28453);const o={title:"Update an attribute's relationships",sidebar_label:"Update an attribute's relationships",description:"This workflow sample demonstrates how to update an attribute's relationship through the Modeling service."},s=void 0,r={id:"common-workflows/modeling/manage-attribute-relationships/update-an-attributes-relationships",title:"Update an attribute's relationships",description:"This workflow sample demonstrates how to update an attribute's relationship through the Modeling service.",source:"@site/docs/common-workflows/modeling/manage-attribute-relationships/update-an-attributes-relationships.md",sourceDirName:"common-workflows/modeling/manage-attribute-relationships",slug:"/common-workflows/modeling/manage-attribute-relationships/update-an-attributes-relationships",permalink:"/rest-api-docs/common-workflows/modeling/manage-attribute-relationships/update-an-attributes-relationships",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/modeling/manage-attribute-relationships/update-an-attributes-relationships.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Update an attribute's relationships",sidebar_label:"Update an attribute's relationships",description:"This workflow sample demonstrates how to update an attribute's relationship through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Retrieve an attribute's relationships within a changeset",permalink:"/rest-api-docs/common-workflows/modeling/manage-attribute-relationships/retrieve-an-attributes-relationships-within-a-changeset"},next:{title:"Manage base formula objects",permalink:"/rest-api-docs/common-workflows/modeling/manage-base-formula-objects/"}},l={},c=[{value:"Update the attribute&#39;s relationship",id:"update-the-attributes-relationship",level:2},{value:"Example",id:"example",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components},{Available:o}=t;return o||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{since:"2021 Update 1"}),"\n",(0,a.jsxs)(t.admonition,{type:"tip",children:[(0,a.jsxs)(t.p,{children:["You can try out this workflow at ",(0,a.jsx)(t.a,{href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-a1ebd204-40ea-42e0-9ccc-21f391c797fb?ctx=documentation",children:"REST API Playground"}),"."]}),(0,a.jsxs)(t.p,{children:["Learn more about MicroStrategy REST API Playground ",(0,a.jsx)(t.a,{href:"/rest-api-docs/getting-started/playground",children:"here"}),"."]})]}),"\n",(0,a.jsx)(t.p,{children:"This workflow sample demonstrates how to update an attribute's relationship through the Modeling service."}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Create a changeset."}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"#update-the-attributes-relationship",children:"Update the attribute's relationship."})}),"\n",(0,a.jsx)(t.li,{children:"Commit the changeset."}),"\n",(0,a.jsx)(t.li,{children:"Delete the changeset."}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["You want to update the relationship for the ",(0,a.jsx)(t.code,{children:"\u201cSubcategory\u201c"})," attribute object with ID ",(0,a.jsx)(t.code,{children:"E8C034036E4EE6404513A6B12FAE9481"})," in the MicroStrategy Tutorial project. The project ID is ",(0,a.jsx)(t.code,{children:"B7CA92F04B9FAE8D941C3E9B7E0CD754"}),"."]}),"\n",(0,a.jsxs)(t.admonition,{type:"info",children:[(0,a.jsxs)(t.p,{children:["Get the authorization token needed to execute the request with ",(0,a.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,a.jsxs)(t.p,{children:["Get the project ID from ",(0,a.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1",children:"GET /api/projects"}),"."]})]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["Changesets are used in this workflow. For information on how to create and use changesets, see ",(0,a.jsx)(t.a,{href:"/rest-api-docs/common-workflows/modeling/changesets",children:"Changesets"}),"."]})}),"\n",(0,a.jsx)(t.h2,{id:"update-the-attributes-relationship",children:"Update the attribute's relationship"}),"\n",(0,a.jsxs)(t.p,{children:["Use ",(0,a.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/System%20Hierarchy/ms-putAttributeRelationships",children:"PUT /api/model/systemHierarchy/attributes/{attributeId}/relationships"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:['You want to update the relationship of the "Subcategory" attribute object by adding relationships between "Category" and "Subcategory", and "Subcategory" and "Item". The object ID of the "Subcategory" attribute is ',(0,a.jsx)(t.code,{children:"E8C034036E4EE6404513A6B12FAE9481"})," in the MicroStrategy Tutorial project. The project ID is ",(0,a.jsx)(t.code,{children:"B7CA92F04B9FAE8D941C3E9B7E0CD754"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"The following screenshot shows how these relationships are shown in the editor."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"attribute_relationship_editor",src:n(59680).A+"",width:"800",height:"896"})}),"\n",(0,a.jsx)(t.p,{children:"Sample Request Header:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "o0ak9privdo27nfo798j40m8aa"\n"X-MSTR-MS-Changeset": "F768352DC66E40F2BCD9A3F050ECDE9B"\n'})}),"\n",(0,a.jsx)(t.p,{children:"Sample Request Body:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "relationships": [\n    {\n      "parent": {\n        "objectId": "E8C034036E4EE6404513A6B12FAE9481",\n        "subType": "attribute",\n        "name": "Subcategory"\n      },\n      "child": {\n        "objectId": "8D679D4211D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Item"\n      },\n      "relationshipTable": {\n        "objectId": "8D67937411D3E4981000E787EC6DE8A4",\n        "subType": "logical_table",\n        "name": "LU_ITEM"\n      },\n      "relationshipType": "one_to_many"\n    },\n    {\n      "parent": {\n        "objectId": "8D679D3711D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Category"\n      },\n      "child": {\n        "objectId": "E8C034036E4EE6404513A6B12FAE9481",\n        "subType": "attribute",\n        "name": "Subcategory"\n      },\n      "relationshipTable": {\n        "objectId": "8D6793B611D3E4981000E787EC6DE8A4",\n        "subType": "logical_table",\n        "name": "LU_SUBCATEG"\n      },\n      "relationshipType": "one_to_many"\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Sample Curl:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'curl -X PUT "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/systemHierarchy/attributes/E8C034036E4EE6404513A6B12FAE9481/relationships" -H "accept: application/json" -H "X-MSTR-AuthToken: o0ak9privdo27nfo798j40m8aa" -H "X-MSTR-MS-Changeset: F768352DC66E40F2BCD9A3F050ECDE9B" -H "Content-Type: application/json" -d "{\\\\"relationships\\\\":[{\\\\"parent\\\\":{\\\\"objectId\\\\":\\\\"E8C034036E4EE6404513A6B12FAE9481\\\\",\\\\"subType\\\\":\\\\"attribute\\\\",\\\\"name\\\\":\\\\"Subcategory\\\\"},\\\\"child\\\\":{\\\\"objectId\\\\":\\\\"8D679D4211D3E4981000E787EC6DE8A4\\\\",\\\\"subType\\\\":\\\\"attribute\\\\",\\\\"name\\\\":\\\\"Item\\\\"},\\\\"relationshipTable\\\\":{\\\\"objectId\\\\":\\\\"8D67937411D3E4981000E787EC6DE8A4\\\\",\\\\"subType\\\\":\\\\"logical_table\\\\",\\\\"name\\\\":\\\\"LU_ITEM\\\\"},\\\\"relationshipType\\\\":\\\\"one_to_many\\\\"},{\\\\"parent\\\\":{\\\\"objectId\\\\":\\\\"8D679D3711D3E4981000E787EC6DE8A4\\\\",\\\\"subType\\\\":\\\\"attribute\\\\",\\\\"name\\\\":\\\\"Category\\\\"},\\\\"child\\\\":{\\\\"objectId\\\\":\\\\"E8C034036E4EE6404513A6B12FAE9481\\\\",\\\\"subType\\\\":\\\\"attribute\\\\",\\\\"name\\\\":\\\\"Subcategory\\\\"},\\\\"relationshipTable\\\\":{\\\\"objectId\\\\":\\\\"8D6793B611D3E4981000E787EC6DE8A4\\\\",\\\\"subType\\\\":\\\\"logical_table\\\\",\\\\"name\\\\":\\\\"LU_SUBCATEG\\\\"},\\\\"relationshipType\\\\":\\\\"one_to_many\\\\"}]}"\n'})}),"\n",(0,a.jsx)(t.p,{children:"Sample Response Body:"}),"\n",(0,a.jsx)(t.p,{children:"You can view the new attribute relationships in the body of the response."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "relationships": [\n    {\n      "parent": {\n        "objectId": "E8C034036E4EE6404513A6B12FAE9481",\n        "subType": "attribute",\n        "name": "Subcategory"\n      },\n      "child": {\n        "objectId": "8D679D4211D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Item"\n      },\n      "relationshipTable": {\n        "objectId": "8D67937411D3E4981000E787EC6DE8A4",\n        "subType": "logical_table",\n        "name": "LU_ITEM"\n      },\n      "relationshipType": "one_to_many"\n    },\n    {\n      "parent": {\n        "objectId": "8D679D3711D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Category"\n      },\n      "child": {\n        "objectId": "E8C034036E4EE6404513A6B12FAE9481",\n        "subType": "attribute",\n        "name": "Subcategory"\n      },\n      "relationshipTable": {\n        "objectId": "8D6793B611D3E4981000E787EC6DE8A4",\n        "subType": "logical_table",\n        "name": "LU_SUBCATEG"\n      },\n      "relationshipType": "one_to_many"\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Response Code: 200 (The attribute's relationships are updated successfully in the changeset.)"}),"\n",(0,a.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,a.jsx)(t.p,{children:'You want to update the relationship for the "Promotion" attribute object with ID "6E6E867115400A10F71D979E00325F4A" by adding a joint relationship with "Day" and "Item" as the join-child of "Promotion".'}),"\n",(0,a.jsx)(t.p,{children:"The following screenshot shows how this relationship is shown in the editor."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"attribute_relationship_editor_2",src:n(91155).A+"",width:"800",height:"535"})}),"\n",(0,a.jsx)(t.p,{children:"Sample Request Body:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-json",children:'{\n  "relationships": [\n    {\n      "parent": {\n        "objectId": "6E6E867115400A10F71D979E00325F4A",\n        "subType": "attribute",\n        "name": "Promotion"\n      },\n      "jointChild": [\n        {\n          "objectId": "96ED3EC811D5B117C000E78A4CC5F24F",\n          "subType": "attribute",\n          "name": "Day"\n        },\n        {\n          "objectId": "8D679D4211D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Item"\n        }\n      ],\n      "relationshipTable": {\n        "objectId": "8D6793CE11D3E4981000E787EC6DE8A4",\n        "subType": "logical_table",\n        "name": "ORDER_DETAIL"\n      },\n      "relationshipType": "one_to_many"\n    }\n  ]\n}\n'})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},59680:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/attribute_relationship_editor-d5d14ede3fc664a702f3b8e654de8be6.png"},91155:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/attribute_relationship_editor_2-e5d85685b6b09430f90e52ccb5963034.png"},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var a=n(96540);const i={},o=a.createContext(i);function s(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);