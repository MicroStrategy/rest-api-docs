"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[9868],{1272:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var a=t(74848),r=t(28453);const i={title:"Create a drill map",sidebar_label:"Create a drill map",description:"This workflow sample demonstrates how to create a new drill map object through the Modeling service."},l=void 0,o={id:"common-workflows/modeling/manage-drill-maps/create-a-drill-map",title:"Create a drill map",description:"This workflow sample demonstrates how to create a new drill map object through the Modeling service.",source:"@site/docs/common-workflows/modeling/manage-drill-maps/create-a-drill-map.md",sourceDirName:"common-workflows/modeling/manage-drill-maps",slug:"/common-workflows/modeling/manage-drill-maps/create-a-drill-map",permalink:"/rest-api-docs/common-workflows/modeling/manage-drill-maps/create-a-drill-map",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/modeling/manage-drill-maps/create-a-drill-map.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Create a drill map",sidebar_label:"Create a drill map",description:"This workflow sample demonstrates how to create a new drill map object through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Retrieve a drill map definition",permalink:"/rest-api-docs/common-workflows/modeling/manage-drill-maps/retrieve-a-drill-map-definition"},next:{title:"Update a drill map",permalink:"/rest-api-docs/common-workflows/modeling/manage-drill-maps/update-a-drill-map"}},s={},d=[{value:"Workflow",id:"workflow",level:2},{value:"Create a new drill map using POST /api/model/drillMaps",id:"create-a-new-drill-map-using-post-apimodeldrillmaps",level:3},{value:"More examples",id:"more-examples",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Available:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t,{since:"2021 Update 6"}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsxs)(n.p,{children:["You can try out this workflow at ",(0,a.jsx)(n.a,{href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-2b7a0f0c-2172-418a-93ec-e0f0a13fa741?ctx=documentation",children:"REST API Playground"}),"."]}),(0,a.jsxs)(n.p,{children:["Learn more about MicroStrategy REST API Playground ",(0,a.jsx)(n.a,{href:"/rest-api-docs/getting-started/playground",children:"here"}),"."]})]}),"\n",(0,a.jsx)(n.p,{children:"This workflow sample demonstrates how to create a new drill map object through the Modeling service."}),"\n",(0,a.jsxs)(n.p,{children:["The drill map is under the Public Objects folder in the MicroStrategy Tutorial project. The folder object ID is ",(0,a.jsx)(n.code,{children:"98FE182C2A10427EACE0CD30B6768258"}),". The project ID is ",(0,a.jsx)(n.code,{children:"091B51154B22036C53CFBB9958B2E8FC"}),"."]}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsxs)(n.p,{children:["Get the authorization token needed to execute the request with ",(0,a.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,a.jsxs)(n.p,{children:["Get the project ID from ",(0,a.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1",children:"GET /api/projects"}),"."]})]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Changesets are used in this workflow. For information on how to create and use changesets, see ",(0,a.jsx)(n.a,{href:"/rest-api-docs/common-workflows/modeling/changesets",children:"Changesets"}),"."]})}),"\n",(0,a.jsx)(n.h2,{id:"workflow",children:"Workflow"}),"\n",(0,a.jsxs)(n.h3,{id:"create-a-new-drill-map-using-post-apimodeldrillmaps",children:["Create a new drill map using ",(0,a.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Drill%20Maps/ms-postDrillMap",children:"POST /api/model/drillMaps"})]}),"\n",(0,a.jsxs)(n.p,{children:["In this step, you are creating a new drill map with a drill path based on the ",(0,a.jsx)(n.code,{children:"Year"})," attribute in the ",(0,a.jsx)(n.code,{children:"Up"})," field and setting the drill path to a ",(0,a.jsx)(n.code,{children:"high"})," priority, along with some other properties. You can find more examples in the following sections on this page. You can find ",(0,a.jsx)(n.a,{href:"#more-examples",children:"More examples"})," at the bottom of this page."]}),"\n",(0,a.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Changeset": "0E9F01172ECF4BA2BB510F7B9FB4F6E8"\n'})}),"\n",(0,a.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "name": "Drill Map for Demo",\n    "destinationFolderId": "98FE182C2A10427EACE0CD30B6768258"\n  },\n  "drillPaths": [\n    {\n      "displayName": "Year\'s Display Name",\n      "type": "up",\n      "target": {\n        "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Year"\n      },\n      "priority": "high",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": false,\n        "applyReportFilter": true\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"curl -X POST \"https://demo.microstrategy.com/MicroStrategyLibrary/api/model/drillMaps\" \\\n-H \"accept: application/json\" -H \"X-MSTR-AuthToken: 9rlq0e1dgg3rp237hiddruqcd0\" \\\n-H \"X-MSTR-MS-Changeset: EE48CD8879C44A03B18660AE7AFC8F68\" \\\n-H \"Content-Type: application/json\" -d \"{ 'information ':{ 'name ': 'Drill Map for Demo ', 'destinationFolderId ': '98FE182C2A10427EACE0CD30B6768258 '}, 'drillPaths ':[{ 'displayName ': 'Year's Display Name ', 'type ': 'up ', 'target ':{ 'objectId ': '8D679D5111D3E4981000E787EC6DE8A4 ', 'subType ': 'attribute ', 'name ': 'Year '}, 'priority ': 'high ', 'options ':{ 'keepParent ':false, 'keepThresholds ':false, 'keepPageBy ':false, 'keepBaseTemplate ':false, 'applyUserFilter ':false, 'applyReportFilter ':true}}]}\"\n"})}),"\n",(0,a.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,a.jsx)(n.p,{children:"You can view the new drill map definition in the body of the response."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "dateCreated": "2022-01-24T10:42:27.000Z",\n    "dateModified": "2022-01-30T12:32:52.961Z",\n    "versionId": "DAC1E08E49F511D58A0D678D2ACD1BF9",\n    "primaryLocale": "en-US",\n    "objectId": "CC2E6AA3421EFF5C41C2D0939750BB24",\n    "subType": "drill_map",\n    "name": "Drill Map for Demo",\n    "destinationFolderId": "98FE182C2A10427EACE0CD30B6768258"\n  },\n  "drillPaths": [\n    {\n      "displayName": "Year\'s Display Name",\n      "type": "up",\n      "target": {\n        "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Year"\n      },\n      "priority": "high",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": false,\n        "applyReportFilter": true\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Sample Response Code: 201 (A new drill map is created successfully in the changeset.)"}),"\n",(0,a.jsx)(n.h2,{id:"more-examples",children:"More examples"}),"\n",(0,a.jsx)(n.p,{children:"In the above example, the drill map has only one drill path. However, a drill map can have multiple drill paths."}),"\n",(0,a.jsx)(n.p,{children:"You want to create a drill map with the following drill paths:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"Call Center Analysis"})," template to the ",(0,a.jsx)(n.code,{children:"Template"})," field with a ",(0,a.jsx)(n.code,{children:"medium"})," priority."]}),"\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"Year"})," attribute to the ",(0,a.jsx)(n.code,{children:"Across"})," field with a ",(0,a.jsx)(n.code,{children:"high"})," priority."]}),"\n",(0,a.jsxs)(n.li,{children:["Add an ",(0,a.jsx)(n.code,{children:"Age Groups"})," custom group to the ",(0,a.jsx)(n.code,{children:"Up"})," field with a ",(0,a.jsx)(n.code,{children:"medium"})," priority."]}),"\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"Customer Geography"})," consolidation to the ",(0,a.jsx)(n.code,{children:"Down"})," field with a ",(0,a.jsx)(n.code,{children:"low"})," priority"]}),"\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"Products"})," hierarchy to the ",(0,a.jsx)(n.code,{children:"Down"})," field with a ",(0,a.jsx)(n.code,{children:"medium"})," priority."]}),"\n",(0,a.jsxs)(n.li,{children:["Add a ",(0,a.jsx)(n.code,{children:"Status Drill Map"})," drill map to the ",(0,a.jsx)(n.code,{children:"Drill Map"})," field with a ",(0,a.jsx)(n.code,{children:"medium"})," priority."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "destinationFolderId": "98FE182C2A10427EACE0CD30B6768258",\n    "name": "Create Consolidation"\n  },\n  "drillPaths": [\n    {\n      "displayName": "Call Center Analysis",\n      "type": "template",\n      "target": {\n        "objectId": "D4C7C978490A443715E6ECB689F9CEAF",\n        "subType": "template",\n        "name": "Call Center Analysis"\n      },\n      "priority": "medium",\n      "options": {\n        "setName": "Test SetName 1",\n        "inheritVLDB": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default",\n        "displayMode": "default"\n      }\n    },\n    {\n      "displayName": "Year",\n      "type": "across",\n      "target": {\n        "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Year"\n      },\n      "priority": "high",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": false,\n        "applyReportFilter": true\n      }\n    },\n    {\n      "displayName": "Age Groups",\n      "type": "up",\n      "target": {\n        "objectId": "085CBF314703A71E926EA187C2002969",\n        "subType": "custom_group",\n        "name": "Age Groups"\n      },\n      "priority": "medium",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default"\n      }\n    },\n    {\n      "displayName": "Customer Geography",\n      "type": "down",\n      "target": {\n        "objectId": "B9E7FD5911D3E936C000B3B2D86C964F",\n        "subType": "consolidation",\n        "name": "Customer Geography"\n      },\n      "priority": "low",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default"\n      }\n    },\n    {\n      "displayName": "Products",\n      "type": "down",\n      "target": {\n        "objectId": "B793B56811D3E4E51000E887EC6DE8A4",\n        "subType": "dimension_user",\n        "name": "Products"\n      },\n      "priority": "medium"\n    },\n    {\n      "type": "drill_map",\n      "target": {\n        "objectId": "A3EEC92948DB0216FA585D83F2633A2B",\n        "subType": "drill_map",\n        "name": "Status Drill Map"\n      },\n      "priority": "medium"\n    }\n  ]\n}\n'})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var a=t(96540);const r={},i=a.createContext(r);function l(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);