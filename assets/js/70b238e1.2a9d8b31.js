"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[5817],{17662:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});var c=i(74848),s=i(28453);const a={title:"License audit and compliance",sidebar_label:"License audit and compliance check",description:"This workflow sample demonstrates how to perform compliance check and license audit. You can also check privileges to a license product for a user."},r=void 0,t={id:"common-workflows/administration/manage-licensing/license-audit-compliance",title:"License audit and compliance",description:"This workflow sample demonstrates how to perform compliance check and license audit. You can also check privileges to a license product for a user.",source:"@site/docs/common-workflows/administration/manage-licensing/license-audit-compliance.md",sourceDirName:"common-workflows/administration/manage-licensing",slug:"/common-workflows/administration/manage-licensing/license-audit-compliance",permalink:"/rest-api-docs/common-workflows/administration/manage-licensing/license-audit-compliance",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/administration/manage-licensing/license-audit-compliance.md",tags:[],version:"current",lastUpdatedBy:"AugLychee",lastUpdatedAt:1710818077,formattedLastUpdatedAt:"Mar 19, 2024",frontMatter:{title:"License audit and compliance",sidebar_label:"License audit and compliance check",description:"This workflow sample demonstrates how to perform compliance check and license audit. You can also check privileges to a license product for a user."},sidebar:"tutorialSidebar",previous:{title:"License manipulation",permalink:"/rest-api-docs/common-workflows/administration/manage-licensing/license-manipulation"},next:{title:"Manage drivers",permalink:"/rest-api-docs/common-workflows/administration/manage-drivers/"}},o={},l=[{value:"Perform license compliance check",id:"perform-license-compliance-check",level:2},{value:"Get license compliance check result",id:"get-license-compliance-check-result",level:2},{value:"Perform license audit",id:"perform-license-audit",level:2},{value:"Get license audit info",id:"get-license-audit-info",level:2},{value:"Get info about compliance check status",id:"get-info-about-compliance-check-status",level:2},{value:"Get info about license privileges granted to a specific user",id:"get-info-about-license-privileges-granted-to-a-specific-user",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{Available:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i,{since:"2021 Update 10"}),"\n",(0,c.jsx)(n.h2,{id:"perform-license-compliance-check",children:"Perform license compliance check"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/checkLicenseCompliance",children:"POST /api/license/iServer/compliance"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location --request POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/compliance' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "link": {\n    "href": "/queues/6C3033424C805FDA1F2743AFC1063B9B",\n    "type": "GET"\n  }\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 201"}),"\n",(0,c.jsx)(n.h2,{id:"get-license-compliance-check-result",children:"Get license compliance check result"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/checkComplianceResult",children:"GET /api/license/iServer/compliance/result"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/compliance/result' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "complianceTime": "2023-05-04T10:46:38.979Z",\n  "complianceType": 2,\n  "inCompliance": true,\n  "complianceResult": [\n    {\n      "currentUsage": 0,\n      "inCompliance": true,\n      "maxUsage": -1,\n      "name": "Desktop",\n      "type": 41\n    },\n    {\n      "currentUsage": 0,\n      "details": {\n        "ReporterWeb": 0,\n        "Web": 0\n      },\n      "inCompliance": true,\n      "maxUsage": -1,\n      "name": "ReporterWeb",\n      "type": 1\n    },\n    {\n      "currentUsage": 0,\n      "inCompliance": true,\n      "maxUsage": -1,\n      "name": "EMMBlackberry",\n      "type": 19\n    }\n  ]\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 200"}),"\n",(0,c.jsx)(n.h2,{id:"perform-license-audit",children:"Perform license audit"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/checkLicenseAudit",children:"POST /api/license/iServer/audit"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location --request POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/audit' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "link": {\n    "href": "/queues/3702AE1E4672C3CBDEFA1F844AB94B6B",\n    "type": "GET"\n  }\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 201"}),"\n",(0,c.jsx)(n.h2,{id:"get-license-audit-info",children:"Get license audit info"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/checkLicenseAuditResult",children:"GET /api/license/iServer/audit/result"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/audit/result' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "auditTime": "2023-05-04T10:47:46.766Z",\n  "contactLicenses": [],\n  "userGroups": [\n    ["3D0F5EF8978D4AE086012C196BF01EBA", "MicroStrategy Groups"],\n    ["5F3FAFE011D2D8CC6000CC8E67019608", "System Monitors"],\n    ["5F3FAFE111D2D8CC6000CC8E67019608", "System Administrators"],\n    ["C82C6B1011D2894CC0009D9F29718E4F", "Everyone"],\n    ["5B6C1434431D99F9A8230191FE5F6849", "MicroStrategy Service Accounts"],\n    ["FB5CDCCE4D0E70EDE48110A0FDCFD370", "Platform Support Administrators"]\n  ],\n  "userLicenses": [\n    {\n      "creationTime": "2020-12-03T04:49:51.000Z",\n      "enabled": true,\n      "id": "54F3D26011D2896560009A8E67019608",\n      "licenseTypes": [],\n      "modificationTime": "2023-04-24T05:14:35.454Z",\n      "name": "Administrator",\n      "userGroupsIndex": [0, 1, 2, 3],\n      "LDAPUser": false\n    },\n    {\n      "creationTime": "2023-04-24T05:11:17.000Z",\n      "enabled": true,\n      "id": "407B14FB42F2A3FB012ACDAFBD5475F7",\n      "licenseTypes": [],\n      "modificationTime": "2023-04-24T05:14:49.231Z",\n      "name": "Insights Service Account",\n      "userGroupsIndex": [4],\n      "LDAPUser": false\n    },\n    {\n      "creationTime": "2021-05-10T04:35:53.000Z",\n      "enabled": false,\n      "id": "22BBFC764F017F94E98C6AA91134B880",\n      "licenseTypes": [7, 5, 8, 10, 12, 14, 15],\n      "modificationTime": "2021-05-10T04:35:53.000Z",\n      "name": "Platform Support Administrator",\n      "userGroupsIndex": [0, 1, 3, 5],\n      "LDAPUser": false\n    }\n  ],\n  "includeLDAP": false\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 200"}),"\n",(0,c.jsx)(n.h2,{id:"get-info-about-compliance-check-status",children:"Get info about compliance check status"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/checkLicenseComplianceStatus",children:"GET /api/license/iServer/compliance/status"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/compliance/status' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "jobRunning": false\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 200"}),"\n",(0,c.jsx)(n.h2,{id:"get-info-about-license-privileges-granted-to-a-specific-user",children:"Get info about license privileges granted to a specific user"}),"\n",(0,c.jsxs)(n.p,{children:["Endpoint: ",(0,c.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/License/getLicenseAuditPrivileges",children:"GET /api/license/privileges/{id}"})]}),"\n",(0,c.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample request body: Empty"}),"\n",(0,c.jsx)(n.p,{children:"Query param:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"required: licenseProduct"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"curl --location 'https://demo.microstrategy.com/MicroStrategyLibrary/api/license/iServer/privileges/54F3D26011D2896560009A8E67019608?licenseProduct=CLIENT_APPLICATION' \\\n--header 'X-MSTR-AuthToken: f28f3f0eh0a6f32a2qkhcecs66'\n"})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "licenseName": "client_application",\n  "pws": [\n    {\n      "privilege": {\n        "id": "266",\n        "name": "Use Application",\n        "description": "Provide the ability for organizations to connect to the MicroStrategy Intelligence Server through custom applications.",\n        "level": "project"\n      },\n      "sources": [\n        {\n          "direct": true\n        },\n        {\n          "direct": false,\n          "group": {\n            "name": "System Administrators",\n            "id": "5F3FAFE111D2D8CC6000CC8E67019608"\n          }\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:"Sample Response Code: 200"})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var c=i(96540);const s={},a=c.createContext(s);function r(e){const n=c.useContext(a);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),c.createElement(a.Provider,{value:n},e.children)}}}]);