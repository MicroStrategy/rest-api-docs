"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[100],{71101:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var r=t(74848),a=t(28453);const s={title:"Put a derived element in report",description:"This workflow sample demonstrates how to put a derived element in report using REST APIs."},i=void 0,o={id:"common-workflows/analytics/manage-reports/manage-report-objects/put-a-derived-element-in-report",title:"Put a derived element in report",description:"This workflow sample demonstrates how to put a derived element in report using REST APIs.",source:"@site/docs/common-workflows/analytics/manage-reports/manage-report-objects/put-a-derived-element-in-report.md",sourceDirName:"common-workflows/analytics/manage-reports/manage-report-objects",slug:"/common-workflows/analytics/manage-reports/manage-report-objects/put-a-derived-element-in-report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/put-a-derived-element-in-report",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/analytics/manage-reports/manage-report-objects/put-a-derived-element-in-report.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Put a derived element in report",description:"This workflow sample demonstrates how to put a derived element in report using REST APIs."},sidebar:"tutorialSidebar",previous:{title:"Execute report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/execute-report"},next:{title:"Retrieve applicable properties of a report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/retrieve-applicable-properties-of-a-report"}},l={},d=[{value:"Put a derived element in report",id:"put-a-derived-element-in-report",level:2},{value:"1. Create a report instance",id:"1-create-a-report-instance",level:3},{value:"2. Replace an existing derived element in report",id:"2-replace-an-existing-derived-element-in-report",level:3},{value:"3. Save the report instance",id:"3-save-the-report-instance",level:3},{value:"4. Delete the report instance",id:"4-delete-the-report-instance",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components},{Available:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{since:"2021 Update 7"}),"\n",(0,r.jsxs)(n.p,{children:["This workflow sample demonstrates how to replace an existing derived element in report. Please be noted that standalone derived element referred in report cannot be updated using this API. Please use ",(0,r.jsx)(n.code,{children:"PUT /api/model/derivedElements/{derivedElementId}"})," instead."]}),"\n",(0,r.jsx)(n.h2,{id:"put-a-derived-element-in-report",children:"Put a derived element in report"}),"\n",(0,r.jsxs)(n.p,{children:["You want to replace the existing derived element in report. The report object ID is ",(0,r.jsx)(n.code,{children:"9B9ADA7F464E63CE0D0B709B03BD9370"}),". The derived element object ID is ",(0,r.jsx)(n.code,{children:"610B9CC14AD9DCB69F094C89D3B5480B"}),". The project ID is ",(0,r.jsx)(n.code,{children:"B19DEDCC11D4E0EFC000EB9495D0F44F"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Obtain the authorization token needed to execute the request using ",(0,r.jsx)(n.code,{children:"POST /api/auth/login"}),". Obtain the project ID from ",(0,r.jsx)(n.code,{children:"GET /api/projects"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"A report instance is required for getting, creating, updating, deleting derived elements in report. A report instance maintains an indivisible group of creations or modifications on a report. It is similar to the changeset concept in Modeling service, but the scope is limited to report related objects."})}),"\n",(0,r.jsx)(n.h3,{id:"1-create-a-report-instance",children:"1. Create a report instance"}),"\n",(0,r.jsxs)(n.p,{children:["Endpoint: ",(0,r.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-createReportInstance",children:"POST /api/model/reports/{reportId}/instances"})]}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-ProjectID": "B19DEDCC11D4E0EFC000EB9495D0F44F"\nSample Request Body: Empty\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -X POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/9B9ADA7F464E63CE0D0B709B03BD9370/instances' -H 'accept: application/json' -H 'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch' -H 'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "id": "95DB57A54ACCCF292F0C0E9689EDF0A4"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Code: 201 (A new report instance is created successfully.)"}),"\n",(0,r.jsx)(n.h3,{id:"2-replace-an-existing-derived-element-in-report",children:"2. Replace an existing derived element in report"}),"\n",(0,r.jsxs)(n.p,{children:['The embedded elements in a derived element can be "list", "filter", "calculation" or "all_other". In this example, you are replacing the existing ',(0,r.jsx)(n.code,{children:"Region DE"}),' derived element with an embedded "list" element and an "all_other" element.']}),"\n",(0,r.jsxs)(n.p,{children:["Endpoint: ",(0,r.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-putReportDerivedElement",children:"PUT /api/model/reports/{reportId}/derivedElements/{derivedElementId}"})]}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Instance": "95DB57A54ACCCF292F0C0E9689EDF0A4"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For more details on how to set format properties, please refer to ",(0,r.jsx)(n.a,{href:"/rest-api-docs/common-workflows/modeling/manage-derived-element-objects/format-samples",children:"Format samples"}),"."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "name": "Replaced Region DE"\n  },\n  "attribute": {\n    "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n    "name": "Region"\n  },\n  "elements": [\n    {\n      "name": "offline",\n      "type": "list",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "this_element",\n        "subtotal": "this_element",\n        "includeIndividual": false\n      },\n      "text": "Mid-Atlantic, Northeast, Southeast, Northwest, Sourthwest, Central, South",\n      "elements": [\n        {\n          "display": "Mid-Atlantic",\n          "elementId": "h2"\n        },\n        {\n          "display": "Northeast",\n          "elementId": "h1"\n        },\n        {\n          "display": "Southeast",\n          "elementId": "h3"\n        },\n        {\n          "display": "Northwest",\n          "elementId": "h4"\n        },\n        {\n          "display": "Southwest",\n          "elementId": "h5"\n        },\n        {\n          "display": "Central",\n          "elementId": "h6"\n        },\n        {\n          "display": "South",\n          "elementId": "h7"\n        }\n      ]\n    },\n    {\n      "name": "Web",\n      "type": "all_other",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "individual_items",\n        "subtotal": "this_element"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X PUT \'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/9B9ADA7F464E63CE0D0B709B03BD9370/derivedElements/610B9CC14AD9DCB69F094C89D3B5480B\' -H "accept: application/json" -H \'X-MSTR-MS-Instance: 95DB57A54ACCCF292F0C0E9689EDF0A4\' -H \'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch\' -H \'Content-Type: application/json\' -d \'{\n  "information": {\n    "name": "Replaced Region DE"\n  },\n  "attribute": {\n    "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n    "name": "Region"\n  },\n  "elements": [\n    {\n      "name": "offline",\n      "type": "list",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "this_element",\n        "subtotal": "this_element",\n        "includeIndividual": false\n      },\n      "text": "Mid-Atlantic, Northeast, Southeast, Northwest, Sourthwest, Central, South",\n      "elements": [\n        {\n          "display": "Mid-Atlantic",\n          "elementId": "h2"\n        },\n        {\n          "display": "Northeast",\n          "elementId": "h1"\n        },\n        {\n          "display": "Southeast",\n          "elementId": "h3"\n        },\n        {\n          "display": "Northwest",\n          "elementId": "h4"\n        },\n        {\n          "display": "Southwest",\n          "elementId": "h5"\n        },\n        {\n          "display": "Central",\n          "elementId": "h6"\n        },\n        {\n          "display": "South",\n          "elementId": "h7"\n        }\n      ]\n    },\n    {\n      "name": "Web",\n      "type": "all_other",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "individual_items",\n        "subtotal": "this_element"\n      }\n    }\n  ]\n}\'\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Body: You can view the new derived element\u2019s definition in the body of the response."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "dateCreated": "2021-02-20T09:18:18.000Z",\n    "dateModified": "2021-02-20T09:40:14.000Z",\n    "versionId": "325929D9432F9D23C7CEDFA473E70D7F",\n    "primaryLocale": "en-US",\n    "objectId": "610B9CC14AD9DCB69F094C89D3B5480B",\n    "subType": "consolidation_element",\n    "name": "Replaced Region DE"\n  },\n  "attribute": {\n    "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n    "subType": "attribute",\n    "name": "Region"\n  },\n  "elements": [\n    {\n      "id": "26785E245237495E908D9F620F81E02F",\n      "name": "offline",\n      "type": "list",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "this_element",\n        "subtotal": "this_element",\n        "includeIndividual": false\n      },\n      "text": "Mid-Atlantic, Northeast, Southeast, Northwest, Southwest, Central, South",\n      "elements": [\n        {\n          "display": "Mid-Atlantic",\n          "elementId": "h2"\n        },\n        {\n          "display": "Northeast",\n          "elementId": "h1"\n        },\n        {\n          "display": "Southeast",\n          "elementId": "h3"\n        },\n        {\n          "display": "Northwest",\n          "elementId": "h4"\n        },\n        {\n          "display": "Southwest",\n          "elementId": "h5"\n        },\n        {\n          "display": "Central",\n          "elementId": "h6"\n        },\n        {\n          "display": "South",\n          "elementId": "h7"\n        }\n      ]\n    },\n    {\n      "id": "33686BC5418B4CFDAEC01298E5201E53",\n      "name": "Web",\n      "type": "all_other",\n      "format": {\n        "header": [],\n        "values": []\n      },\n      "options": {\n        "display": "individual_items",\n        "subtotal": "this_element"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Response Code: 201 (The derived element is replaced successfully in the report.)"}),"\n",(0,r.jsx)(n.h3,{id:"3-save-the-report-instance",children:"3. Save the report instance"}),"\n",(0,r.jsx)(n.p,{children:"The derived element will be saved together with report using save report instance API."}),"\n",(0,r.jsxs)(n.p,{children:["Endpoint: ",(0,r.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-saveReportInstance",children:"POST /api/model/reports/{reportId}/instances/save"})]}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Instance": "95DB57A54ACCCF292F0C0E9689EDF0A4"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -X POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/9B9ADA7F464E63CE0D0B709B03BD9370/instances/save' -H 'accept: application/json' -H 'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch' -H 'X-MSTR-MS-Instance: 95DB57A54ACCCF292F0C0E9689EDF0A4'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "objectId": "9B9ADA7F464E63CE0D0B709B03BD9370"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Code: 201 (The report is saved successfully.)"}),"\n",(0,r.jsx)(n.h3,{id:"4-delete-the-report-instance",children:"4. Delete the report instance"}),"\n",(0,r.jsxs)(n.p,{children:["Endpoint: ",(0,r.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-deleteReportInstance",children:"DELETE /api/model/reports/{reportId}/instances"})]}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Instance": "95DB57A54ACCCF292F0C0E9689EDF0A4"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Sample Request Body: Empty"}),"\n",(0,r.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -X DELETE 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/9B9ADA7F464E63CE0D0B709B03BD9370/instances' -H 'accept: */*' -H 'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch' -H 'X-MSTR-MS-Instance: 95DB57A54ACCCF292F0C0E9689EDF0A4'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Body: Empty"}),"\n",(0,r.jsx)(n.p,{children:"Sample Response Code: 204 (The report instance has been deleted successfully.)"})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var r=t(96540);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);