"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[4956],{24607:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var i=t(74848),o=t(28453);const s={title:"Modify a KPI object",description:"This workflow sample demonstrates how to modify a KPI object owned by a user."},a=void 0,d={id:"common-workflows/analytics/manage-insights/modify-kpi",title:"Modify a KPI object",description:"This workflow sample demonstrates how to modify a KPI object owned by a user.",source:"@site/docs/common-workflows/analytics/manage-insights/modify-kpi.md",sourceDirName:"common-workflows/analytics/manage-insights",slug:"/common-workflows/analytics/manage-insights/modify-kpi",permalink:"/rest-api-docs/common-workflows/analytics/manage-insights/modify-kpi",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/analytics/manage-insights/modify-kpi.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Modify a KPI object",description:"This workflow sample demonstrates how to modify a KPI object owned by a user."},sidebar:"tutorialSidebar",previous:{title:"Get KPI objects",permalink:"/rest-api-docs/common-workflows/analytics/manage-insights/get-kpi"},next:{title:"Delete a KPI object",permalink:"/rest-api-docs/common-workflows/analytics/manage-insights/delete-kpi"}},r={},c=[{value:"1. Get KPI id and project id",id:"1-get-kpi-id-and-project-id",level:2},{value:"2. Modify KPI",id:"2-modify-kpi",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components},{Available:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{since:"2021 Update 10"}),"\n",(0,i.jsx)(n.p,{children:"This workflow sample demonstrates how to modify a KPI object owned by a user."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Obtain the authorization token needed to execute the request using ",(0,i.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"1-get-kpi-id-and-project-id",children:"1. Get KPI id and project id"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/rest-api-docs/common-workflows/analytics/manage-insights/get-kpi#get-all-kpis",children:"Get KPIs for user"})," to get all KPIs that belong to a user."]}),"\n",(0,i.jsx)(n.p,{children:"From the response body, get the KPI ID and project ID of the KPI object that you want to modify."}),"\n",(0,i.jsx)(n.h2,{id:"2-modify-kpi",children:"2. Modify KPI"}),"\n",(0,i.jsxs)(n.p,{children:["Endpoint: ",(0,i.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Insight%20Engine%20-%20KPIs/modifyKPI",children:"PATCH /api/insight/KPIs/{id}"})]}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'"X-MSTR-AuthToken": "evvk84kcucn8abon6c1qfbud7"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,i.jsxs)(n.p,{children:["This API only supports ",(0,i.jsx)(n.code,{children:"name"})," and ",(0,i.jsx)(n.code,{children:"configString"})," modifications. See ",(0,i.jsx)(n.a,{href:"/rest-api-docs/common-workflows/analytics/manage-insights/get-kpi#kpi-fields-explanation",children:"KPI fields explanation"})," for detailed explanations of these two fields."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "name": "New KPI name",\n  "configString": "{\\"reversedPalette\\":false,\\"selectedDataCompare\\":\\"1d\\"}"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Replace ",(0,i.jsx)(n.code,{children:"{id}"})," in ",(0,i.jsx)(n.code,{children:"PATCH /api/insight/KPIs/{id}"})," with the KPI ID from ",(0,i.jsx)(n.code,{children:"step 1"}),"."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X \'PATCH\' \\\n  \'https://demo.microstrategy.com/MicroStrategyLibrary/api/insight/KPIs/BB3FD5B6AC410B389F2AEDB379856BED\' \\\n  -H \'accept: */*\' \\\n  -H \'X-MSTR-AuthToken: evvk84kcucn8abon6c1qfbud7\' \\\n  -H \'X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754\' \\\n  -d \'{\n    "name": "New KPI name",\n    "configString": "{\\"reversedPalette\\":false,\\"selectedDataCompare\\":\\"1d\\"}"\n}\'\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Response:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Response Code"}),(0,i.jsx)(n.th,{children:"Status"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"KPI deleted successfully."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"404"}),(0,i.jsx)(n.td,{children:"Cannot find the KPI object with given id and project id."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"400"}),(0,i.jsx)(n.td,{children:"Error in modifying KPI, e.g., another KPI object with same name already exists."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"Sample Response Body on success:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "6769BB1E41AEB9B14008B5A0F205E6C2",\n  "name": "New KPI name",\n  "dateCreated": "2023-02-28T09:03:23.792Z",\n  "dateModified": "2023-02-28T09:28:52.865Z",\n  "schedule": {\n    "id": "CA5683F942AD1F8529627D945B254A4A",\n    "name": null,\n    "recurrenceIntervalInHour": 1\n  },\n  "content": {\n    "id": "859CD270446ABFB6F7DDC5AD4481EE78",\n    "type": 55,\n    "name": "Test1"\n  },\n  "configString": "{\\"reversedPalette\\":false,\\"selectedDataCompare\\":\\"1d\\"}",\n  "disabled": false,\n  "bookmarkId": "910B225245513DA9617A0A9FFC8E1E0E",\n  "subscriptionId": "75D225054A4A9A528D0B2DB98FDE5E85",\n  "kpiTarget": {\n    "chapterKey": "K36",\n    "pageKey": "K53",\n    "nodeKey": "K52",\n    "kpiObjects": [\n      {\n        "id": "7FD5B69611D5AC76C000D98A4CC5F24F",\n        "type": 4,\n        "name": "Cost"\n      }\n    ],\n    "elements": []\n  },\n  "hashInfo": {\n    "defn": {\n      "id": "f352e1353fc90cc4df89debd4d36c9dee48e7882a650f9b761c921e196a8302f",\n      "validUntil": null\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Response Body on Error:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "code": "-2147217373",\n  "message": "(An object with name \'New KPI name\' and type \'KPI\' already exists in the destination folder.)"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var i=t(96540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);