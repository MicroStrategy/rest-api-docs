"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[9281],{25214:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var t=n(74848),r=n(28453);const a={title:"Update job priorities for datasource",description:"This workflow sample demonstrates how to update job priorities for a datasource."},i=void 0,s={id:"common-workflows/administration/datasource-management/update-job-priorities-for-datasource",title:"Update job priorities for datasource",description:"This workflow sample demonstrates how to update job priorities for a datasource.",source:"@site/docs/common-workflows/administration/datasource-management/update-job-priorities-for-datasource.md",sourceDirName:"common-workflows/administration/datasource-management",slug:"/common-workflows/administration/datasource-management/update-job-priorities-for-datasource",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/update-job-priorities-for-datasource",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/administration/datasource-management/update-job-priorities-for-datasource.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Update job priorities for datasource",description:"This workflow sample demonstrates how to update job priorities for a datasource."},sidebar:"tutorialSidebar",previous:{title:"Add and remove datasource from project",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/add-and-remove-datasource-from-project"},next:{title:"Delete a datasource",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/delete-a-datasource"}},d={},c=[{value:"Get job prioritization info for a database source",id:"get-job-prioritization-info-for-a-database-source",level:2},{value:"Update job prioritization info for a database source",id:"update-job-prioritization-info-for-a-database-source",level:2}];function l(e){const o={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.p,{children:"This workflow sample demonstrates how to update job priorities for a datasource."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"#get-job-prioritization-info-for-a-database-source",children:"Get job prioritization info for a database source."})," ",(0,t.jsx)(o.code,{children:"GET /api/datasources/{datasourceId}/jobPriorities"})]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"#update-job-prioritization-info-for-a-database-source",children:"Update job prioritization info for a database source."})," ",(0,t.jsx)(o.code,{children:"PATCH /api/datasources/{datasourceId}/jobPriorities"})]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"A detailed description of each step of this request is listed down below."}),"\n",(0,t.jsx)(o.h2,{id:"get-job-prioritization-info-for-a-database-source",children:"Get job prioritization info for a database source"}),"\n",(0,t.jsxs)(o.p,{children:["Endpoint: ",(0,t.jsx)(o.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/getJobPrioritization",children:"GET /api/datasources/{datasourceId}/jobPriorities"})]}),"\n",(0,t.jsxs)(o.p,{children:["This endpoint allows the caller to get job prioritization info for a specific database source with the MicroStrategy REST Server. You use the authorization token returned during login as the value for ",(0,t.jsx)(o.code,{children:"X-MSTR-AuthToken"}),". You can find the datasourceId using the endpoint ",(0,t.jsx)(o.code,{children:"GET /api/datasources"}),". If the call is successful, the resulting HTTP response returns an HTTP status code 200 and a response body containing info regarding the job priorities for the datasource."]}),"\n",(0,t.jsx)(o.p,{children:"Sample Request"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Request Headers"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-http",children:"'X-MSTR-AuthToken: nllmm5lpmkjdsj4d4etgdikc6c'\n"})}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Request Body: Empty"}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Curl"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"curl --location -g --request GET 'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasources/{{datasourceId}}/jobPriorities' \\\n--header 'X-MSTR-AuthToken: nllmm5lpmkjdsj4d4etgdikc6c'\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Sample Response"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Response Body"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-json",children:'{\n  "name": "Warehouse",\n  "lowerBound": 0,\n  "upperBound": 0,\n  "threadCount": 0,\n  "maxThreadCount": -1,\n  "minThreadCount": -1,\n  "jobQueues": [\n    {\n      "name": "HIGH",\n      "lowerBound": 0,\n      "upperBound": 333,\n      "threadCount": 0,\n      "maxThreadCount": 2,\n      "minThreadCount": 2,\n      "jobQueues": [],\n      "members": {\n        "elements": [],\n        "defaultPriority": -1\n      }\n    },\n    {\n      "name": "MEDIUM",\n      "lowerBound": 333,\n      "upperBound": 667,\n      "threadCount": 0,\n      "maxThreadCount": 2,\n      "minThreadCount": 2,\n      "jobQueues": [],\n      "members": {\n        "elements": [],\n        "defaultPriority": -1\n      }\n    },\n    {\n      "name": "LOW",\n      "lowerBound": 667,\n      "upperBound": 1000,\n      "threadCount": 0,\n      "maxThreadCount": 2,\n      "minThreadCount": 2,\n      "jobQueues": [],\n      "members": {\n        "elements": [],\n        "defaultPriority": -1\n      }\n    }\n  ],\n  "members": {\n    "elements": [],\n    "defaultPriority": -1\n  }\n}\n'})}),"\n",(0,t.jsx)(o.p,{children:"Sample Response Code: 200 (Get job priorities.)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"update-job-prioritization-info-for-a-database-source",children:"Update job prioritization info for a database source"}),"\n",(0,t.jsxs)(o.p,{children:["Endpoint: ",(0,t.jsx)(o.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/updateJobPrioritization",children:"PATCH /api/datasources/{datasourceId}/jobPriorities"})]}),"\n",(0,t.jsxs)(o.p,{children:["This endpoint allows the caller to update job prioritization info for a specific database source with the MicroStrategy REST Server. You use the authorization token returned during login as the value for ",(0,t.jsx)(o.code,{children:"X-MSTR-AuthToken"}),". You can find the datasourceId using the endpoint ",(0,t.jsx)(o.code,{children:"GET /api/datasources"}),". If the call is successful, the resulting HTTP response returns an HTTP status code 204 and a empty response body."]}),"\n",(0,t.jsx)(o.p,{children:"Sample Request"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Request Headers"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-http",children:"'Accept: application/json'\n'X-MSTR-AuthToken: nllmm5lpmkjdsj4d4etgdikc6c'\n"})}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Request Body"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-json",children:'{\n  "operationList": [\n    {\n      "op": "replace",\n      "path": "/jobQueues/HIGH/threadCount",\n      "value": 8\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Curl"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:'curl --location -g --request PATCH \'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasources/{{datasourceId}}/jobPriorities\' \\\n--header \'X-MSTR-AuthToken: nllmm5lpmkjdsj4d4etgdikc6c\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n"operationList": [\n                    {\n                        "op": "replace",\n                        "path": "/jobQueues/HIGH/threadCount",\n                        "value": 8\n                    }\n                ]\n}\'\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"Sample Response"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Response Body: Empty Sample Response Code: 201 (Update job priorities for datasource.)"}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>s});var t=n(96540);const r={},a=t.createContext(r);function i(e){const o=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:o},e.children)}}}]);