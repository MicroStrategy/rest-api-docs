"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[6528],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=s(n),u=o,b=m["".concat(l,".").concat(u)]||m[u]||d[u]||i;return n?a.createElement(b,r(r({ref:t},c),{},{components:n})):a.createElement(b,r({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:o,r[1]=p;for(var s=2;s<i;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},69689:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return m}});var a,o=n(83117),i=n(80102),r=(n(67294),n(3905)),p=["components"],l={title:"Update a partition mapping table's definition",sidebar_label:"Update a partition mapping table's definition",description:"This workflow sample demonstrates how to update an existing partition mapping table through the Modeling service."},s=void 0,c={unversionedId:"common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition",id:"common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition",title:"Update a partition mapping table's definition",description:"This workflow sample demonstrates how to update an existing partition mapping table through the Modeling service.",source:"@site/docs/common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition.md",sourceDirName:"common-workflows/modeling/manage-table-objects",slug:"/common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition",permalink:"/rest-api-docs/common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/modeling/manage-table-objects/update-a-partition-mapping-tables-definition.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1680880277,formattedLastUpdatedAt:"Apr 7, 2023",frontMatter:{title:"Update a partition mapping table's definition",sidebar_label:"Update a partition mapping table's definition",description:"This workflow sample demonstrates how to update an existing partition mapping table through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Create a new partition mapping table object",permalink:"/rest-api-docs/common-workflows/modeling/manage-table-objects/create-a-new-partition-mapping-table-object"},next:{title:"Manage transformation objects",permalink:"/rest-api-docs/common-workflows/modeling/manage-transformation-objects/"}},d={},m=[{value:"Update a WHPM table",id:"update-a-whpm-table",level:2},{value:"Update a MDPM table",id:"update-a-mdpm-table",level:2}],u=(a="Available",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)}),b={toc:m};function f(e){var t=e.components,n=(0,i.Z)(e,p);return(0,r.kt)("wrapper",(0,o.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(u,{since:"2021 Update 9",mdxType:"Available"}),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can try this workflow with ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-43769ee1-7480-4413-990a-13b50119b384"},"REST API Playground"),"."),(0,r.kt)("p",{parentName:"admonition"},"Learn more about MicroStrategy REST API Playground ",(0,r.kt)("a",{parentName:"p",href:"/rest-api-docs/getting-started/playground"},"here"),".")),(0,r.kt)("p",null,"This workflow sample demonstrates how to update an existing partition mapping table object through the Modeling service. Both warehouse partition mapping (WHPM) and metadata partition mapping (MDPM) are supported. Refer to ",(0,r.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/modeling/manage-table-objects/retrieve-a-partition-mapping-tables-definition"},"Retrieve a partition mapping table's definition")," for a brief introduction of partition mapping."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Get the authorization token needed to execute the request with ","[POST /api/auth/login]","(",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"),"."),(0,r.kt)("p",{parentName:"admonition"},"Changesets are used in this workflow. For information on how to create and use changesets, see ",(0,r.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/modeling/changesets"},"Changesets"),".")),(0,r.kt)("h2",{id:"update-a-whpm-table"},"Update a WHPM table"),(0,r.kt)("p",null,"Updating a WHPM table is the same as updating a normal table, you cannot update partition tables. Refer to ",(0,r.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/modeling/manage-table-objects/update-a-tables-definition"},"Update a table's definition")," for details."),(0,r.kt)("h2",{id:"update-a-mdpm-table"},"Update a MDPM table"),(0,r.kt)("p",null,"For a metadata partition mapping tables, you can update the logical table name in the information field, logicalSize, isLogicalSizeLocked, and partition base tables. You can also update their partition filters in partitionTables field."),(0,r.kt)("p",null,"Update an MDPM table with ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Tables/ms-patchTableDetails"},"PATCH /api/model/tables/{tableId}"),"."),(0,r.kt)("p",null,"Sample Request Header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "ns42kvi9lb36ae7g3scphn0ga9"\n"X-MSTR-MS-Changeset": "8DF1659E9D74484D9D47B9478D4C7D00"\n')),(0,r.kt)("p",null,"Sample Request Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "partitionTables": [\n    {\n      "information": {\n        "objectId": "29FD5283476B99E55016208A088328C6",\n        "subType": "logical_table",\n        "name": "pbt1"\n      },\n      "partitionFilter": {\n        "qualification": {\n          "text": "IsNotNull(Customer (ID))",\n          "tree": {\n            "type": "predicate_form_qualification",\n            "predicateId": "5EF6F6AF16844F2AA2B8966C0A3882CE",\n            "predicateText": "IsNotNull(Customer (ID))",\n            "predicateTree": {\n              "function": "is_not_null",\n              "parameters": [],\n              "attribute": {\n                "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Customer"\n              },\n              "form": {\n                "objectId": "45C11FA478E745FEA08D781CEA190FE5",\n                "subType": "attribute_form_system",\n                "name": "ID"\n              },\n              "dataLocale": ""\n            }\n          }\n        }\n      }\n    },\n    {\n      "information": {\n        "objectId": "061F17C1443E1D56F3F0C4BC33CA54A7",\n        "subType": "logical_table",\n        "name": "pbt2"\n      },\n      "partitionFilter": {\n        "qualification": {\n          "text": "IsNotNull({Call Center} (ID))",\n          "tree": {\n            "type": "predicate_form_qualification",\n            "predicateId": "BFBFE373FF7C4C07877F446647EC5919",\n            "predicateText": "IsNotNull({Call Center} (ID))",\n            "predicateTree": {\n              "function": "is_not_null",\n              "parameters": [],\n              "attribute": {\n                "objectId": "8D679D3511D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Call Center"\n              },\n              "form": {\n                "objectId": "45C11FA478E745FEA08D781CEA190FE5",\n                "subType": "attribute_form_system",\n                "name": "ID"\n              },\n              "dataLocale": ""\n            }\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,r.kt)("p",null,"Sample Curl:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X PATCH "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/tables" -H "accept: application/json" -H "X-MSTR-AuthToken: ns42kvi9lb36ae7g3scphn0ga9" -H "X-MSTR-MS-Changeset: 8DF1659E9D74484D9D47B9478D4C7D00" -H "Content-Type: application/json" --data-raw "{ \\"partitionTables\\": [ { \\"information\\": { \\"objectId\\": \\"29FD5283476B99E55016208A088328C6\\", \\"subType\\": \\"logical_table\\", \\"name\\": \\"pbt1\\" }, \\"partitionFilter\\": { \\"qualification\\": { \\"text\\": \\"IsNotNull(Customer (ID))\\", \\"tree\\": { \\"type\\": \\"predicate_form_qualification\\", \\"predicateId\\": \\"5EF6F6AF16844F2AA2B8966C0A3882CE\\", \\"predicateText\\": \\"IsNotNull(Customer (ID))\\", \\"predicateTree\\": { \\"function\\": \\"is_not_null\\", \\"parameters\\": [], \\"attribute\\": { \\"objectId\\": \\"8D679D3C11D3E4981000E787EC6DE8A4\\", \\"subType\\": \\"attribute\\", \\"name\\": \\"Customer\\" }, \\"form\\": { \\"objectId\\": \\"45C11FA478E745FEA08D781CEA190FE5\\", \\"subType\\": \\"attribute_form_system\\", \\"name\\": \\"ID\\" }, \\"dataLocale\\": \\"\\" } } } } }, { \\"information\\": { \\"objectId\\": \\"061F17C1443E1D56F3F0C4BC33CA54A7\\", \\"subType\\": \\"logical_table\\", \\"name\\": \\"pbt2\\" }, \\"partitionFilter\\": { \\"qualification\\": { \\"text\\": \\"IsNotNull({Call Center} (ID))\\", \\"tree\\": { \\"type\\": \\"predicate_form_qualification\\", \\"predicateId\\": \\"BFBFE373FF7C4C07877F446647EC5919\\", \\"predicateText\\": \\"IsNotNull({Call Center} (ID))\\", \\"predicateTree\\": { \\"function\\": \\"is_not_null\\", \\"parameters\\": [], \\"attribute\\": { \\"objectId\\": \\"8D679D3511D3E4981000E787EC6DE8A4\\", \\"subType\\": \\"attribute\\", \\"name\\": \\"Call Center\\" }, \\"form\\": { \\"objectId\\": \\"45C11FA478E745FEA08D781CEA190FE5\\", \\"subType\\": \\"attribute_form_system\\", \\"name\\": \\"ID\\" }, \\"dataLocale\\": \\"\\" } } } } } ] }"\n')),(0,r.kt)("p",null,"Sample Response Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "dateCreated": "2022-12-20T02:21:00.460Z",\n    "dateModified": "2022-12-20T02:21:00.460Z",\n    "versionId": "B3613AF745A36461929679A53499B789",\n    "acg": 255,\n    "primaryLocale": "en-US",\n    "objectId": "6CAD01FB2E2841C081AD71418FA6EA48",\n    "subType": "table_partition_md",\n    "name": "PMT"\n  },\n  "logicalSize": 10,\n  "isLogicalSizeLocked": false,\n  "partitionLevel": [\n    {\n      "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n      "subType": "attribute",\n      "name": "Customer"\n    },\n    {\n      "objectId": "8D679D3511D3E4981000E787EC6DE8A4",\n      "subType": "attribute",\n      "name": "Call Center"\n    }\n  ],\n  "partitionTables": [\n    {\n      "information": {\n        "dateCreated": "2022-12-01T06:39:42.000Z",\n        "dateModified": "2022-12-20T02:21:00.460Z",\n        "versionId": "B3613AF745A36461929679A53499B789",\n        "acg": 255,\n        "primaryLocale": "en-US",\n        "objectId": "29FD5283476B99E55016208A088328C6",\n        "subType": "logical_table",\n        "name": "pbt1"\n      },\n      "partitionLevel": [\n        {\n          "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Customer"\n        }\n      ],\n      "partitionFilter": {\n        "qualification": {\n          "text": "IsNotNull(Customer (ID))",\n          "tree": {\n            "type": "predicate_form_qualification",\n            "predicateId": "724BE116A01F4A2292D779E1115995F7",\n            "predicateText": "IsNotNull(Customer (ID))",\n            "predicateTree": {\n              "function": "is_not_null",\n              "parameters": [],\n              "attribute": {\n                "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Customer"\n              },\n              "form": {\n                "objectId": "45C11FA478E745FEA08D781CEA190FE5",\n                "subType": "attribute_form_system",\n                "name": "ID"\n              },\n              "dataLocale": ""\n            }\n          }\n        }\n      }\n    },\n    {\n      "information": {\n        "dateCreated": "2022-12-01T06:47:05.000Z",\n        "dateModified": "2022-12-20T02:21:00.460Z",\n        "versionId": "B3613AF745A36461929679A53499B789",\n        "acg": 255,\n        "primaryLocale": "en-US",\n        "objectId": "061F17C1443E1D56F3F0C4BC33CA54A7",\n        "subType": "logical_table",\n        "name": "pbt2"\n      },\n      "partitionLevel": [\n        {\n          "objectId": "8D679D3511D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Call Center"\n        }\n      ],\n      "partitionFilter": {\n        "qualification": {\n          "text": "IsNotNull({Call Center} (ID))",\n          "tree": {\n            "type": "predicate_form_qualification",\n            "predicateId": "34DC6E237A4441379239AFEABC2822A2",\n            "predicateText": "IsNotNull({Call Center} (ID))",\n            "predicateTree": {\n              "function": "is_not_null",\n              "parameters": [],\n              "attribute": {\n                "objectId": "8D679D3511D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Call Center"\n              },\n              "form": {\n                "objectId": "45C11FA478E745FEA08D781CEA190FE5",\n                "subType": "attribute_form_system",\n                "name": "ID"\n              },\n              "dataLocale": ""\n            }\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,r.kt)("p",null,"Response Code: 200 (The MDPM table is updated successfully in the changeset.)"))}f.isMDXComponent=!0}}]);