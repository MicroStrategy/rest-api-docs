"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[852],{3905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var i=a.createContext({}),s=function(t){var e=a.useContext(i),n=e;return t&&(n="function"==typeof t?t(e):p(p({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(i.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,i=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),d=s(n),c=r,k=d["".concat(i,".").concat(c)]||d[c]||u[c]||l;return n?a.createElement(k,p(p({ref:e},m),{},{components:n})):a.createElement(k,p({ref:e},m))}));function c(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,p=new Array(l);p[0]=d;var o={};for(var i in e)hasOwnProperty.call(e,i)&&(o[i]=e[i]);o.originalType=t,o.mdxType="string"==typeof t?t:r,p[1]=o;for(var s=2;s<l;s++)p[s]=n[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4722:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=n(3117),r=n(102),l=(n(7294),n(3905)),p=["components"],o={title:"Level prompts",description:"The level prompt is one of the most popular prompt types. It allows callers to specify the calculation level of a metric. For example, users can define a level prompt at the country level and apply it to a cost fact, as shown below, to generate a new **Cost_Level_Prompt** metric that aggregates the sum of **Cost** at the country level."},i=void 0,s={unversionedId:"common-workflows/use-prompts-objects/prompt-types/level-prompts",id:"common-workflows/use-prompts-objects/prompt-types/level-prompts",title:"Level prompts",description:"The level prompt is one of the most popular prompt types. It allows callers to specify the calculation level of a metric. For example, users can define a level prompt at the country level and apply it to a cost fact, as shown below, to generate a new **Cost_Level_Prompt** metric that aggregates the sum of **Cost** at the country level.",source:"@site/docs/common-workflows/use-prompts-objects/prompt-types/level-prompts.md",sourceDirName:"common-workflows/use-prompts-objects/prompt-types",slug:"/common-workflows/use-prompts-objects/prompt-types/level-prompts",permalink:"/rest-api-docs/common-workflows/use-prompts-objects/prompt-types/level-prompts",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/use-prompts-objects/prompt-types/level-prompts.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1665689550,formattedLastUpdatedAt:"Oct 13, 2022",frontMatter:{title:"Level prompts",description:"The level prompt is one of the most popular prompt types. It allows callers to specify the calculation level of a metric. For example, users can define a level prompt at the country level and apply it to a cost fact, as shown below, to generate a new **Cost_Level_Prompt** metric that aggregates the sum of **Cost** at the country level."},sidebar:"tutorialSidebar",previous:{title:"Hierarchy qualification prompts",permalink:"/rest-api-docs/common-workflows/use-prompts-objects/prompt-types/hierarchy-qualification-prompts"},next:{title:"Prompt execution errors",permalink:"/rest-api-docs/common-workflows/use-prompts-objects/prompt-execution-errors"}},m={},u=[{value:"Answer a level prompt",id:"answer-a-level-prompt",level:2},{value:"Get the level prompt&#39;s available answers",id:"get-the-level-prompts-available-answers",level:2},{value:"Get the level prompt&#39;s definition",id:"get-the-level-prompts-definition",level:2}],d={toc:u};function c(t){var e=t.components,o=(0,r.Z)(t,p);return(0,l.kt)("wrapper",(0,a.Z)({},d,o,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"The level prompt is one of the most popular prompt types. It allows callers to specify the calculation level of a metric. For example, users can define a level prompt at the country level and apply it to a cost fact, as shown below, to generate a new ",(0,l.kt)("strong",{parentName:"p"},"Cost_Level_Prompt")," metric that aggregates the sum of ",(0,l.kt)("strong",{parentName:"p"},"Cost")," at the country level."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"level_prompt",src:n(9093).Z,width:"918",height:"308"})),(0,l.kt)("p",null,"Use REST APIs to perform the following actions on level prompts:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#answer-a-level-prompt"},"Answer a level prompt")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#get-the-level-prompts-available-answers"},"Get the level prompt's available answers")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#get-the-level-prompts-definition"},"Get the level prompt's definition"))),(0,l.kt)("h2",{id:"answer-a-level-prompt"},"Answer a level prompt"),(0,l.kt)("p",null,"Use the following REST APIs to answer a level prompt for a report, document, or dossier:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Reports"),(0,l.kt)("p",{parentName:"li"},"PUT ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/reports/{id}/instances/{instanceId}/prompts/answers"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Documents or Dossiers"),(0,l.kt)("p",{parentName:"li"},"PUT ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/documents/{id}/instances/{instanceId}/prompts/answers")))),(0,l.kt)("p",null,"All available parameters for the prompt definition are shown below."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Location"),(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"X-MSTR-AuthToken"),(0,l.kt)("td",{parentName:"tr",align:null},"The authorization token"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"project id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the project"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the report, document, or dossier"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"instance id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the instance"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")))),(0,l.kt)("p",null,"The sample code below answers a level prompt."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "prompts": [\n    {\n      "key": "753C65EB402C44D3A991F285D3CB7F6D@0@10",\n      "type": "LEVEL", // Required\n      "answers": {\n        "canContinue": true, // Optional, default value:  true\n        "filterRest": true, // Optional, default value:  true\n        "units": [\n          {\n            "id": "15969E6C4B5037A647A7F9AF80EAAB53",\n            "type": "DEFAULT", // Optional, default value:  "DEFAULT"\n            "filtering": "STANDARD", // Optional, default value:  "STANDARD"\n            "groupBy": true, // Optional, default value:  true\n            "grouping": "STANDARD" // Optional, default value:  "STANDARD"\n          }\n        ]\n      }\n    }\n  ]\n}\n')),(0,l.kt)("h2",{id:"get-the-level-prompts-available-answers"},"Get the level prompt's available answers"),(0,l.kt)("p",null,"Use the following REST APIs to get a level prompt's available answers for a report, document, or dossier:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Reports"),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/reports/{id}/instances/{instanceId}/prompts/{id}/objects"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Documents or Dossiers"),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/documents/{id}/instances/{instanceId}/prompts/{id}/objects")))),(0,l.kt)("p",null,"All available parameters for getting the level prompt's available answers are shown below."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Location"),(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Data Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"X-MSTR-AuthToken"),(0,l.kt)("td",{parentName:"tr",align:null},"The authorization token."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"project id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the project."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"report id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the report."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"instance id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the instance."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"prompt id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the prompt."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"offset"),(0,l.kt)("td",{parentName:"tr",align:null},"Returns the element beginning at this offset in the list. This value is zero-based and the default is zero."),(0,l.kt)("td",{parentName:"tr",align:null},"int")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"limit"),(0,l.kt)("td",{parentName:"tr",align:null},"Limits the number of matching elements returned. The default value is 1000. Enter -1 to use unlimited numbers. The max value is Integer.Max."),(0,l.kt)("td",{parentName:"tr",align:null},"int")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"search pattern"),(0,l.kt)("td",{parentName:"tr",align:null},"Sets a search pattern for level prompt answer searches. The search pattern can be used for search keywords."),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"The sample code below gets the level prompt's available answers."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "objects": [\n    {\n      "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n      "name": "Year",\n      "type": "ATTRIBUTE"\n    },\n    {\n      "id": "C11D3E4981000E8D679D3787EC6DE8A4",\n      "name": "Hierarchy Account",\n      "type": "DIMENSION"\n    }\n  ]\n}\n')),(0,l.kt)("h2",{id:"get-the-level-prompts-definition"},"Get the level prompt's definition"),(0,l.kt)("p",null,"Use the following REST APIs to get a the level prompt's definition for a report, document, or dossier:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Reports"),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/reports/{id}/prompts")),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/reports/{id}/instances/{instanceId}/prompts"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Documents or Dossiers"),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/documents/{id}/prompts")),(0,l.kt)("p",{parentName:"li"},"GET ",(0,l.kt)("inlineCode",{parentName:"p"},"/api/documents/{id}/instances/{instanceId}/prompts")))),(0,l.kt)("p",null,"All available parameters for getting the level prompt's definition are shown below."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Location"),(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"X-MSTR-AuthToken"),(0,l.kt)("td",{parentName:"tr",align:null},"The authorization token."),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"header"),(0,l.kt)("td",{parentName:"tr",align:null},"project id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the project."),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the report, document, or dossier."),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"instance id"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the instance."),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query"),(0,l.kt)("td",{parentName:"tr",align:null},"closed"),(0,l.kt)("td",{parentName:"tr",align:null},"Filter the closed field by this parameter. If this value is null the filter does nothing."),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"The sample code below gets the level prompt's definition."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},' {\n    "key": "12FF3D5D43A6A17E8847FB9304FEA1E1@0@10",\n    "name": "Choose from a list of attributes/hierarchies to define level.",\n    "title": "Choose from a list of attributes/hierarchies to define level.",,\n    "type": "LEVEL",\n    "closed": false,\n    "required": true,\n    "max": 2,\n    "min": 1,\n    "defaultAnswer": {\n      "canContinue": true,           // Allow other users to add extra units to this definition\n        "filterRest": true,            // Filter setting: uncheck to exclude attributes absent in report or level(dimensionality)\n        "units":[{\n            "name": "year",\n            "id": "15969E6C4B5037A647A7F9AF80EAAB53",\n            "type": "ATTRIBUTE",\n            "filtering": "STANDARD",\n            "groupBy": true,\n            "grouping": "STANDARD"\n        }]\n    },\n    "answers":{\n      "canContinue": true,\n        "filterRest": true,\n        "units":[{\n            "name": "Report Level",\n            "id": "-4",\n            "type": "DEFAULT",\n            "filtering": "STANDARD",\n            "groupBy": true,\n            "grouping": "STANDARD"\n        }]\n    },\n  }\n')))}c.isMDXComponent=!0},9093:function(t,e,n){e.Z=n.p+"assets/images/level_prompt-3ae9c5f11e6d143fe4d09b096bef99b4.png"}}]);