"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[6414],{13664:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=t(74848),a=t(28453);const i={title:"Update the definition of an existing report",description:"You can use REST APIs to update an existing report object through Modeling service."},o=void 0,s={id:"common-workflows/analytics/manage-reports/manage-report-objects/update-the-definition-of-an-existing-report",title:"Update the definition of an existing report",description:"You can use REST APIs to update an existing report object through Modeling service.",source:"@site/docs/common-workflows/analytics/manage-reports/manage-report-objects/update-the-definition-of-an-existing-report.md",sourceDirName:"common-workflows/analytics/manage-reports/manage-report-objects",slug:"/common-workflows/analytics/manage-reports/manage-report-objects/update-the-definition-of-an-existing-report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/update-the-definition-of-an-existing-report",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/analytics/manage-reports/manage-report-objects/update-the-definition-of-an-existing-report.md",tags:[],version:"current",lastUpdatedBy:"wangrenhang",lastUpdatedAt:1711017072,formattedLastUpdatedAt:"Mar 21, 2024",frontMatter:{title:"Update the definition of an existing report",description:"You can use REST APIs to update an existing report object through Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Create a new report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/create-a-new-report"},next:{title:"Retrieve a derived element's definition in report",permalink:"/rest-api-docs/common-workflows/analytics/manage-reports/manage-report-objects/retrieve-a-derived-elements-definition-in-report"}},d={},l=[{value:"Update the definition of an existing report",id:"update-the-definition-of-an-existing-report",level:2},{value:"1. Create a report instance",id:"1-create-a-report-instance",level:3},{value:"2. Update an existing report",id:"2-update-an-existing-report",level:3},{value:"3. Save the report instance",id:"3-save-the-report-instance",level:3},{value:"4. Delete the report instance",id:"4-delete-the-report-instance",level:3}];function p(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...n.components},{Available:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{since:"2021 Update 7"}),"\n",(0,r.jsx)(e.p,{children:"You can use REST APIs to update an existing report object through Modeling service."}),"\n",(0,r.jsx)(e.h2,{id:"update-the-definition-of-an-existing-report",children:"Update the definition of an existing report"}),"\n",(0,r.jsxs)(e.p,{children:['In this sample workflow, we want to update an existing report object "New Normal Report" (report ID: ',(0,r.jsx)(e.code,{children:"FB7816D149C8AC0573CC55829E56F217"}),') in project "Microstrategy Tutorial" (project ID: ',(0,r.jsx)(e.code,{children:"B19DEDCC11D4E0EFC000EB9495D0F44F"}),"), we have just created it in Workflow Sample: Create a New Report."]}),"\n",(0,r.jsxs)(e.admonition,{type:"info",children:[(0,r.jsxs)(e.p,{children:["Obtain the authorization token needed to execute the request using POST ",(0,r.jsx)(e.code,{children:"/api/auth/login"}),"."]}),(0,r.jsxs)(e.p,{children:["Obtain the project ID from GET ",(0,r.jsx)(e.code,{children:"/api/projects"}),"."]})]}),"\n",(0,r.jsx)(e.h3,{id:"1-create-a-report-instance",children:"1. Create a report instance"}),"\n",(0,r.jsx)(e.admonition,{type:"info",children:(0,r.jsx)(e.p,{children:"A report instance is required for getting, creating, updating the report as well as report\u2019s derived elements. A report instance maintains an indivisible group of creations or modifications on a report. It is similar to the changeset concept in Modeling service, but the scope is limited to report related objects."})}),"\n",(0,r.jsxs)(e.p,{children:["Endpoint: ",(0,r.jsx)(e.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-createReportInstance",children:"POST /api/model/reports/{reportId}/instances"})]}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "vslb4k2o4api370rf2jq2htbm2"\n"X-MSTR-ProjectID": "B19DEDCC11D4E0EFC000EB9495D0F44F"\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Body: Empty"}),"\n",(0,r.jsx)(e.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"curl -X POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/FB7816D149C8AC0573CC55829E56F217/instances' -H 'accept: application/json' -H 'X-MSTR-AuthToken: vslb4k2o4api370rf2jq2htbm2' -H 'X-MSTR-ProjectId: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Body:"}),"\n",(0,r.jsxs)(e.p,{children:['We can get the report instance ID named "X-MSTR-MS-Instance" from the response header, which is ',(0,r.jsx)(e.code,{children:"25114D344481A2EA0400A1AD21450BED"}),', the same as the "id" field in the response body. The report instance ID will be used in the next few steps to hold the report changes and save them into the metadata.']}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "id": "25114D344481A2EA0400A1AD21450BED"\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Code: 201 (A new report instance is created successfully)"}),"\n",(0,r.jsx)(e.h3,{id:"2-update-an-existing-report",children:"2. Update an existing report"}),"\n",(0,r.jsx)(e.p,{children:'User can provide "information", "sourceType", "dataSource", "grid", "timezone" and "advancedProperties" in the request body, for the fields not given, they will not be updated. For detailed explanations of each fields, please refer Workflow Sample: Create a New Report .'}),"\n",(0,r.jsx)(e.p,{children:"For the report existed in the metadata, the information field can only change description part. The sourceType cannot be updated to another type."}),"\n",(0,r.jsxs)(e.p,{children:["Endpoint: ",(0,r.jsx)(e.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-putReport",children:"POST /api/model/reports/{reportId}"})]}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "vslb4k2o4api370rf2jq2htbm2"\n"X-MSTR-MS-Instance": "25114D344481A2EA0400A1AD21450BED"\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Body:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "information": {\n    "description": "Here is an example description."\n  },\n  "sourceType": "normal",\n  "dataSource": {\n    "dataTemplate": {\n      "units": [\n        {\n          "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n          "name": "Customer",\n          "type": "attribute"\n        },\n        {\n          "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n          "name": "Customer Age",\n          "type": "attribute"\n        },\n        {\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "name": "Region",\n          "type": "attribute",\n          "limit": {\n            "text": "{Regions}",\n            "tree": {\n              "type": "reference",\n              "target": {\n                "objectId": "1DAD64C6445BCD938F11FFAEC3A4A980",\n                "subType": "consolidation_element",\n                "name": "Regions"\n              }\n            }\n          }\n        },\n        {\n          "type": "metrics",\n          "elements": [\n            {\n              "id": "82156AB211D40978C000C7906B98494F",\n              "name": "Count of Customers",\n              "subType": "metric"\n            },\n            {\n              "id": "4C05177F11D3E877C000B3B2D86C964F",\n              "name": "Avg Revenue per Customer",\n              "subType": "metric"\n            }\n          ],\n          "limit": {\n            "text": "Cost > 1000",\n            "tree": {\n              "type": "predicate_metric_qualification",\n              "predicateText": "Cost > 1000",\n              "predicateTree": {\n                "function": "greater",\n                "parameters": [\n                  {\n                    "parameterType": "constant",\n                    "constant": {\n                      "type": "double",\n                      "value": "1000.0"\n                    }\n                  }\n                ],\n                "levelType": "none",\n                "metric": {\n                  "objectId": "7FD5B69611D5AC76C000D98A4CC5F24F",\n                  "subType": "metric",\n                  "name": "Cost"\n                },\n                "metricFunction": "value",\n                "isIndependent": 0,\n                "nullInclude": 0\n              }\n            }\n          }\n        }\n      ],\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      }\n    },\n    "filter": {\n      "text": "{Age Range} = 24 and under, 25 to 34, 35 to 44",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "5603951E4FE1BC04A44E44B85BBB8ED2",\n            "subType": "attribute",\n            "name": "Age Range"\n          },\n          "elements": [\n            {\n              "display": "24 and under",\n              "elementId": "h1"\n            },\n            {\n              "display": "25 to 34",\n              "elementId": "h2"\n            },\n            {\n              "display": "35 to 44",\n              "elementId": "h3"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "grid": {\n    "viewTemplate": {\n      "rows": {\n        "units": [\n          {\n            "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n            "name": "Customer",\n            "type": "attribute"\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenUnits": [\n          {\n            "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n            "name": "Customer Age",\n            "type": "attribute"\n          }\n        ]\n      },\n      "columns": {\n        "units": [\n          {\n            "type": "metrics",\n            "elements": [\n              {\n                "id": "4C05177F11D3E877C000B3B2D86C964F",\n                "name": "Avg Revenue per Customer",\n                "subType": "metric",\n                "thresholds": [\n                  {\n                    "format": [],\n                    "condition": {\n                      "text": "Customer = Aaby:Alen",\n                      "tree": {\n                        "type": "predicate_element_list",\n                        "predicateTree": {\n                          "attribute": {\n                            "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                            "subType": "attribute",\n                            "name": "Customer"\n                          },\n                          "elements": [\n                            {\n                              "display": "Aaby:Alen",\n                              "elementId": "h7796"\n                            }\n                          ],\n                          "function": "in"\n                        }\n                      }\n                    },\n                    "name": "New Threshold",\n                    "replaceText": "",\n                    "semantics": "number",\n                    "scope": "metric_only",\n                    "enable": true\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenMetrics": [\n          {\n            "id": "82156AB211D40978C000C7906B98494F",\n            "name": "Count of Customers",\n            "subType": "metric",\n            "limit": {\n              "text": "{Count of Customers} > 1",\n              "tree": {\n                "type": "predicate_metric_qualification",\n                "predicateText": "{Count of Customers} > 1",\n                "predicateTree": {\n                  "function": "greater",\n                  "parameters": [\n                    {\n                      "parameterType": "constant",\n                      "constant": {\n                        "type": "double",\n                        "value": "1.0"\n                      }\n                    }\n                  ],\n                  "levelType": "none",\n                  "metric": {\n                    "objectId": "82156AB211D40978C000C7906B98494F",\n                    "subType": "metric",\n                    "name": "Count of Customers"\n                  },\n                  "metricFunction": "value",\n                  "isIndependent": 0,\n                  "nullInclude": 0\n                }\n              }\n            }\n          }\n        ]\n      },\n      "pageBy": {\n        "units": [\n          {\n            "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "name": "Region",\n            "type": "attribute"\n          }\n        ],\n        "sorts": []\n      },\n      "subtotals": [\n        {\n          "name": "Total",\n          "type": "subtotal_definition",\n          "appliedLevel": {\n            "type": "by_position",\n            "rows": "all_subtotals",\n            "columns": "all_subtotals",\n            "pageBy": "grand_total"\n          },\n          "subtotal": {\n            "objectId": "96C487AF4D12472A910C1ACACFB56EFB",\n            "subType": "system_subtotal",\n            "name": "Total"\n          }\n        }\n      ],\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      }\n    },\n    "viewFilter": {\n      "text": "Region = Canada, Central, England",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "subType": "attribute",\n            "name": "Region"\n          },\n          "elements": [\n            {\n              "display": "Canada",\n              "elementId": "h11"\n            },\n            {\n              "display": "Central",\n              "elementId": "h4"\n            },\n            {\n              "display": "England",\n              "elementId": "h8"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "timezone": {\n    "objectId": "7E514996278648AB8F2B5D6DA2ED87AB",\n    "subType": "timezone_custom",\n    "name": "Custom TZ2"\n  },\n  "advancedProperties": {\n    "vldbProperties": {\n      "[AnalyticalEngineProperties].[DisplayNullOnTop]": {\n        "name": "DisplayNullOnTop",\n        "value": "true",\n        "type": "boolean",\n        "resolvedLocation": "default"\n      }\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(e.p,{children:"To return the updated report\u2019s definition with its filters in all formats and its updated advanced properties, we need to set showExpressionAs = tokens, showFilterTokens = true and showAdvancedProperties = true. Here we only use showExpressionAs = tree and showAdvancedProperties = true, you can chose other combinations of these settings to get defferent representations of the response body."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'curl -X PUT \'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/FB7816D149C8AC0573CC55829E56F217?showExpressionAs=tree&showAdvancedProperties=true\' -H \'X-MSTR-MS-Instance: 25114D344481A2EA0400A1AD21450BED\' -H \'X-MSTR-AuthToken: vslb4k2o4api370rf2jq2htbm2\' -H \'Content-Type: application/json\' -H \'Cookie: JSESSIONID=C34C4207807E82796747870E681790B3; iSession=vslb4k2o4api370rf2jq2htbm2\' -d \'{\n  "information": {\n    "description": "Here is an example description."\n  },\n  "sourceType": "normal",\n  "dataSource": {\n    "dataTemplate": {\n      "units": [\n        {\n          "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n          "name": "Customer",\n          "type": "attribute"\n        },\n        {\n          "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n          "name": "Customer Age",\n          "type": "attribute"\n        },\n        {\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "name": "Region",\n          "type": "attribute",\n          "limit": {\n            "text": "{Regions}",\n            "tree": {\n              "type": "reference",\n              "target": {\n                "objectId": "1DAD64C6445BCD938F11FFAEC3A4A980",\n                "subType": "consolidation_element",\n                "name": "Regions"\n              }\n            }\n          }\n        },\n        {\n          "type": "metrics",\n          "elements": [\n            {\n              "id": "82156AB211D40978C000C7906B98494F",\n              "name": "Count of Customers",\n              "subType": "metric"\n            },\n            {\n              "id": "4C05177F11D3E877C000B3B2D86C964F",\n              "name": "Avg Revenue per Customer",\n              "subType": "metric"\n            }\n          ],\n          "limit": {\n            "text": "Cost > 1000",\n            "tree": {\n              "type": "predicate_metric_qualification",\n              "predicateText": "Cost > 1000",\n              "predicateTree": {\n                "function": "greater",\n                "parameters": [\n                  {\n                    "parameterType": "constant",\n                    "constant": {\n                      "type": "double",\n                      "value": "1000.0"\n                    }\n                  }\n                ],\n                "levelType": "none",\n                "metric": {\n                  "objectId": "7FD5B69611D5AC76C000D98A4CC5F24F",\n                  "subType": "metric",\n                  "name": "Cost"\n                },\n                "metricFunction": "value",\n                "isIndependent": 0,\n                "nullInclude": 0\n              }\n            }\n          }\n        }\n      ],\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      }\n    },\n    "filter": {\n      "text": "{Age Range} = 24 and under, 25 to 34, 35 to 44",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "5603951E4FE1BC04A44E44B85BBB8ED2",\n            "subType": "attribute",\n            "name": "Age Range"\n          },\n          "elements": [\n            {\n              "display": "24 and under",\n              "elementId": "h1"\n            },\n            {\n              "display": "25 to 34",\n              "elementId": "h2"\n            },\n            {\n              "display": "35 to 44",\n              "elementId": "h3"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "grid": {\n    "viewTemplate": {\n      "rows": {\n        "units": [\n          {\n            "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n            "name": "Customer",\n            "type": "attribute"\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenUnits": [\n          {\n            "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n            "name": "Customer Age",\n            "type": "attribute"\n          }\n        ]\n      },\n      "columns": {\n        "units": [\n          {\n            "type": "metrics",\n            "elements": [\n              {\n                "id": "4C05177F11D3E877C000B3B2D86C964F",\n                "name": "Avg Revenue per Customer",\n                "subType": "metric",\n                "thresholds": [\n                  {\n                    "format": [],\n                    "condition": {\n                      "text": "Customer = Aaby:Alen",\n                      "tree": {\n                        "type": "predicate_element_list",\n                        "predicateTree": {\n                          "attribute": {\n                            "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                            "subType": "attribute",\n                            "name": "Customer"\n                          },\n                          "elements": [\n                            {\n                              "display": "Aaby:Alen",\n                              "elementId": "h7796"\n                            }\n                          ],\n                          "function": "in"\n                        }\n                      }\n                    },\n                    "name": "New Threshold",\n                    "replaceText": "",\n                    "semantics": "number",\n                    "scope": "metric_only",\n                    "enable": true\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenMetrics": [\n          {\n            "id": "82156AB211D40978C000C7906B98494F",\n            "name": "Count of Customers",\n            "subType": "metric",\n            "limit": {\n              "text": "{Count of Customers} > 1",\n              "tree": {\n                "type": "predicate_metric_qualification",\n                "predicateText": "{Count of Customers} > 1",\n                "predicateTree": {\n                  "function": "greater",\n                  "parameters": [\n                    {\n                      "parameterType": "constant",\n                      "constant": {\n                        "type": "double",\n                        "value": "1.0"\n                      }\n                    }\n                  ],\n                  "levelType": "none",\n                  "metric": {\n                    "objectId": "82156AB211D40978C000C7906B98494F",\n                    "subType": "metric",\n                    "name": "Count of Customers"\n                  },\n                  "metricFunction": "value",\n                  "isIndependent": 0,\n                  "nullInclude": 0\n                }\n              }\n            }\n          }\n        ]\n      },\n      "pageBy": {\n        "units": [\n          {\n            "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "name": "Region",\n            "type": "attribute"\n          }\n        ],\n        "sorts": []\n      },\n      "subtotals": [\n        {\n          "name": "Total",\n          "type": "subtotal_definition",\n          "appliedLevel": {\n            "type": "by_position",\n            "rows": "all_subtotals",\n            "columns": "all_subtotals",\n            "pageBy": "grand_total"\n          },\n          "subtotal": {\n            "objectId": "96C487AF4D12472A910C1ACACFB56EFB",\n            "subType": "system_subtotal",\n            "name": "Total"\n          }\n        }\n      ],\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      }\n    },\n    "viewFilter": {\n      "text": "Region = Canada, Central, England",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "subType": "attribute",\n            "name": "Region"\n          },\n          "elements": [\n            {\n              "display": "Canada",\n              "elementId": "h11"\n            },\n            {\n              "display": "Central",\n              "elementId": "h4"\n            },\n            {\n              "display": "England",\n              "elementId": "h8"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "timezone": {\n    "objectId": "7E514996278648AB8F2B5D6DA2ED87AB",\n    "subType": "timezone_custom",\n    "name": "Custom TZ2"\n  },\n  "advancedProperties": {\n    "vldbProperties": {\n      "[AnalyticalEngineProperties].[DisplayNullOnTop]": {\n        "name": "DisplayNullOnTop",\n        "value": "true",\n        "type": "boolean",\n        "resolvedLocation": "default"\n      }\n    }\n  }\n}\'\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Body:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "information": {\n    "dateCreated": "2022-09-06T06:07:05.653Z",\n    "dateModified": "2022-09-06T06:55:15.499Z",\n    "versionId": "6750B9B640E9A66EAE06E3A00D98F731",\n    "acg": 255,\n    "primaryLocale": "en-US",\n    "objectId": "FB7816D149C8AC0573CC55829E56F217",\n    "subType": "report_grid",\n    "name": "New Normal Report",\n    "description": "Here is an example description.",\n    "destinationFolderId": "D3C7D461F69C4610AA6BAA5EF51F4125"\n  },\n  "sourceType": "normal",\n  "dataSource": {\n    "dataTemplate": {\n      "units": [\n        {\n          "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n          "name": "Customer",\n          "type": "attribute"\n        },\n        {\n          "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n          "name": "Customer Age",\n          "type": "attribute"\n        },\n        {\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "name": "Region",\n          "type": "attribute",\n          "limit": {\n            "text": "{Regions}",\n            "tree": {\n              "type": "reference",\n              "target": {\n                "objectId": "1DAD64C6445BCD938F11FFAEC3A4A980",\n                "subType": "consolidation_element",\n                "name": "Regions"\n              }\n            }\n          }\n        },\n        {\n          "type": "metrics",\n          "elements": [\n            {\n              "id": "82156AB211D40978C000C7906B98494F",\n              "name": "Count of Customers",\n              "subType": "metric"\n            },\n            {\n              "id": "4C05177F11D3E877C000B3B2D86C964F",\n              "name": "Avg Revenue per Customer",\n              "subType": "metric"\n            }\n          ],\n          "limit": {\n            "text": "Cost > 1000",\n            "tree": {\n              "type": "predicate_metric_qualification",\n              "predicateId": "924CBF662E2A4BF3A569121A13978F22",\n              "predicateText": "Cost > 1000",\n              "predicateTree": {\n                "function": "greater",\n                "parameters": [\n                  {\n                    "parameterType": "constant",\n                    "constant": {\n                      "type": "double",\n                      "value": "1000.0"\n                    }\n                  }\n                ],\n                "levelType": "none",\n                "metric": {\n                  "objectId": "7FD5B69611D5AC76C000D98A4CC5F24F",\n                  "subType": "metric",\n                  "name": "Cost"\n                },\n                "metricFunction": "value",\n                "isIndependent": 0,\n                "nullInclude": 0\n              }\n            }\n          }\n        }\n      ],\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      }\n    },\n    "filter": {\n      "text": "{Age Range} = 24 and under, 25 to 34, 35 to 44",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateId": "6032EE9672464ADAA22968244C085F15",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "5603951E4FE1BC04A44E44B85BBB8ED2",\n            "subType": "attribute",\n            "name": "Age Range"\n          },\n          "elements": [\n            {\n              "display": "24 and under",\n              "elementId": "h1"\n            },\n            {\n              "display": "25 to 34",\n              "elementId": "h2"\n            },\n            {\n              "display": "35 to 44",\n              "elementId": "h3"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "grid": {\n    "viewTemplate": {\n      "rows": {\n        "units": [\n          {\n            "id": "8D679D3C11D3E4981000E787EC6DE8A4",\n            "name": "Customer",\n            "type": "attribute"\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenUnits": [\n          {\n            "id": "6E069E4C11D3E4E41000E887EC6DE8A4",\n            "name": "Customer Age",\n            "type": "attribute"\n          }\n        ]\n      },\n      "columns": {\n        "units": [\n          {\n            "type": "metrics",\n            "elements": [\n              {\n                "id": "4C05177F11D3E877C000B3B2D86C964F",\n                "name": "Avg Revenue per Customer",\n                "subType": "metric",\n                "thresholds": [\n                  {\n                    "format": [],\n                    "condition": {\n                      "text": "Customer = Aaby:Alen",\n                      "tree": {\n                        "type": "predicate_element_list",\n                        "predicateId": "79FAD72556CF41D3B880E0E2BB855EC6",\n                        "predicateTree": {\n                          "attribute": {\n                            "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                            "subType": "attribute",\n                            "name": "Customer"\n                          },\n                          "elements": [\n                            {\n                              "display": "Aaby:Alen",\n                              "elementId": "h7796"\n                            }\n                          ],\n                          "function": "in"\n                        }\n                      }\n                    },\n                    "name": "New Threshold",\n                    "replaceText": "",\n                    "semantics": "number",\n                    "scope": "metric_only",\n                    "enable": true\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        "sorts": [\n          {\n            "target": {\n              "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n              "subType": "attribute",\n              "name": "Customer"\n            },\n            "form": {\n              "objectId": "8D67A35B11D3E4981000E787EC6DE8A4",\n              "subType": "attribute_form_system",\n              "name": "Customer DESC 1"\n            },\n            "order": "ascending",\n            "type": "attribute_form",\n            "subtotalsPosition": "inherit"\n          }\n        ],\n        "hiddenMetrics": [\n          {\n            "id": "82156AB211D40978C000C7906B98494F",\n            "name": "Count of Customers",\n            "subType": "metric",\n            "limit": {\n              "text": "{Count of Customers} > 1",\n              "tree": {\n                "type": "predicate_metric_qualification",\n                "predicateId": "F70D258F89D5470899B894914510800A",\n                "predicateText": "{Count of Customers} > 1",\n                "predicateTree": {\n                  "function": "greater",\n                  "parameters": [\n                    {\n                      "parameterType": "constant",\n                      "constant": {\n                        "type": "double",\n                        "value": "1.0"\n                      }\n                    }\n                  ],\n                  "levelType": "none",\n                  "metric": {\n                    "objectId": "82156AB211D40978C000C7906B98494F",\n                    "subType": "metric",\n                    "name": "Count of Customers"\n                  },\n                  "metricFunction": "value",\n                  "isIndependent": 0,\n                  "nullInclude": 0\n                }\n              }\n            }\n          }\n        ]\n      },\n      "pageBy": {\n        "units": [\n          {\n            "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "name": "Region",\n            "type": "attribute"\n          }\n        ],\n        "sorts": []\n      },\n      "drillMap": {\n        "objectId": "B793B57511D3E4E51000E887EC6DE8A4",\n        "subType": "drill_map",\n        "name": "Tutorial Standard Drill Map"\n      },\n      "subtotals": [\n        {\n          "name": "Total",\n          "type": "subtotal_definition",\n          "appliedLevel": {\n            "type": "by_position",\n            "rows": "all_subtotals",\n            "columns": "all_subtotals",\n            "pageBy": "grand_total"\n          },\n          "subtotal": {\n            "objectId": "96C487AF4D12472A910C1ACACFB56EFB",\n            "subType": "system_subtotal",\n            "name": "Total"\n          }\n        }\n      ]\n    },\n    "viewFilter": {\n      "text": "Region = Canada, Central, England",\n      "tree": {\n        "type": "predicate_element_list",\n        "predicateId": "B30A6EAF46034369857B4DBC91AB2400",\n        "predicateTree": {\n          "attribute": {\n            "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n            "subType": "attribute",\n            "name": "Region"\n          },\n          "elements": [\n            {\n              "display": "Canada",\n              "elementId": "h11"\n            },\n            {\n              "display": "Central",\n              "elementId": "h4"\n            },\n            {\n              "display": "England",\n              "elementId": "h8"\n            }\n          ],\n          "function": "in"\n        }\n      }\n    }\n  },\n  "timezone": {\n    "objectId": "7E514996278648AB8F2B5D6DA2ED87AB",\n    "subType": "timezone_custom",\n    "name": "Custom TZ2"\n  },\n  "advancedProperties": {\n    "vldbProperties": {\n      "[AnalyticalEngineProperties].[ConsolidationSubtotal]": {\n        "name": "ConsolidationSubtotal",\n        "value": "true",\n        "type": "boolean",\n        "resolvedLocation": "default"\n      },\n      // Here we omit some vldbProperties to shorten the response body\n      // You can send the request in practice to get a full list of the vldbProperties\n      "[VLDB Syntax].[Max Columns in Wildcard]": {\n        "name": "Max Columns in Wildcard",\n        "value": "0",\n        "type": "int32",\n        "resolvedLocation": "default"\n      }\n    },\n    "metricJoinTypes": {\n      "82156AB211D40978C000C7906B98494F": {\n        "metric": {\n          "objectId": "82156AB211D40978C000C7906B98494F",\n          "subType": "metric",\n          "name": "Count of Customers"\n        },\n        "joinType": "inner",\n        "resolvedLocation": "default"\n      },\n      "4C05177F11D3E877C000B3B2D86C964F": {\n        "metric": {\n          "objectId": "4C05177F11D3E877C000B3B2D86C964F",\n          "subType": "metric",\n          "name": "Avg Revenue per Customer"\n        },\n        "joinType": "inner",\n        "resolvedLocation": "default"\n      }\n    },\n    "attributeJoinTypes": {\n      "8D679D3C11D3E4981000E787EC6DE8A4": {\n        "attribute": {\n          "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Customer"\n        },\n        "noParticipationInPreserveRow": false,\n        "resolvedLocation": "default"\n      },\n      "6E069E4C11D3E4E41000E887EC6DE8A4": {\n        "attribute": {\n          "objectId": "6E069E4C11D3E4E41000E887EC6DE8A4",\n          "subType": "attribute",\n          "name": "Customer Age"\n        },\n        "noParticipationInPreserveRow": false,\n        "resolvedLocation": "default"\n      },\n      "8D679D4B11D3E4981000E787EC6DE8A4": {\n        "attribute": {\n          "objectId": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "subType": "attribute",\n          "name": "Region"\n        },\n        "noParticipationInPreserveRow": false,\n        "resolvedLocation": "default"\n      }\n    },\n    "drillOptions": {\n      "drillingEnableReportDrilling": {\n        "value": true,\n        "resolvedLocation": "default"\n      },\n      // Here we omit some drillOptions to shorten the response body\n      // You can send the request in practice to get a full list of the drillOptions\n      "drillingFilterOption": {\n        "value": 0,\n        "resolvedLocation": "default"\n      }\n    },\n    "useDefaultEvaluationOrder": true,\n    "promptOrdering": []\n  }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Code: 200 (The report\u2019s definition is updated successfully in the report instance)"}),"\n",(0,r.jsx)(e.h3,{id:"3-save-the-report-instance",children:"3. Save the report instance"}),"\n",(0,r.jsxs)(e.p,{children:["Endpoint: ",(0,r.jsx)(e.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-saveReportInstance",children:"POST /api/model/reports/{reportId}/instances/save"})]}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "vslb4k2o4api370rf2jq2htbm2"\n"X-MSTR-MS-Instance": "25114D344481A2EA0400A1AD21450BED"\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Body: Empty"}),"\n",(0,r.jsx)(e.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"curl -X POST 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/FB7816D149C8AC0573CC55829E56F217/instances/save' -H 'X-MSTR-AuthToken: vslb4k2o4api370rf2jq2htbm2' -H 'X-MSTR-MS-Instance: 25114D344481A2EA0400A1AD21450BED' -H 'Cookie: JSESSIONID=29CD542A175EC6F49A76524E80965F2E; iSession=vslb4k2o4api370rf2jq2htbm2'\n"})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Body:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "objectId": "FB7816D149C8AC0573CC55829E56F217"\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Code: 200 (The changes are saved in metadata successfully.)"}),"\n",(0,r.jsx)(e.h3,{id:"4-delete-the-report-instance",children:"4. Delete the report instance"}),"\n",(0,r.jsxs)(e.p,{children:["Endpoint: ",(0,r.jsx)(e.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/ms-deleteReportInstance",children:"DELETE /api/model/reports/{reportId}/instances"})]}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Header:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "vslb4k2o4api370rf2jq2htbm2"\n"X-MSTR-MS-Instance": "25114D344481A2EA0400A1AD21450BED"\n'})}),"\n",(0,r.jsx)(e.p,{children:"Sample Request Body: Empty"}),"\n",(0,r.jsx)(e.p,{children:"Sample Curl:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"curl -X DELETE 'https://demo.microstrategy.com/MicroStrategyLibrary/api/model/reports/FB7816D149C8AC0573CC55829E56F217/instances' -H 'X-MSTR-MS-Instance: 25114D344481A2EA0400A1AD21450BED' -H 'X-MSTR-AuthToken: vslb4k2o4api370rf2jq2htbm2' -H 'Cookie: JSESSIONID=DFCB945B0A0DD959D26BA05F9AE20B3B; iSession=vslb4k2o4api370rf2jq2htbm2'\n"})}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Body: Empty"}),"\n",(0,r.jsx)(e.p,{children:"Sample Response Code: 204 (The report instance has been deleted successfully.)"})]})}function c(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>s});var r=t(96540);const a={},i=r.createContext(a);function o(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);