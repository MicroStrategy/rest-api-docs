"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[538],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=s(a),u=r,h=c["".concat(p,".").concat(u)]||c[u]||m[u]||i;return a?n.createElement(h,o(o({ref:t},d),{},{components:a})):n.createElement(h,o({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5295:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return u},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return m}});var n=a(3117),r=a(102),i=(a(7294),a(3905)),o=["components"],l={title:'Workflow sample - Retrieve a drill map definition"',sidebar_label:"Retrieve a drill map definition",description:"You can use REST API requests to retrieve, create, and update drill map objects through the Modeling service."},p=void 0,s={unversionedId:"common-workflows/manage-drill-maps/retrieve-a-drill-map-definition",id:"common-workflows/manage-drill-maps/retrieve-a-drill-map-definition",title:'Workflow sample - Retrieve a drill map definition"',description:"You can use REST API requests to retrieve, create, and update drill map objects through the Modeling service.",source:"@site/docs/common-workflows/manage-drill-maps/retrieve-a-drill-map-definition.md",sourceDirName:"common-workflows/manage-drill-maps",slug:"/common-workflows/manage-drill-maps/retrieve-a-drill-map-definition",permalink:"/rest-api-docs/common-workflows/manage-drill-maps/retrieve-a-drill-map-definition",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/manage-drill-maps/retrieve-a-drill-map-definition.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1665689550,formattedLastUpdatedAt:"Oct 13, 2022",frontMatter:{title:'Workflow sample - Retrieve a drill map definition"',sidebar_label:"Retrieve a drill map definition",description:"You can use REST API requests to retrieve, create, and update drill map objects through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Manage drill maps",permalink:"/rest-api-docs/common-workflows/manage-drill-maps/"},next:{title:"Create a drill map",permalink:"/rest-api-docs/common-workflows/manage-drill-maps/create-a-drill-map"}},d={},m=[{value:"Retrieve a drill map definition",id:"retrieve-a-drill-map-definition",level:2},{value:"Sample request header",id:"sample-request-header",level:3},{value:"Sample request body",id:"sample-request-body",level:3},{value:"Sample curl",id:"sample-curl",level:3},{value:"Sample response body",id:"sample-response-body",level:3},{value:"Response code",id:"response-code",level:3},{value:"Retrieve a drill map definition within a changeset",id:"retrieve-a-drill-map-definition-within-a-changeset",level:2},{value:"Step 1: Create a changeset using POST /api/model/changesets",id:"step-1-create-a-changeset-using-post-apimodelchangesets",level:3},{value:"Step 2: Get the drill map definition within the changeset using GET /api/model/drillMaps/{drillMapId}",id:"step-2-get-the-drill-map-definition-within-the-changeset-using-get-apimodeldrillmapsdrillmapid",level:3},{value:"Step 3: Delete the changeset using DELETE /api/model/changesets/{changesetId}",id:"step-3-delete-the-changeset-using-delete-apimodelchangesetschangesetid",level:3}],c={toc:m};function u(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"You can try out this workflow at ",(0,i.kt)("a",{parentName:"p",href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-2b7a0f0c-2172-418a-93ec-e0f0a13fa741?ctx=documentation"},"REST API Playground"),"."),(0,i.kt)("p",{parentName:"admonition"},"Learn more about MicroStrategy REST API Playground ",(0,i.kt)("a",{parentName:"p",href:"/rest-api-docs/getting-started/playground"},"here"),".")),(0,i.kt)("p",null,"You can use REST APIs to retrieve the definition of a drill map through the Modeling service. This workflow includes the following REST API requests."),(0,i.kt)("h2",{id:"retrieve-a-drill-map-definition"},"Retrieve a drill map definition"),(0,i.kt)("p",null,"You want to get the definition of a drill map object. The object ID of the drill map is ",(0,i.kt)("inlineCode",{parentName:"p"},"CC2E6AA3421EFF5C41C2D0939750BB24")," in the MicroStrategy Tutorial project. The project ID is ",(0,i.kt)("inlineCode",{parentName:"p"},"B7CA92F04B9FAE8D941C3E9B7E0CD754"),"."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,i.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,i.kt)("p",null,"Retrieve the drill map\u2019s definition using ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/DrillMaps/ms-getDrillMap"},"GET /api/model/drillMaps/{drillMapId}"),"."),(0,i.kt)("h3",{id:"sample-request-header"},"Sample request header"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "lmiouhsue1osvl8uf2vuvlbcfp"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,i.kt)("h3",{id:"sample-request-body"},"Sample request body"),(0,i.kt)("p",null,"Empty"),(0,i.kt)("h3",{id:"sample-curl"},"Sample curl"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/drillMaps/CC2E6AA3421EFF5C41C2D0939750BB24" \\\n-H "accept: application/json" \\\n-H "X-MSTR-AuthToken: lmiouhsue1osvl8uf2vuvlbcfp" \\\n-H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,i.kt)("h3",{id:"sample-response-body"},"Sample response body"),(0,i.kt)("p",null,"You can view the drill map definition in the body of the response."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "dateCreated": "2022-01-24T10:42:27.000Z",\n    "dateModified": "2022-02-14T04:29:54.000Z",\n    "versionId": "BA73E0DF421BB0A7C726C090F38AC5AE",\n    "primaryLocale": "en-US",\n    "objectId": "CC2E6AA3421EFF5C41C2D0939750BB24",\n    "subType": "drill_map",\n    "name": "Sample Drill Map"\n  },\n  "drillPaths": [\n    {\n      "displayName": "Call Center Analysis",\n      "type": "template",\n      "target": {\n        "objectId": "D4C7C978490A443715E6ECB689F9CEAF",\n        "subType": "template",\n        "name": "Call Center Analysis"\n      },\n      "priority": "medium",\n      "options": {\n        "setName": "Test SetName 1",\n        "inheritVLDB": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default",\n        "displayMode": "default"\n      }\n    },\n    {\n      "displayName": "Year",\n      "type": "across",\n      "target": {\n        "objectId": "8D679D5111D3E4981000E787EC6DE8A4",\n        "subType": "attribute",\n        "name": "Year"\n      },\n      "priority": "high",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": false,\n        "applyReportFilter": true\n      }\n    },\n    {\n      "displayName": "Age Groups",\n      "type": "up",\n      "target": {\n        "objectId": "085CBF314703A71E926EA187C2002969",\n        "subType": "custom_group",\n        "name": "Age Groups"\n      },\n      "priority": "medium",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default"\n      }\n    },\n    {\n      "displayName": "Customer Geography",\n      "type": "down",\n      "target": {\n        "objectId": "B9E7FD5911D3E936C000B3B2D86C964F",\n        "subType": "consolidation",\n        "name": "Customer Geography"\n      },\n      "priority": "medium",\n      "options": {\n        "keepParent": false,\n        "keepThresholds": false,\n        "keepPageBy": false,\n        "keepBaseTemplate": false,\n        "applyUserFilter": true,\n        "applyReportFilter": true,\n        "includeOtherFilter": "default"\n      }\n    },\n    {\n      "displayName": "Products",\n      "type": "down",\n      "target": {\n        "objectId": "B793B56811D3E4E51000E887EC6DE8A4",\n        "subType": "dimension_user",\n        "name": "Products"\n      },\n      "priority": "medium"\n    },\n    {\n      "type": "across",\n      "target": {\n        "objectId": "B793B55011D3E4E51000E887EC6DE8A4",\n        "subType": "dimension_user",\n        "name": "Geography"\n      },\n      "priority": "medium"\n    },\n    {\n      "type": "drill_map",\n      "target": {\n        "objectId": "A3EEC92948DB0216FA585D83F2633A2B",\n        "subType": "drill_map",\n        "name": "Status Drill Map"\n      },\n      "priority": "medium"\n    }\n  ]\n}\n')),(0,i.kt)("h3",{id:"response-code"},"Response code"),(0,i.kt)("p",null,"200 (The drill map definition is returned successfully.)"),(0,i.kt)("h2",{id:"retrieve-a-drill-map-definition-within-a-changeset"},"Retrieve a drill map definition within a changeset"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"A changeset maintains an indivisible group of creations or modifications on modeling objects. If you plan to use the response of ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Tables/ms-getTableList"},"GET /api/model/drillMaps/{drillMapId}")," to create a new drill map or update a drill map definition, you should associate all requests with one changeset.")),(0,i.kt)("p",null,"You want to get the definition of the Sample Drill Map drill map object. The object ID of this drill map is ",(0,i.kt)("inlineCode",{parentName:"p"},"CC2E6AA3421EFF5C41C2D0939750BB24")," in the MicroStrategy Tutorial project. The project ID is ",(0,i.kt)("inlineCode",{parentName:"p"},"B7CA92F04B9FAE8D941C3E9B7E0CD754"),"."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,i.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,i.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,i.kt)("h3",{id:"step-1-create-a-changeset-using-post-apimodelchangesets"},"Step 1: Create a changeset using ",(0,i.kt)("a",{parentName:"h3",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-createChangeset"},"POST /api/model/changesets")),(0,i.kt)("p",null,"Sample Request Header:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,i.kt)("p",null,"Sample Request Body: Empty"),(0,i.kt)("p",null,"Sample Curl:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets" \\\n-H "accept: application/json" \\\n-H "X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch" \\\n-H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,i.kt)("p",null,"Sample Response Body:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "0E9F01172ECF4BA2BB510F7B9FB4F6E8",\n  "dateCreated": "2020-11-17T16:38:09.825650Z",\n  "dateModified": "2020-11-17T16:38:09.825665Z",\n  "status": "Ready",\n  "schemaEdit": false,\n  "userName": "MSTR User",\n  "mstrProjectId": "B7CA92F04B9FAE8D941C3E9B7E0CD754",\n  "mstrUserId": "7FC05A65473CE2FD845CE6A1D3F13233",\n  "userDateNumberLocale": "en-US",\n  "userMetadataLocale": "en-US",\n  "userWarehouseLocale": "en-US"\n}\n')),(0,i.kt)("p",null,"Sample Response Code: 201 (A new changeset is created successfully.)"),(0,i.kt)("h3",{id:"step-2-get-the-drill-map-definition-within-the-changeset-using-get-apimodeldrillmapsdrillmapid"},"Step 2: Get the drill map definition within the changeset using ",(0,i.kt)("a",{parentName:"h3",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/DrillMaps/ms-getDrillMap"},"GET /api/model/drillMaps/{drillMapId}")),(0,i.kt)("p",null,"Sample Request Header:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Changeset": "0E9F01172ECF4BA2BB510F7B9FB4F6E8"\n')),(0,i.kt)("p",null,"Sample Request Body: Empty"),(0,i.kt)("p",null,"Sample Curl:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/drillMpas/CC2E6AA3421EFF5C41C2D0939750BB24" \\\n-H "accept: application/json" \\\n-H "X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch" \\\n-H "X-MSTR-MS-Changeset: 0E9F01172ECF4BA2BB510F7B9FB4F6E8"\n')),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"#sample-response-body"},"Sample Response Body")),(0,i.kt)("p",null,"Response Code: 200"),(0,i.kt)("h3",{id:"step-3-delete-the-changeset-using-delete-apimodelchangesetschangesetid"},"Step 3: Delete the changeset using ",(0,i.kt)("a",{parentName:"h3",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changeset/ms-deleteChangeset"},"DELETE /api/model/changesets/{changesetId}")),(0,i.kt)("p",null,"Sample Request Header:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n"X-MSTR-MS-Changeset": "0E9F01172ECF4BA2BB510F7B9FB4F6E8"\n')),(0,i.kt)("p",null,"Sample Request Body: Empty"),(0,i.kt)("p",null,"Sample Curl:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X DELETE "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets/0E9F01172ECF4BA2BB510F7B9FB4F6E8" \\\n-H "accept: */*" \\\n-H "X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch" \\\n-H "X-MSTR-MS-Changeset: 0E9F01172ECF4BA2BB510F7B9FB4F6E8"\n')),(0,i.kt)("p",null,"Sample Response Body: Empty"),(0,i.kt)("p",null,"Sample Response Code: 204 (The changeset has been deleted successfully.)"))}u.isMDXComponent=!0}}]);