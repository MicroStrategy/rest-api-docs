"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[6005],{2300:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>a});var n=r(74848),s=r(28453);const i={title:"Handle REST API errors",description:"This page provides a guidance on designing exception workflows when using MicroStrategy REST API."},l=void 0,d={id:"getting-started/handle-rest-api-exceptions",title:"Handle REST API errors",description:"This page provides a guidance on designing exception workflows when using MicroStrategy REST API.",source:"@site/docs/getting-started/handle-rest-api-exceptions.md",sourceDirName:"getting-started",slug:"/getting-started/handle-rest-api-exceptions",permalink:"/rest-api-docs/getting-started/handle-rest-api-exceptions",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/getting-started/handle-rest-api-exceptions.md",tags:[],version:"current",lastUpdatedBy:"AugLychee",lastUpdatedAt:1710818077,formattedLastUpdatedAt:"Mar 19, 2024",frontMatter:{title:"Handle REST API errors",description:"This page provides a guidance on designing exception workflows when using MicroStrategy REST API."},sidebar:"tutorialSidebar",previous:{title:"Field selection for data API v2 result-fetching endpoints",permalink:"/rest-api-docs/getting-started/improve-performance-by-working-with-partial-resources/field-selection-for-data-api-v2-result-fetching-endpoints"},next:{title:"MicroStrategy REST API Explorer",permalink:"/rest-api-docs/getting-started/microstrategy-rest-api-explorer"}},o={},a=[{value:"1. Understand the status code",id:"1-understand-the-status-code",level:2},{value:"2. Look for more information in payload",id:"2-look-for-more-information-in-payload",level:2},{value:"3. Error code in the response body",id:"3-error-code-in-the-response-body",level:2},{value:"4. IServer error code",id:"4-iserver-error-code",level:2},{value:"Status code explained",id:"status-code-explained",level:2},{value:"200 level status code",id:"200-level-status-code",level:3},{value:"200 OK",id:"200-ok",level:4},{value:"201 Created",id:"201-created",level:4},{value:"202 Accepted",id:"202-accepted",level:4},{value:"204 No Content",id:"204-no-content",level:4},{value:"400 level status code",id:"400-level-status-code",level:3},{value:"400 Bad Request",id:"400-bad-request",level:4},{value:"401 Unauthorized",id:"401-unauthorized",level:4},{value:"403 Forbidden",id:"403-forbidden",level:4},{value:"404 Not Found",id:"404-not-found",level:4},{value:"500 level status code",id:"500-level-status-code",level:3},{value:"500 Internal Server Error",id:"500-internal-server-error",level:4},{value:"501 Not Implemented",id:"501-not-implemented",level:4},{value:"502 Bad Gateway",id:"502-bad-gateway",level:4},{value:"503 Service Unavailable",id:"503-service-unavailable",level:4}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"When developers use MicroStrategy REST APIs to build dynamic applications, they need to add code to handle error conditions. The instructions below are designed to provide a guidance on designing exception workflows when using MicroStrategy REST API."}),"\n",(0,n.jsx)(t.h2,{id:"1-understand-the-status-code",children:"1. Understand the status code"}),"\n",(0,n.jsx)(t.p,{children:"Determine whether the REST API request succeeded or failed, based on the HTTP status response code returned."}),"\n",(0,n.jsx)(t.p,{children:"The HTTP status response code returned by the REST API call indicates whether the request succeeded or failed."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"HTTP status response code"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"2xx (Successful)"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The request was successfully received, understood, and accepted"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"3xx (Redirection)"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Further action needs to be taken in order to complete the request"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"4xx (Client error)"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The request contains bad syntax or cannot be fulfilled (bad request, authorization issue, etc.)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"5xx (Server error)"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"The server failed to fulfill an apparently valid request"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["We follow RFC standards to define our HTTP status codes. You can refer to ",(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status",children:"HTTP response status code"})," to understand the meaning of each status code."]}),"\n",(0,n.jsx)(t.h2,{id:"2-look-for-more-information-in-payload",children:"2. Look for more information in payload"}),"\n",(0,n.jsxs)(t.p,{children:["If the REST API request failed and the response is ",(0,n.jsx)(t.code,{children:"application/json"}),", there is more information in the response body in JSON format."]}),"\n",(0,n.jsx)(t.h2,{id:"3-error-code-in-the-response-body",children:"3. Error code in the response body"}),"\n",(0,n.jsx)(t.p,{children:"Look for the error code in response body to determine if it provides insight into what caused the exception and use that insight to create meaningful text for the error message."}),"\n",(0,n.jsx)(t.p,{children:"When you encounter REST API error, you may receive an error message that looks like the sample code below:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "code": "ERR001",\n  "message": "MicroStrategy Intelligence Server is not configured to support LDAP authentication.",\n  "iServerCode": -214720549\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.code,{children:"code"})," is a MicroStrategy REST API Server code. The table below provides a general description of each error code. Use the error code to create meaningful text for the error message that will help users when they encounter errors."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Error code"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR001"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"General application issue"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR002"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"IServer error"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR003"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Authentication error"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR004"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Resource not found"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR005"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Missing required information"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR006"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Invalid input"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR007"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Missing required field"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR008"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Inbox message not ready"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR009"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Session invalid or timeout"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0010"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Not supported"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0013"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"IServer unreachable"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0014"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Insufficient privileges"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0015"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Object already exists"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0016"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Service not available"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0017"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Insufficient permission"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0020"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Dashboard prompt not supported"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0021"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Invalid configuration property"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0R22"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Service TLS validation issue"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0023"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Secret Key configuration issue"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"ERR0024"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Trust store configuration issue"})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"4-iserver-error-code",children:"4. IServer error code"}),"\n",(0,n.jsxs)(t.p,{children:["The MicroStrategy error message may also contain an integer value for ",(0,n.jsx)(t.code,{children:"iServerCode"}),". This integer value maps to a constant value in the ",(0,n.jsx)(t.a,{href:"https://www2.microstrategy.com/producthelp/Current/ReferenceFiles/reference/com/microstrategy/utils/localization/WebAPIErrorCodes.html",children:"WebAPIErrorCodes"})," class. There are many error codes in this class. You should look at the ",(0,n.jsx)(t.code,{children:"iServerCode"})," error and decide if you think it provides meaningful context. If so, you may want to handle it in your code."]}),"\n",(0,n.jsx)(t.p,{children:"If needed, you can also find more information in the Library Sever's error log, such as stack traces."}),"\n",(0,n.jsx)(t.h2,{id:"status-code-explained",children:"Status code explained"}),"\n",(0,n.jsx)(t.h3,{id:"200-level-status-code",children:"200 level status code"}),"\n",(0,n.jsx)(t.h4,{id:"200-ok",children:"200 OK"}),"\n",(0,n.jsxs)(t.p,{children:["A 200 status code means the request is succeeded. The response body varies based on the request. Please see the ",(0,n.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html",children:"REST API docs"})," for examples."]}),"\n",(0,n.jsx)(t.h4,{id:"201-created",children:"201 Created"}),"\n",(0,n.jsx)(t.p,{children:"A 201 status code means a new resource was created as a result. You typically can find the resource ID in the response body or the response headers. The response body varies based on the request."}),"\n",(0,n.jsx)(t.h4,{id:"202-accepted",children:"202 Accepted"}),"\n",(0,n.jsxs)(t.p,{children:['A 202 status code means the request has been received but not yet acted upon. It is used for asynchronous execution requests. You typically will get an ID that you can use a different API to fetch the result or check the status of the execution. We only support asynchronous execution on requests that might take a long time to execute. When it is supported, a request header "Prefer" with the value "respond-async" can be used. Please check the ',(0,n.jsx)(t.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html",children:"REST API docs"})," for examples."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"For creating an instance of report, document, cube, and dashboard, you can use the instance ID to fetch the status and get the result."}),"\n",(0,n.jsx)(t.li,{children:"For reloading schema, you will get a task ID."}),"\n",(0,n.jsx)(t.li,{children:"For exporting to PDF, you will get a result ID."}),"\n"]}),"\n",(0,n.jsx)(t.h4,{id:"204-no-content",children:"204 No Content"}),"\n",(0,n.jsx)(t.p,{children:"A 204 status code means the request is succeeded, but there is no data in the response body."}),"\n",(0,n.jsx)(t.h3,{id:"400-level-status-code",children:"400 level status code"}),"\n",(0,n.jsx)(t.h4,{id:"400-bad-request",children:"400 Bad Request"}),"\n",(0,n.jsx)(t.p,{children:"A 400 error means the server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing)."}),"\n",(0,n.jsx)(t.p,{children:"Example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "code": "ERR006",\n  "message": "Invalid JSON",\n  "ticketId": "b722e689f6104202972f7675563b9f97"\n}\n'})}),"\n",(0,n.jsx)(t.h4,{id:"401-unauthorized",children:"401 Unauthorized"}),"\n",(0,n.jsx)(t.p,{children:"A 401 error means you don't have a valid session state in the request or the session state has expired."}),"\n",(0,n.jsx)(t.p,{children:"Example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "code": "ERR003",\n  "message": "Login failed",\n  "ticketId": "07c12ef604c54902a5f03d66a75992f4"\n}\n'})}),"\n",(0,n.jsx)(t.h4,{id:"403-forbidden",children:"403 Forbidden"}),"\n",(0,n.jsx)(t.p,{children:"A 403 error means you have a valid auth token, but you don't have sufficient permissions to perform the action."}),"\n",(0,n.jsx)(t.p,{children:"Example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "code": "ERR017",\n  "iServerCode": -2147214568,\n  "message": "(User \'Guest\' does not have Read and Write access to the User object \'Public / Guest\' in Project \'Configuration\' with ID \'38A062302D4411D28E71006008960167\'.)",\n  "ticketId": "6c37df9f617d4cb9a7c50ce9138331c8"\n}\n'})}),"\n",(0,n.jsx)(t.h4,{id:"404-not-found",children:"404 Not Found"}),"\n",(0,n.jsx)(t.p,{children:"A 404 error means the requested endpoint doesn't exist, or the endpoint is valid but the resource does not exist. You might not always get a response JSON for this status code depending on your URL. MicroStrategy REST API also uses this status code for not supported HTTP methods."}),"\n",(0,n.jsx)(t.p,{children:"Example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "code": "ERR004",\n  "message": "HTTP 404 Not Found",\n  "ticketId": "1cc703db10a34141b60209827e988676"\n}\n'})}),"\n",(0,n.jsx)(t.h3,{id:"500-level-status-code",children:"500 level status code"}),"\n",(0,n.jsx)(t.p,{children:"If you receive 500 level status code, you may not receive a JSON response body."}),"\n",(0,n.jsx)(t.h4,{id:"500-internal-server-error",children:"500 Internal Server Error"}),"\n",(0,n.jsx)(t.p,{children:"With a 500 error code, you will get a JSON in the response body. You can check REST API Server or Intelligence Server error log for more information."}),"\n",(0,n.jsx)(t.h4,{id:"501-not-implemented",children:"501 Not Implemented"}),"\n",(0,n.jsx)(t.p,{children:"A 501 error means the request method is not supported by the server and cannot be handled."}),"\n",(0,n.jsx)(t.h4,{id:"502-bad-gateway",children:"502 Bad Gateway"}),"\n",(0,n.jsx)(t.p,{children:"A 502 error means the client is having difficulty connecting to the server. Your cloud infrastructure might not be working correctly."}),"\n",(0,n.jsx)(t.h4,{id:"503-service-unavailable",children:"503 Service Unavailable"}),"\n",(0,n.jsx)(t.p,{children:"A 503 error means your server is down or overloaded. Your cloud infrastructure might not be working correctly."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>l,x:()=>d});var n=r(96540);const s={},i=n.createContext(s);function l(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);