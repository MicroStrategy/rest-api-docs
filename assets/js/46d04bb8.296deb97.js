"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[3676],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return c}});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=s,h=m["".concat(l,".").concat(c)]||m[c]||u[c]||o;return a?n.createElement(h,r(r({ref:t},d),{},{components:a})):n.createElement(h,r({ref:t},d))}));function c(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=a.length,r=new Array(o);r[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:s,r[1]=i;for(var p=2;p<o;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7202:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var n=a(3117),s=a(102),o=(a(7294),a(3905)),r=["components"],i={title:"Workflow sample - Create a dataset incrementally with multiple requests",sidebar_label:"Create a dataset incrementally with multiple requests",description:"The steps below illustrate the workflow for defining a dataset with one or more tables and then incrementally uploading data to the Intelligence Server with multiple requests, before publishing the final dataset."},l=void 0,p={unversionedId:"common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests",id:"common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests",title:"Workflow sample - Create a dataset incrementally with multiple requests",description:"The steps below illustrate the workflow for defining a dataset with one or more tables and then incrementally uploading data to the Intelligence Server with multiple requests, before publishing the final dataset.",source:"@site/docs/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests.md",sourceDirName:"common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests",slug:"/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests",permalink:"/rest-api-docs/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/workflow-create-a-dataset-incrementally-with-multiple-requests.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1670597870,formattedLastUpdatedAt:"Dec 9, 2022",frontMatter:{title:"Workflow sample - Create a dataset incrementally with multiple requests",sidebar_label:"Create a dataset incrementally with multiple requests",description:"The steps below illustrate the workflow for defining a dataset with one or more tables and then incrementally uploading data to the Intelligence Server with multiple requests, before publishing the final dataset."},sidebar:"tutorialSidebar",previous:{title:"Logic for creating a dataset incrementally",permalink:"/rest-api-docs/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/logic-for-creating-a-dataset-incrementally"},next:{title:"Retrieve data from the Intelligence Server using the JSON Data API",permalink:"/rest-api-docs/common-workflows/retrieve-data-from-the-intelligence-server/"}},d={},u=[{value:"Workflow",id:"workflow",level:2},{value:"Log in",id:"log-in",level:2},{value:"Create the definition of the dataset",id:"create-the-definition-of-the-dataset",level:2},{value:"Create an upload session on the IServer",id:"create-an-upload-session-on-the-iserver",level:2},{value:"Add data to the upload session (with multiple calls)",id:"add-data-to-the-upload-session-with-multiple-calls",level:2},{value:"Orientation",id:"orientation",level:3},{value:"Request",id:"request",level:3},{value:"Response",id:"response",level:3},{value:"Publish the dataset",id:"publish-the-dataset",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3},{value:"Check to see if the dataset has been published",id:"check-to-see-if-the-dataset-has-been-published",level:2},{value:"Request",id:"request-2",level:3},{value:"Response",id:"response-2",level:3},{value:"Delete the upload session",id:"delete-the-upload-session",level:2},{value:"Request",id:"request-3",level:3},{value:"Response",id:"response-3",level:3},{value:"Log out",id:"log-out",level:2},{value:"Request",id:"request-4",level:3},{value:"Response",id:"response-4",level:3}],m={toc:u};function c(e){var t=e.components,i=(0,s.Z)(e,r);return(0,o.kt)("wrapper",(0,n.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You can try out this workflow at ",(0,o.kt)("a",{parentName:"p",href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-2f45d89b-a009-455b-b181-f5e529be9121?ctx=documentation"},"REST API Playground"),"."),(0,o.kt)("p",{parentName:"admonition"},"Learn more about MicroStrategy REST API Playground ",(0,o.kt)("a",{parentName:"p",href:"/rest-api-docs/getting-started/playground"},"here"),".")),(0,o.kt)("h2",{id:"workflow"},"Workflow"),(0,o.kt)("p",null,"The steps below illustrate the workflow for defining a dataset with one or more tables and then incrementally uploading data to the Intelligence Server with multiple requests, before publishing the final dataset. This same workflow is used to update a dataset created with the Push Data API\u2014either a ",(0,o.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/make-external-data-available/create-a-dataset-with-one-request/workflow-create-and-modify-a-dataset-with-one-request"},"dataset created using one REST API request")," or a ",(0,o.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/make-external-data-available/create-a-dataset-incrementally-with-multiple-requests/"},"dataset created with multiple API requests"),"."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#log-in"},"Log in"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/auth/login")," to authenticate the user and create a session."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#create-the-definition-of-the-dataset"},"Create the definition of the dataset"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/datasets/models")," to create the definition of the dataset."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#create-an-upload-session-on-the-iserver"},"Create an upload session on the IServer"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/datasets/{datasetId}/uploadSessions")," to define the format of the data to upload."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#add-data-to-the-upload-session-with-multiple-calls"},"Add data to the upload session (with multiple calls)"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionsId}")," multiple times to upload external data to the IServer in separate calls."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#publish-the-dataset"},"Publish the dataset"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/datasets/{datasetId}/uploadSessions/{uploadSessionsId}/publish")," to publish the dataset."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#check-to-see-if-the-dataset-has-been-published"},"Check to see if the dataset has been published"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/datasets/{datasetId}/uploadSessions/{uploadSessionsId}/publishStatus")," to check the publication status of the dataset (whether the publish action is complete)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#delete-the-upload-session"},"Delete the upload session"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"DELETE /api/datasets/{datasetId}/uploadSessions/{uploadSessionsId}")," to end the upload session\u2014either because the dataset has been published or to cancel the publish action before it has finished."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#log-out"},"Log out"),". Call ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/logout")," to close the authenticated user's session.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"You can't have concurrent upload sessions."),(0,o.kt)("p",{parentName:"admonition"},"There is no limit of rows. But it is recommended to split data into multiple ",(0,o.kt)("inlineCode",{parentName:"p"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionsId}")," requests if the data size is larger than 50MB.")),(0,o.kt)("p",null,"A detailed explanation of each step, with code samples, is provided below:"),(0,o.kt)("h2",{id:"log-in"},"Log in"),(0,o.kt)("p",null,"End Point: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login")),(0,o.kt)("p",null,"This endpoint allows the caller to authenticate with the MicroStrategy REST server. You provide the information used to create the session in the body of the request; in this example, you use standard authentication so you need to provide username, password, and loginMode (which specifies the authentication mode to use). If you omit an optional field, the REST Server uses the default value. If the call is successful, the resulting HTTP response returns an HTTP status code 204 and a response header containing the authorization token that will be used in subsequent requests."),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n")),(0,o.kt)("p",null,"Sample Request Body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "loginMode": 1,\n  "username": "administrator",\n  "password": ""\n}\n')),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X --header \'Content-Type: application/json\' --header \'Accept: application/json\' -d \'{\n  "username": "administrator",\n  "password": "",\n  "loginMode":1\n}\' \'https://demo.microstrategy.com/MicroStrategyLibrary/api/auth/login\'\n')),(0,o.kt)("p",null,"Sample Response Header:"),(0,o.kt)("p",null,"The authorization token ",(0,o.kt)("inlineCode",{parentName:"p"},'"x-mstr-authtoken"')," is returned in the response header. you use it in the header of other endpoints to authenticate the user."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "pragma": "no-cache",\n  "x-mstr-authtoken": "r8t814um1kjnjocse1kgm7rijm",\n  "cache-control": "no-cache, no-store, max-age=0, must-revalidate",\n  "date": "Mon, 15 Jan 2018 06:13:41 GMT",\n  "expires": "0",\n  "content-type": null\n}\n')),(0,o.kt)("p",null,"Response Body: Empty"),(0,o.kt)("p",null,"Response Code: 204"),(0,o.kt)("h2",{id:"create-the-definition-of-the-dataset"},"Create the definition of the dataset"),(0,o.kt)("p",null,"End Point: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/createTable"},"POST /api/datasets/models")),(0,o.kt)("p",null,"This endpoint allows the caller to create the definition of a dataset containing one or more tables. The definition includes the name and description of the dataset and the name and description of each table, attribute, and metric within the dataset."),(0,o.kt)("p",null,"You pass the authorization token created in step 1 for ",(0,o.kt)("inlineCode",{parentName:"p"},"X-MSTR-AuthToken")," header and a project ID for ",(0,o.kt)("inlineCode",{parentName:"p"},"X-MSTR-ProjectID")," header."),(0,o.kt)("p",null,"You provide the information used to create the dataset definition in the body of the request. The data format is the same as it is used in ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/createDICube"},"POST /api/datasets")," request. You can see ",(0,o.kt)("a",{parentName:"p",href:"/rest-api-docs/common-workflows/make-external-data-available/create-a-dataset-with-one-request/workflow-create-and-modify-a-dataset-with-one-request"},"this page")," for the explanation of the fields."),(0,o.kt)("p",null,"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_POST_datasets_models",src:a(4012).Z,width:"800",height:"316"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json''Accept: application/json''X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Body"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "testModel",\n  "description": "This is a dataset definition created by the Push Data API",\n  "tables": [\n    {\n      "name": "table1",\n      "columnHeaders": [\n        {\n          "name": "ID",\n          "dataType": "Integer"\n        },\n        {\n          "name": "Date",\n          "dataType": "Date"\n        },\n        {\n          "name": "Time",\n          "dataType": "Time"\n        },\n        {\n          "name": "Category",\n          "dataType": "String"\n        },\n        {\n          "name": "Cost",\n          "dataType": "Double"\n        }\n      ]\n    },\n    {\n      "name": "table2",\n      "columnHeaders": [\n        {\n          "name": "Year",\n          "dataType": "Integer"\n        },\n        {\n          "name": "DateTime",\n          "dataType": "DateTime"\n        },\n        {\n          "name": "Profit",\n          "dataType": "Double"\n        }\n      ]\n    }\n  ],\n  "metrics": [\n    {\n      "name": "Cost",\n      "expressions": [\n        {\n          "tableName": "table1",\n          "columnName": "Cost"\n        }\n      ]\n    },\n    {\n      "name": "Profit",\n      "expressions": [\n        {\n          "tableName": "table2",\n          "columnName": "Profit"\n        }\n      ]\n    }\n  ],\n  "attributes": [\n    {\n      "name": "ID",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "ID"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Date",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Date"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Time",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Time"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Category",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Category"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Year",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table2",\n              "columnName": "Year"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "DateTime",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table2",\n              "columnName": "DateTime"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "testModel",\n  "description": "This is a dataset definition created by the Push Data API",\n  "tables": [\n    {\n      "name": "table1",\n      "columnHeaders": [\n        {\n          "name": "ID",\n          "dataType": "Integer"\n        },\n        {\n          "name": "Date",\n          "dataType": "Date"\n        },\n        {\n          "name": "Time",\n          "dataType": "Time"\n        },\n        {\n          "name": "Category",\n          "dataType": "String"\n        },\n        {\n          "name": "Cost",\n          "dataType": "Double"\n        }\n      ]\n    },\n    {\n      "name": "table2",\n      "columnHeaders": [\n        {\n          "name": "Year",\n          "dataType": "Integer"\n        },\n        {\n          "name": "DateTime",\n          "dataType": "DateTime"\n        },\n        {\n          "name": "Profit",\n          "dataType": "Double"\n        }\n      ]\n    }\n  ],\n  "metrics": [\n    {\n      "name": "Cost",\n      "expressions": [\n        {\n          "tableName": "table1",\n          "columnName": "Cost"\n        }\n      ]\n    },\n    {\n      "name": "Profit",\n      "expressions": [\n        {\n          "tableName": "table2",\n          "columnName": "Profit"\n        }\n      ]\n    }\n  ],\n  "attributes": [\n    {\n      "name": "ID",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "ID"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Date",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Date"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Time",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Time"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Category",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table1",\n              "columnName": "Category"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "Year",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table2",\n              "columnName": "Year"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "name": "DateTime",\n      "attributeForms": [\n        {\n          "category": "ID",\n          "expressions": [\n            {\n              "tableName": "table2",\n              "columnName": "DateTime"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n')))),(0,o.kt)("p",null,"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "D13539E5433CDB837363F086C6DA6B5C",\n  "name": "testModel"\n}\n')),(0,o.kt)("p",{parentName:"li"},"The response body includes the name and ID of the dataset. The dataset ID is used in subsequent requests.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"create-an-upload-session-on-the-iserver"},"Create an upload session on the IServer"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/pushApiV2CreateUploadSession"},"POST /api/datasets/{datasetId}/uploadSessions")),(0,o.kt)("p",null,"This endpoint allows the caller to create a multi-table dataset upload session and provide formatting information for data that is to be uploaded to the Intelligence Server. Formatting information is used by the Intelligence Server to parse data from a subsequent ",(0,o.kt)("inlineCode",{parentName:"p"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}")," request. You pass the authorization token and the project ID in the request header. You specify the dataset ID in the path of the request. You obtain the dataset ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/models"),"."),(0,o.kt)("p",null,"In the body of the request, you must provide the name and update policy for each table in the dataset. The update policy refers to how updates are applied to existing data in the dataset; valid values are 'add', 'update', 'upsert', and 'replace'. Optionally, you can also provide the orientation and column headers for each table in the body of the request; these parameters define how data is arranged in subsequent ",(0,o.kt)("inlineCode",{parentName:"p"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}")," requests and processed by the Intelligence Server. The ",(0,o.kt)("a",{parentName:"p",href:"#orientation"},"orientation parameter")," specifies whether the array of data provided is arranged by rows or columns. Valid orientations are 'ROW' and 'COLUMN'; if the orientation parameter is not provided, 'ROW' is used. The columnHeaders parameter accepts an optional list of column names; data provided in subsequent update requests should have the same order as the column names in columnHeaders. If the columnHeaders parameter is not provided, the order of column names in the response of ",(0,o.kt)("inlineCode",{parentName:"p"},"GET /api/datasets/{datasetId}?fields=columns")," is used. If the call is successful, the resulting HTTP response returns an HTTP status code 200 and the ID of the upload session."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_POST_datasets_datasetId_uploadSessions",src:a(834).Z,width:"800",height:"348"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019\n'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Body"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "tables": [\n    {\n      "columnHeaders": ["ID", "Date", "Time", "Category", "Cost"],\n      "name": "table1",\n      "orientation": "row",\n      "updatePolicy": "replace"\n    },\n    {\n      "columnHeaders": ["Year", "DateTime", "Profit"],\n      "name": "table2",\n      "orientation": "row",\n      "updatePolicy": "add"\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "tables": [\n    {\n      "columnHeaders": ["ID", "Date", "Time", "Category", "Cost"],\n      "name": "table1",\n      "orientation": "row",\n      "updatePolicy": "replace"\n    },\n    {\n      "columnHeaders": ["Year", "DateTime", "Profit"],\n      "name": "table2",\n      "orientation": "row",\n      "updatePolicy": "add"\n    }\n  ]\n}\n')))),(0,o.kt)("p",null,"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "uploadSessionId": "9A4EE1C04C4EA20C8A976A8172034DD0"\n}\n')),(0,o.kt)("p",{parentName:"li"},"The response body includes the ID of the upload session. The upload session ID is used in subsequent requests.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"add-data-to-the-upload-session-with-multiple-calls"},"Add data to the upload session (with multiple calls)"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/pushApiV2AddData"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}")),(0,o.kt)("p",null,"This endpoint allows the caller to iteratively upload data to the Intelligence Server that matches formatting information provided by the previous (required) ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions")," request. For large data volumes, the data should first be split into smaller chunks. This request should then be called until all chunks have been uploaded. Once all the data has been uploaded, call ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}/publish")," to update the dataset with the newly uploaded data according to the previously specified update policy. You pass the authorization token and the project ID in the request header. You specify the dataset ID and the upload session ID in the path of the request; you obtain the dataset ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/models"),", and the upload session ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions"),"."),(0,o.kt)("p",null,"You provide information about each table in the body parameter, including the table name, the index of each chunk of data, and the base64 encoded chunk of data. If the data contains values of Date, DateTime, or Time type, only ISO8601 date formats are supported. If the call is successful, the resulting HTTP response returns an HTTP status code 200."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"To improve performance, follow the recommendations below for chunking data:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"If the data size <= 50MB, the recommended practice is to put data into one chunk."),(0,o.kt)("li",{parentName:"ul"},"If the data size > 50MB, the recommended practice is to put data into separate chunks. The chunk size should range from 50-200MB, with an ideal chunk size of 100MB."))),(0,o.kt)("h3",{id:"orientation"},"Orientation"),(0,o.kt)("p",null,"The data is before base64 encoding is formatted in different ways depending on the orientation parameter:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"In \u2018ROW\u2019 orientation, each sub-array corresponds to data in a row."),(0,o.kt)("p",{parentName:"li"},"Format:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[\n  [data_col1_row1, data_col2_row1],\n  [data_col1_row2, data_col2_row2]\n]\n")),(0,o.kt)("p",{parentName:"li"},"Example:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n  // This is the data with row orientation when "columnHeaders": ["ID", "Date", "Time", "Category", "Cost"]\n  [2, "2017-12-5", "11:00:00", "Books", 200],\n  [3, "2017-12-5", "12:00:00", "Electronics", 400]\n]\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"In \u2018COLUMN\u2019 orientation, each sub-array corresponds to data in a column."),(0,o.kt)("p",{parentName:"li"},"Format:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[\n  [data_col1_row1, data_col1_row2],\n  [data_col2_row1, data_col2_row2]\n]\n")),(0,o.kt)("p",{parentName:"li"},"Example:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n  // This is the data with column orientation when "columnHeaders": ["ID", "Date", "Time", "Category", "Cost"].\n  [2, 3],\n  ["2017-12-5", "2017-12-5"],\n  ["11:00:00", "12:00:00"],\n  ["Books", "Electronics"],\n  [200, 400]\n]\n')))),(0,o.kt)("h3",{id:"request"},"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_PUT_datasets_datasetId_uploadSessions_uploadSessionId",src:a(9399).Z,width:"800",height:"303"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019\n'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Body"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "data": "Ww0KCSAgIFsNCgkJICAxLA0KCQkgICIyMDE3LTEyLTQiLA0KCQkgICIxMTowMDowMCIsDQoJCSAgIkJvb2tzIiwNCgkJICAxMDAuNTINCgkgICBdDQoJXQ==",\n  "index": "1",\n  "tableName": "table1"\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm' --header 'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F' -d '{\n  \"data\":\"Ww0KCSAgIFsNCgkJICAxLA0KCQkgICIyMDE3LTEyLTQiLA0KCQkgICIxMTowMDowMCIsDQoJCSAgIkJvb2tzIiwNCgkJICAxMDAuNTINCgkgICBdDQoJXQ==\",\n  \"index\":\"1\",\n  \"tableName\":\"table1\"\n}' 'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasets/D13539E5433CDB837363F086C6DA6B5C/instances/9A4EE1C04C4EA20C8A976A8172034DD0/initializeUpload'\n")))),(0,o.kt)("h3",{id:"response"},"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body: Empty")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"publish-the-dataset"},"Publish the dataset"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/pushApiV2Publish"},"POST /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}/publish")),(0,o.kt)("p",null,"This endpoint allows the caller to publish a specific multi-table dataset using data uploaded to the Intelligence Server. This request should be used after calling ",(0,o.kt)("inlineCode",{parentName:"p"},"PUT /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}")," as many times as needed to upload all the data. You pass the authorization token and the project ID in the request header. You specify the dataset ID and the upload session ID in the path of the request; you obtain the dataset ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/models"),", and the upload session ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions"),". If the call is successful, the resulting HTTP response returns an HTTP status code 200."),(0,o.kt)("h3",{id:"request-1"},"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_POST_datasets_datasetId_uploadSessions_uploadSessionId_publish",src:a(1235).Z,width:"780",height:"169"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019\n'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm' --header 'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F' '\nhttps://demo.microstrategy.com/MicroStrategyLibrary/api/datasets/D13539E5433CDB837363F086C6DA6B5C/instances/9A4EE1C04C4EA20C8A976A8172034DD0/addData'\n")))),(0,o.kt)("h3",{id:"response-1"},"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body: Empty")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"check-to-see-if-the-dataset-has-been-published"},"Check to see if the dataset has been published"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/pushApiV2GetPublishStatus"},"GET /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}/publishStatus")),(0,o.kt)("p",null,"This endpoint allows the caller to get the status of a multi-table dataset update operation after new data was uploaded to the dataset and published. This request should be called after ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}/publish"),". You pass the authorization token and the project ID in the request header. You specify the dataset ID and the upload session ID in the path of the request; you obtain the dataset ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/models"),", and the upload session ID from ",(0,o.kt)("inlineCode",{parentName:"p"},"POST /api/datasets/{datasetId}/uploadSessions"),". If the call is successful, the resulting HTTP response returns an HTTP status code 200 and a status value; when the value is '1', the update action has finished."),(0,o.kt)("h3",{id:"request-2"},"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_GET_datasets_datasetId_uploadSessions_uploadSessionId_publishStatus",src:a(8746).Z,width:"800",height:"176"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019\n'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'X-MSTR-AuthToken: p3c32i09rc92ml2u11nkats857' --header 'X-MSTR-ProjectID: 1DB3FCB845A6809E9DFFCA9D29C0CCE3' '\nhttps://demo.microstrategy.com/MicroStrategyLibrary/datasets/5138232E11E8D37B08A20080EF253616/uploadSessions/DB78D99811E8D37B16360080EF25B558/publish'\n")))),(0,o.kt)("h3",{id:"response-2"},"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body"),(0,o.kt)("p",{parentName:"li"},"The response body includes the ID of the upload session and the publish status (integer value and associated message)."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Publishing finished (status value is "1")'),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "uploadSessionId": "D13539E5433CDB837363F086C6DA6B5C",\n  "status": "1",\n  "message": "result ready"\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'In processing (status value is not "1")'),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "uploadSessionId": "D13539E5433CDB837363F086C6DA6B5C",\n  "status": "6",\n  "message": "sql execution"\n}\n'))))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"delete-the-upload-session"},"Delete the upload session"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasets/pushApiV2Cancel"},"DELETE /api/datasets/{datasetId}/uploadSessions/{uploadSessionId}")),(0,o.kt)("p",null,"This endpoint allows the caller to delete the upload session after the dataset is published or cancel the publishing process. The request includes the authorization token generated when the user was authenticated, a project ID that was generated when the list of projects was returned, the ID of the dataset, and the ID of the upload session. If the call is successful, the resulting HTTP response returns an HTTP status code 200."),(0,o.kt)("h3",{id:"request-3"},"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Parameters"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"swagger_DELETE_datasets_datasetId_uploadSessions_uploadSessionId",src:a(754).Z,width:"780",height:"168"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Content-Type: application/json'\n'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm\u2019\n'X-MSTR-ProjectID: B19DEDCC11D4E0EFC000EB9495D0F44F'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X DELETE --header 'Accept: application/json' --header 'X-MSTR-AuthToken: p3c32i09rc92ml2u11nkats857' --header 'X-MSTR-ProjectID: 1DB3FCB845A6809E9DFFCA9D29C0CCE3' '\nhttps://demo.microstrategy.com/MicroStrategyLibrary /api/datasets/5138232E11E8D37B08A20080EF253616/uploadSessions/DB78D99811E8D37B16360080EF25B558'\n")))),(0,o.kt)("h3",{id:"response-3"},"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "content-security-policy": "frame-ancestors \'self\'",\n  "x-content-type-options": "nosniff",\n  "date": "Fri, 19 Oct 2018 09:08:21 GMT",\n  "transfer-encoding": "chunked",\n  "access-control-allow-methods": "GET, POST, DELETE, PUT, PATCH, HEAD, OPTIONS",\n  "cache-control": "no-store",\n  "access-control-allow-headers": "Content-Type",\n  "x-xss-protection": "1; mode=block",\n  "content-type": null\n}\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Body: Empty")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Response Code: 200"))),(0,o.kt)("h2",{id:"log-out"},"Log out"),(0,o.kt)("p",null,"End Point: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogout"},"POST /api/auth/logout")),(0,o.kt)("p",null,"This endpoint allows the caller to log out for the authenticated user, using the MicroStrategy REST server. You close the active user session by providing the authorization token generated during login. If the call is successful, the resulting HTTP response returns an HTTP status code 204."),(0,o.kt)("h3",{id:"request-4"},"Request"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Headers"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},"'Accept: application/json'\n'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm'\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Request Body: Empty")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Curl"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'X-MSTR-AuthToken: r8t814um1kjnjocse1kgm7rijm' 'https://demo.microstrategy.com/MicroStrategyLibrary/api/auth/logout'\n")))),(0,o.kt)("h3",{id:"response-4"},"Response"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Response code: 204")))}c.isMDXComponent=!0},754:function(e,t,a){t.Z=a.p+"assets/images/swagger_DELETE_datasets_datasetId_uploadSessions_uploadSessionId-c865ceebcd01c0cfe4a078c9dbe6ef86.jpg"},8746:function(e,t,a){t.Z=a.p+"assets/images/swagger_GET_datasets_datasetId_uploadSessions_uploadSessionId_publishStatus-beba84030d2ed56654c92ea57af20940.jpg"},834:function(e,t,a){t.Z=a.p+"assets/images/swagger_POST_datasets_datasetId_uploadSessions-29479e92f4554af58b87353d1609b59a.jpg"},1235:function(e,t,a){t.Z=a.p+"assets/images/swagger_POST_datasets_datasetId_uploadSessions_uploadSessionId_publish-7f0783fc4a930abfb79aff151d2e2535.jpg"},4012:function(e,t,a){t.Z=a.p+"assets/images/swagger_POST_datasets_models-ec1e26d16917c3393d031a1542c7c9de.jpg"},9399:function(e,t,a){t.Z=a.p+"assets/images/swagger_PUT_datasets_datasetId_uploadSessions_uploadSessionId-909e7a4cd490a2549559be82dd742af6.jpg"}}]);