"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[6493],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return d}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=o.createContext({}),p=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=p(e.components);return o.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,g=m["".concat(u,".").concat(d)]||m[d]||c[d]||r;return n?o.createElement(g,s(s({ref:t},l),{},{components:n})):o.createElement(g,s({ref:t},l))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=m;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<r;p++)s[p]=n[p];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4123:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return u},default:function(){return d},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return c}});var o=n(3117),a=n(102),r=(n(7294),n(3905)),s=["components"],i={title:"Workflow Sample - Update a Custom Group's Definition",sidebar_label:"Update a Custom Group's Definition",description:"This workflow sample demonstrates how to update a custom group\u2019s definition through the Modeling service."},u=void 0,p={unversionedId:"common-workflows/manage-custom-group-objects/update-a-custom-groups-definition",id:"common-workflows/manage-custom-group-objects/update-a-custom-groups-definition",title:"Workflow Sample - Update a Custom Group's Definition",description:"This workflow sample demonstrates how to update a custom group\u2019s definition through the Modeling service.",source:"@site/docs/common-workflows/manage-custom-group-objects/update-a-custom-groups-definition.md",sourceDirName:"common-workflows/manage-custom-group-objects",slug:"/common-workflows/manage-custom-group-objects/update-a-custom-groups-definition",permalink:"/rest-api-docs/common-workflows/manage-custom-group-objects/update-a-custom-groups-definition",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/manage-custom-group-objects/update-a-custom-groups-definition.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1663613072,formattedLastUpdatedAt:"Sep 19, 2022",frontMatter:{title:"Workflow Sample - Update a Custom Group's Definition",sidebar_label:"Update a Custom Group's Definition",description:"This workflow sample demonstrates how to update a custom group\u2019s definition through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Create a Custom Group Object with Filter Elements using Custom Expressions",permalink:"/rest-api-docs/common-workflows/manage-custom-group-objects/create-a-custom-group-object-with-filter-elements-using-custom-expressions"},next:{title:"Manage Table Objects",permalink:"/rest-api-docs/common-workflows/manage-table-objects/"}},l={},c=[{value:"Create a changeset",id:"create-a-changeset",level:2},{value:"Update the filter&#39;s definition",id:"update-the-filters-definition",level:2},{value:"Commit the changeset",id:"commit-the-changeset",level:2}],m={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can try out this workflow at ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-3c57732e-0689-406a-a6ad-c73ece5960c2?ctx=documentation"},"REST API Playground"),"."),(0,r.kt)("p",{parentName:"admonition"},"Learn more about MicroStrategy REST API Playground ",(0,r.kt)("a",{parentName:"p",href:"/rest-api-docs/getting-started/playground"},"here"),".")),(0,r.kt)("p",null,"This workflow sample demonstrates how to update a custom group\u2019s definition through the Modeling service."),(0,r.kt)("p",null,'You want to update the definition of the "Customers Value Metric Value Banding" custom group and rename it to "Customers Value Points Banding". The custom group is in the MicroStrategy Tutorial project. The object ID of the custom group is C4E98C9B4BACB6D57CCF58BD95672BF4. The project ID is B7CA92F04B9FAE8D941C3E9B7E0CD754.'),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},(0,r.kt)("inlineCode",{parentName:"a"},"POST /api/auth/login")),"."),(0,r.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},(0,r.kt)("inlineCode",{parentName:"a"},"GET /api/projects")),".")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"A changeset is required for creating, and/or updating objects such as filters, facts, attributes, and so on through the modeling APIs. A changeset maintains an indivisible group of creations or modifications on modeling objects. Eventually, the changes in the changeset should be either committed as one transaction or abandoned altogether.")),(0,r.kt)("h2",{id:"create-a-changeset"},"Create a changeset"),(0,r.kt)("p",null,"Endpoint: ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-createChangeset"},"POST /api/model/changesets"),"."),(0,r.kt)("p",null,"Sample Request Header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "bkf2bee310a9olr23h68dhgsvb"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,r.kt)("p",null,"Sample Request Body: Empty"),(0,r.kt)("p",null,"Sample Curl:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets" -H "accept: application/json" -H "X-MSTR-AuthToken: bkf2bee310a9olr23h68dhgsvb" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,r.kt)("p",null,"Sample Response Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "0187393B5F524C8781B7CF86A1A70FB9",\n  "dateCreated": "2021-06-17T12:22:00.368483Z",\n  "dateModified": "2021-06-17T12:22:00.368543Z",\n  "status": "Ready",\n  "schemaEdit": false,\n  "mstrProjectId": "B7CA92F04B9FAE8D941C3E9B7E0CD754",\n  "mstrUserId": "7FC05A65473CE2FD845CE6A1D3F13233",\n  "userDateNumberLocale": "en-US",\n  "userMetadataLocale": "en-US",\n  "userWarehouseLocale": "en-US",\n  "userName": "MSTR User"\n}\n')),(0,r.kt)("p",null,"Sample Response Code: 201 (A new changeset is created successfully.)"),(0,r.kt)("h2",{id:"update-the-filters-definition"},"Update the filter's definition"),(0,r.kt)("p",null,"Endpoint: ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Custom%20Groups/ms-putFilter"},"PUT /api/model/customGroups/{CustomGroupId}"),"."),(0,r.kt)("p",null,"Sample Request Header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "bkf2bee310a9olr23h68dhgsvb"\n"X-MSTR-MS-Changeset": "0187393B5F524C8781B7CF86A1A70FB9"\n')),(0,r.kt)("p",null,"Sample Request Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "subType": "custom_group",\n    "name": "Customers Value Points Banding",\n    "destinationFolderId": "98FE182C2A10427EACE0CD30B6768258"\n  },\n  "options": {\n    "hierarchyDisplay": true,\n    "subtotalsDisplay": false,\n    "elementHeaderAboveChild": true\n  },\n  "elements": [\n    {\n      "name": "All Customers",\n      "displayOption": "element",\n      "qualification": {\n        "text": "Set of  Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)",\n        "tree": {\n          "type": "predicate_banding_points",\n          "predicateText": "Set of  Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)",\n          "predicateTree": {\n            "level": [\n              {\n                "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Customer"\n              }\n            ],\n            "metric": {\n              "objectId": "4C051BCD11D3E877C000B3B2D86C964F",\n              "subType": "metric",\n              "name": "Running Revenue Contribution to All Customers Abs."\n            },\n            "bandMetricFunction": "value",\n            "bandNames": ["bottom 20%", "20%-40%", "40%-60%", "60%-80%", "Top 20%"],\n            "points": [0, 0.2, 0.4, 0.6, 0.8, 1]\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,r.kt)("p",null,"Sample Curl:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X PUT "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/customGroups/C4E98C9B4BACB6D57CCF58BD95672BF4" -H "accept: application/json" -H "X-MSTR-AuthToken: bkf2bee310a9olr23h68dhgsvb" -H "X-MSTR-MS-Changeset: 0187393B5F524C8781B7CF86A1A70FB9" -H "Content-Type: application/json" -d "{\\"information\\":{\\"name\\":\\"Customers Value Points Banding\\"},\\"options\\":{\\"hierarchyDisplay\\":true,\\"subtotalsDisplay\\":false,\\"elementHeaderAboveChild\\":true},\\"elements\\":[{\\"name\\":\\"All Customers\\",\\"displayOption\\":\\"element\\",\\"qualification\\":{\\"text\\":\\"Set of Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)\\",\\"tree\\":{\\"type\\":\\"predicate_banding_points\\",\\"predicateText\\":\\"Set of Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)\\",\\"predicateTree\\":{\\"level\\":[{\\"objectId\\":\\"8D679D3C11D3E4981000E787EC6DE8A4\\",\\"subType\\":\\"attribute\\",\\"name\\":\\"Customer\\"}],\\"metric\\":{\\"objectId\\":\\"4C051BCD11D3E877C000B3B2D86C964F\\",\\"subType\\":\\"metric\\",\\"name\\":\\"Running Revenue Contribution to All Customers Abs.\\"},\\"bandMetricFunction\\":\\"value\\",\\"bandNames\\":[\\"bottom 20%\\",\\"20%-40%\\",\\"40%-60%\\",\\"60%-80%\\",\\"Top 20%\\"],\\"points\\":[0,0.2,0.4,0.6,0.8,1]}}}}]}"\n')),(0,r.kt)("p",null,"Sample Response Body: You can view the custom group's new definition in the body of the response."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "dateCreated": "2021-06-17T12:18:16.462Z",\n    "dateModified": "2021-06-17T12:18:24.204Z",\n    "versionId": "E24959DD554D98FE656EA898E332103E",\n    "primaryLocale": "en-US",\n    "objectId": "C4E98C9B4BACB6D57CCF58BD95672BF4",\n    "subType": "custom_group",\n    "name": "Customers Value Points Banding",\n    "description": "Custom group defined with metric banding on Running Revenue Contribution to all Customers Abs."\n  },\n  "options": {\n    "hierarchyDisplay": true,\n    "subtotalsDisplay": false,\n    "elementHeaderAboveChild": true\n  },\n  "elements": [\n    {\n      "id": "040A250F4DFD4052B918A1F2A42D02C9",\n      "name": "All Customers",\n      "displayOption": "element",\n      "qualification": {\n        "text": "Set of  Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)",\n        "tree": {\n          "type": "predicate_banding_points",\n          "predicateId": "040A250F4DFD4052B918A1F2A42D02C9",\n          "predicateText": "Set of  Customer where BandingP({Running Revenue Contribution to All Customers Abs.},0,0.2,0.4,0.6,0.8,1)",\n          "predicateTree": {\n            "level": [\n              {\n                "objectId": "8D679D3C11D3E4981000E787EC6DE8A4",\n                "subType": "attribute",\n                "name": "Customer"\n              }\n            ],\n            "metric": {\n              "objectId": "4C051BCD11D3E877C000B3B2D86C964F",\n              "subType": "metric",\n              "name": "Running Revenue Contribution to All Customers Abs."\n            },\n            "bandMetricFunction": "value",\n            "bandNames": ["bottom 20%", "20%-40%", "40%-60%", "60%-80%", "Top 20%"],\n            "points": [0, 0.2, 0.4, 0.6, 0.8, 1]\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,r.kt)("p",null,"Response Code: 200 (The custom group's definition is updated successfully in the changeset.)"),(0,r.kt)("h2",{id:"commit-the-changeset"},"Commit the changeset"),(0,r.kt)("p",null,"Endpoint: ",(0,r.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-commitChangeset"},"POST /api/model/changesets/{ChangesetId}/commit"),"."),(0,r.kt)("p",null,"Sample Request Header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "bkf2bee310a9olr23h68dhgsvb"\n')),(0,r.kt)("p",null,"Sample Curl:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets" -H "accept: application/json" -H "X-MSTR-AuthToken: bkf2bee310a9olr23h68dhgsvb" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,r.kt)("p",null,"Sample Response Body:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "0187393B5F524C8781B7CF86A1A70FB9",\n  "dateCreated": "2021-06-17T12:22:00.368483Z",\n  "dateModified": "2021-06-17T12:27:34.511075Z",\n  "status": "Ready",\n  "schemaEdit": false,\n  "mstrProjectId": "B7CA92F04B9FAE8D941C3E9B7E0CD754",\n  "mstrUserId": "7FC05A65473CE2FD845CE6A1D3F13233",\n  "userDateNumberLocale": "en-US",\n  "userMetadataLocale": "en-US",\n  "userWarehouseLocale": "en-US",\n  "userName": "MSTR User"\n}\n')),(0,r.kt)("p",null,"Sample Response Code: 201 (The changeset is committed successfully.)"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Delete the changeset Endpoint: ",(0,r.kt)("a",{parentName:"li",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-deleteChangeset"},"DELETE /api/model/changesets/{ChangesetId}"))),(0,r.kt)("p",null,"Sample Request Header:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "bkf2bee310a9olr23h68dhgsvb"\n')),(0,r.kt)("p",null,"Sample Request Body: Empty"),(0,r.kt)("p",null,"Sample Curl:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X DELETE "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets/0187393B5F524C8781B7CF86A1A70FB9" -H "accept: application/json" -H "X-MSTR-AuthToken: bkf2bee310a9olr23h68dhgsvb"\n')),(0,r.kt)("p",null,"Sample Request Body: Empty"),(0,r.kt)("p",null,"Sample Response Code: 204 (The changeset has been deleted successfully.)"))}d.isMDXComponent=!0}}]);