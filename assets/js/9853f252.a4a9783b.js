"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[7278],{3905:function(n,e,t){t.d(e,{Zo:function(){return E},kt:function(){return D}});var a=t(7294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var p=a.createContext({}),m=function(n){var e=a.useContext(p),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},E=function(n){var e=m(n.components);return a.createElement(p.Provider,{value:e},n.children)},l={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,o=n.originalType,p=n.parentName,E=s(n,["components","mdxType","originalType","parentName"]),d=m(t),D=r,c=d["".concat(p,".").concat(D)]||d[D]||l[D]||o;return t?a.createElement(c,i(i({ref:e},E),{},{components:t})):a.createElement(c,i({ref:e},E))}));function D(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var o=t.length,i=new Array(o);i[0]=d;var s={};for(var p in e)hasOwnProperty.call(e,p)&&(s[p]=e[p]);s.originalType=n,s.mdxType="string"==typeof n?n:r,i[1]=s;for(var m=2;m<o;m++)i[m]=t[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9111:function(n,e,t){t.r(e),t.d(e,{assets:function(){return E},contentTitle:function(){return p},default:function(){return D},frontMatter:function(){return s},metadata:function(){return m},toc:function(){return l}});var a=t(3117),r=t(102),o=(t(7294),t(3905)),i=["components"],s={title:"Manage Page-By Information",description:"You can use REST API requests to manage page-by information for reports."},p=void 0,m={unversionedId:"common-workflows/manage-page-by-information",id:"common-workflows/manage-page-by-information",title:"Manage Page-By Information",description:"You can use REST API requests to manage page-by information for reports.",source:"@site/docs/common-workflows/manage-page-by-information.md",sourceDirName:"common-workflows",slug:"/common-workflows/manage-page-by-information",permalink:"/rest-api-docs/common-workflows/manage-page-by-information",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/manage-page-by-information.md",tags:[],version:"current",lastUpdatedBy:"xdumstr",lastUpdatedAt:1663944405,formattedLastUpdatedAt:"Sep 23, 2022",frontMatter:{title:"Manage Page-By Information",description:"You can use REST API requests to manage page-by information for reports."},sidebar:"tutorialSidebar",previous:{title:"Data Lineage Analysis via REST APIs",permalink:"/rest-api-docs/common-workflows/data-lineage-analysis-via-rest-apis"},next:{title:"Export to PDF",permalink:"/rest-api-docs/common-workflows/export-to-pdf"}},E={},l=[{value:"Fetch the Report Definition and Include Page-By Information",id:"fetch-the-report-definition-and-include-page-by-information",level:2},{value:"Execute the Report and Fetch Data to Apply to the Page-By Information",id:"execute-the-report-and-fetch-data-to-apply-to-the-page-by-information",level:2},{value:"Update a Report Instance to Modify the Current Page of Page-By(s)",id:"update-a-report-instance-to-modify-the-current-page-of-page-bys",level:2}],d={toc:l};function D(n){var e=n.components,s=(0,r.Z)(n,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,s,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You can try out this workflow at ",(0,o.kt)("a",{parentName:"p",href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-244d4021-db1d-4e6d-9b3e-04dd192faa2f?ctx=documentation"},"REST API Playground"),"."),(0,o.kt)("p",{parentName:"admonition"},"Learn more about MicroStrategy REST API Playground ",(0,o.kt)("a",{parentName:"p",href:"/rest-api-docs/getting-started/playground"},"here"),".")),(0,o.kt)("p",null,"You can use REST API requests to manage page-by information for reports."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#fetch-the-report-definition-and-include-page-by-information"},"Fetch the Report Definition and Include Page-By Information")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#execute-the-report-and-fetch-data-to-apply-to-the-page-by-information"},"Execute the Report and Fetch Data to Apply to the Page-By Information")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#update-a-report-instance-to-modify-the-current-page-of-page-bys"},"Update a Report Instance to Modify the Current Page of Page-By(s)"))),(0,o.kt)("p",null,"The workflows on this page use the Unit Sales Paged report located in the MicroStrategy Tutorial project at ",(0,o.kt)("strong",{parentName:"p"},"Shared Reports")," > ",(0,o.kt)("strong",{parentName:"p"},"MicroStrategy Platform Capabilities")," > ",(0,o.kt)("strong",{parentName:"p"},"MicroStrategy Office")," > ",(0,o.kt)("strong",{parentName:"p"},"Excel - Self-Service Report Book")," > ",(0,o.kt)("strong",{parentName:"p"},"Paged Report"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"page_by_report",src:t(2160).Z,width:"985",height:"233"})),(0,o.kt)("h2",{id:"fetch-the-report-definition-and-include-page-by-information"},"Fetch the Report Definition and Include Page-By Information"),(0,o.kt)("p",null,"This workflow sample demonstrates how to retrieve the definition of a report that contains a page-by section."),(0,o.kt)("p",null,"An application may need to know if a Page-By section exists on the page-by axis of a report prior to execution, so that it can set the desired value."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,o.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,o.kt)("p",null,"Execute ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/getDefinition_3"},"GET /api/v2/reports/{id}"),"."),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "4bb7n1dhjo860e7tlpchg57hl"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",null,"Sample Request Body: Empty"),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/v2/reports/FA055E5B408A9A7ABA47C6A001E8D72C" -H "accept: application/json" -H "X-MSTR-AuthToken: 4bb7n1dhjo860e7tlpchg57hl" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",null,"Sample Response Body:"),(0,o.kt)("p",null,"The report definition is returned in the body of the response. This includes information about the page-by section in ",(0,o.kt)("inlineCode",{parentName:"p"},"definition.pageBy"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Unit Sales Paged",\n  "id": "FA055E5B408A9A7ABA47C6A001E8D72C",\n  "definition": {\n    "grid": {\n      "crossTab": false,\n      "metricsPosition": {\n        "axis": "columns",\n        "index": 0\n      },\n      "rows": [\n        {\n          "name": "Subcategory",\n          "id": "8D679D4F11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ]\n        }\n      ],\n      "columns": [\n        {\n          "name": "Metrics",\n          "id": "00000000000000000000000000000000",\n          "type": "templateMetrics",\n          "elements": [\n            {\n              "name": "Unit Cost",\n              "id": "0782483A11D40C95C000C8906B98494F",\n              "type": "metric",\n              "dataType": "unknown"\n            },\n            {\n              "name": "Unit Price",\n              "id": "078248EE11D40C95C000C8906B98494F",\n              "type": "metric",\n              "dataType": "unknown"\n            },\n            {\n              "name": "Unit Profit",\n              "id": "7FD5B6D111D5AC76C000D98A4CC5F24F",\n              "type": "metric",\n              "dataType": "unknown"\n            },\n            {\n              "name": "Units Sold",\n              "id": "4C05190A11D3E877C000B3B2D86C964F",\n              "type": "metric",\n              "dataType": "unknown"\n            }\n          ]\n        }\n      ],\n      "pageBy": [\n        {\n          "name": "Category",\n          "id": "8D679D3711D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ]\n        },\n        {\n          "name": "Region",\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ]\n        },\n        {\n          "name": "Quarter",\n          "id": "8D679D4A11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ]\n        }\n      ],\n      "subtotals": {\n        "defined": false,\n        "visible": true\n      },\n      "sorting": {\n        "rows": [],\n        "columns": [],\n        "pageBy": []\n      },\n      "thresholds": []\n    },\n    "availableObjects": {\n      "attributes": [\n        {\n          "name": "Subcategory",\n          "id": "8D679D4F11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            },\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ]\n        },\n        {\n          "name": "Category",\n          "id": "8D679D3711D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            },\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ]\n        },\n        {\n          "name": "Region",\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            },\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ]\n        },\n        {\n          "name": "Quarter",\n          "id": "8D679D4A11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            },\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ]\n        }\n      ],\n      "metrics": [\n        {\n          "name": "Unit Cost",\n          "id": "0782483A11D40C95C000C8906B98494F",\n          "type": "metric",\n          "dataType": "unknown"\n        },\n        {\n          "name": "Unit Price",\n          "id": "078248EE11D40C95C000C8906B98494F",\n          "type": "metric",\n          "dataType": "unknown"\n        },\n        {\n          "name": "Unit Profit",\n          "id": "7FD5B6D111D5AC76C000D98A4CC5F24F",\n          "type": "metric",\n          "dataType": "unknown"\n        },\n        {\n          "name": "Units Sold",\n          "id": "4C05190A11D3E877C000B3B2D86C964F",\n          "type": "metric",\n          "dataType": "unknown"\n        }\n      ],\n      "customGroups": [],\n      "consolidations": [],\n      "hierarchies": []\n    }\n  }\n}\n')),(0,o.kt)("h2",{id:"execute-the-report-and-fetch-data-to-apply-to-the-page-by-information"},"Execute the Report and Fetch Data to Apply to the Page-By Information"),(0,o.kt)("p",null,"This workflow sample demonstrates how to execute a report by applying the page-by section provided by the API caller during execution. The assumption for this workflow is that the API caller is already aware of the existence of the objects on the page-by axis and their elements."),(0,o.kt)("p",null,"Initially the page-by elements are: Category = Books, Region = Central, Quarter = 2014 Q1. In this workflow, the page-by elements are changed to: Category = Electronics, Region = Mid-Atlantic, Quarter = 2014 Q2."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,o.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,o.kt)("p",null,"Execute ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/createReportInstance_1"},"POST /api/v2/reports/{id}/instances"),"."),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "4bb7n1dhjo860e7tlpchg57hl"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",null,"Sample Request Body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "currentPageBy": [\n    {\n      "id": "h2;8D679D3711D3E4981000E787EC6DE8A4"\n    },\n    {\n      "id": "h2;8D679D4B11D3E4981000E787EC6DE8A4"\n    },\n    {\n      "id": "h20142;8D679D4A11D3E4981000E787EC6DE8A4"\n    }\n  ]\n}\n')),(0,o.kt)("p",null,"In the request body, you pass ",(0,o.kt)("inlineCode",{parentName:"p"},'"currentPageBy"'),", which is an array of objects with one parameter ID. The position in the array corresponds to the order of the objects on the page-by axis in the report."),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/v2/reports/FA055E5B408A9A7ABA47C6A001E8D72C/instances?limit=10" -H "accept: application/json" -H "X-MSTR-AuthToken: 93ur91sedfb9f61bcjama7ekms" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754" -H "Content-Type: application/json" -d "{\\"currentPageBy\\":[{\\"id\\":\\"h2;8D679D3711D3E4981000E787EC6DE8A4\\"},{\\"id\\":\\"h2;8D679D4B11D3E4981000E787EC6DE8A4\\"},{\\"id\\":\\"h20142;8D679D4A11D3E4981000E787EC6DE8A4\\"}]}"\n')),(0,o.kt)("p",null,"Sample Response Body:"),(0,o.kt)("p",null,"The report definition is returned along with the data in the body of the response. This includes a definition for the page-by in ",(0,o.kt)("inlineCode",{parentName:"p"},"definition.pageBy"),"."),(0,o.kt)("p",null,"Metric data has been omitted from the following JSON sample for simplicity."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Unit Sales Paged",\n  "id": "FA055E5B408A9A7ABA47C6A001E8D72C",\n  "instanceId": "DF70FA6F1F492678E7606BBFCAEA358B",\n  "status": 1,\n  "definition": {\n    "grid": {\n      "crossTab": false,\n      "metricsPosition": {\n        "axis": "columns",\n        "index": 0\n      },\n      "rows": [\n        {\n          "name": "Subcategory",\n          "id": "8D679D4F11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Audio Equipment"],\n              "id": "h21;8D679D4F11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Cameras"],\n              "id": "h22;8D679D4F11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Computers"],\n              "id": "h23;8D679D4F11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Electronics - Miscellaneous"],\n              "id": "h24;8D679D4F11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["TV\'s"],\n              "id": "h25;8D679D4F11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Video Equipment"],\n              "id": "h26;8D679D4F11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        }\n      ],\n      "columns": [\n        {\n          "name": "Metrics",\n          "id": "00000000000000000000000000000000",\n          "type": "templateMetrics",\n          "elements": [\n            {\n              "name": "Unit Cost",\n              "id": "0782483A11D40C95C000C8906B98494F",\n              "type": "metric",\n              "min": 5.5406218487,\n              "max": 465.8073230769,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Unit Price",\n              "id": "078248EE11D40C95C000C8906B98494F",\n              "type": "metric",\n              "min": 7.1062801932,\n              "max": 586.7307692308,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Unit Profit",\n              "id": "7FD5B6D111D5AC76C000D98A4CC5F24F",\n              "type": "metric",\n              "min": 0.2646396825,\n              "max": 120.9234461538,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Units Sold",\n              "id": "4C05190A11D3E877C000B3B2D86C964F",\n              "type": "metric",\n              "min": 25,\n              "max": 1586,\n              "dataType": "short",\n              "numberFormatting": {\n                "category": 0,\n                "decimalPlaces": 0,\n                "formatString": "#,##0",\n                "negativeType": 1\n              }\n            }\n          ]\n        }\n      ],\n      "pageBy": [\n        {\n          "name": "Category",\n          "id": "8D679D3711D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Books"],\n              "id": "h1;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Electronics"],\n              "id": "h2;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Movies"],\n              "id": "h3;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Music"],\n              "id": "h4;8D679D3711D3E4981000E787EC6DE8A4"\n            }\n          ]\n        },\n        {\n          "name": "Region",\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Central"],\n              "id": "h4;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Mid-Atlantic"],\n              "id": "h2;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Northeast"],\n              "id": "h1;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Northwest"],\n              "id": "h6;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["South"],\n              "id": "h5;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Southeast"],\n              "id": "h3;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Southwest"],\n              "id": "h7;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Web"],\n              "id": "h12;8D679D4B11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        },\n        {\n          "name": "Quarter",\n          "id": "8D679D4A11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["2014 Q1"],\n              "id": "h20141;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q2"],\n              "id": "h20142;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q3"],\n              "id": "h20143;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q4"],\n              "id": "h20144;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q1"],\n              "id": "h20151;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q2"],\n              "id": "h20152;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q3"],\n              "id": "h20153;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q4"],\n              "id": "h20154;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q1"],\n              "id": "h20161;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q2"],\n              "id": "h20162;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q3"],\n              "id": "h20163;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q4"],\n              "id": "h20164;8D679D4A11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        }\n      ],\n      "subtotals": {\n        "defined": false,\n        "visible": true\n      },\n      "sorting": {\n        "rows": [],\n        "columns": [],\n        "pageBy": []\n      },\n      "thresholds": []\n    }\n  },\n  "data": {\n    "currentPageBy": [1, 1, 1],\n    "paging": {\n      "total": 6,\n      "current": 6,\n      "offset": 0,\n      "limit": 10\n    },\n    "headers": {\n      "rows": [[0], [1], [2], [3], [4], [5]],\n      "columns": [[0, 1, 2, 3]]\n    },\n    "metricValues": {\n      "raw": [],\n      "formatted": []\n    }\n  }\n}\n')),(0,o.kt)("h2",{id:"update-a-report-instance-to-modify-the-current-page-of-page-bys"},"Update a Report Instance to Modify the Current Page of Page-By(s)"),(0,o.kt)("p",null,"This workflow sample demonstrates how to update the current page of page-by(s) within a report. The report has been previously executed and the instance is reused across requests. This workflow can be used to extract data for multiple pages in a looped workflow."),(0,o.kt)("p",null,"Initially the page-by elements are: Category = Books, Region = Central, Quarter = 2014 Q1. In this example the page-by elements will be changed to: Category = Books, Region = Central, Quarter = 2015 Q1."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),"."),(0,o.kt)("p",{parentName:"admonition"},"Obtain the project ID from ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1"},"GET /api/projects"),".")),(0,o.kt)("p",null,"Obtain the report instance from ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/createReportInstance_1"},"POST /api/v2/reports/{id}/instances"),"."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Execute ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Reports/getPageByElements"},"GET /api/v2/reports/{id}/instances/{instanceId}/pageBy/elements"),"."),(0,o.kt)("p",{parentName:"li"},"Sample Request Header:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "4bb7n1dhjo860e7tlpchg57hl"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",{parentName:"li"},"Sample Request Body: Empty"),(0,o.kt)("p",{parentName:"li"},"Sample Curl:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/v2/reports/176422AD794B520D7AC674954643849B/instances/176422AD794B520D7AC674954643849B/pageBy/elements?limit=5" -H "accept: application/json" -H "X-MSTR-AuthToken: 4bb7n1dhjo860e7tlpchg57hl" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",{parentName:"li"},"Sample Response Body:"),(0,o.kt)("p",{parentName:"li"},"A ",(0,o.kt)("inlineCode",{parentName:"p"},"pageBy")," array is returned that includes the definition and elements of each page-by object. This result is filtered by the offset and limit provided in the request. A ",(0,o.kt)("inlineCode",{parentName:"p"},"validPageByElements")," object conveys the total elements in the page-by(s) and the valid combinations are outlined in ",(0,o.kt)("inlineCode",{parentName:"p"},"validPageByElements.items"),"."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "pageBy": [\n    {\n      "name": "Category",\n      "id": "8D679D3711D3E4981000E787EC6DE8A4",\n      "type": "attribute",\n      "forms": [\n        {\n          "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n          "name": "DESC",\n          "dataType": "nVarChar",\n          "baseFormCategory": "DESC",\n          "baseFormType": "text"\n        }\n      ],\n      "elements": [\n        {\n          "formValues": ["Books"],\n          "id": "h1;8D679D3711D3E4981000E787EC6DE8A4"\n        }\n      ]\n    },\n    {\n      "name": "Region",\n      "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n      "type": "attribute",\n      "forms": [\n        {\n          "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n          "name": "DESC",\n          "dataType": "varChar",\n          "baseFormCategory": "DESC",\n          "baseFormType": "text"\n        }\n      ],\n      "elements": [\n        {\n          "formValues": ["Central"],\n          "id": "h4;8D679D4B11D3E4981000E787EC6DE8A4"\n        }\n      ]\n    },\n    {\n      "name": "Quarter",\n      "id": "8D679D4A11D3E4981000E787EC6DE8A4",\n      "type": "attribute",\n      "forms": [\n        {\n          "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n          "name": "DESC",\n          "dataType": "varChar",\n          "baseFormCategory": "DESC",\n          "baseFormType": "text"\n        }\n      ],\n      "elements": [\n        {\n          "formValues": ["2014 Q1"],\n          "id": "h20141;8D679D4A11D3E4981000E787EC6DE8A4"\n        },\n        {\n          "formValues": ["2014 Q2"],\n          "id": "h20142;8D679D4A11D3E4981000E787EC6DE8A4"\n        },\n        {\n          "formValues": ["2014 Q3"],\n          "id": "h20143;8D679D4A11D3E4981000E787EC6DE8A4"\n        },\n        {\n          "formValues": ["2014 Q4"],\n          "id": "h20144;8D679D4A11D3E4981000E787EC6DE8A4"\n        },\n        {\n          "formValues": ["2015 Q1"],\n          "id": "h20151;8D679D4A11D3E4981000E787EC6DE8A4"\n        }\n      ]\n    }\n  ],\n  "validPageByElements": {\n    "paging": {\n      "total": 384,\n      "current": 5,\n      "offset": 0,\n      "limit": 5\n    },\n    "items": [\n      [0, 0, 0],\n      [0, 0, 1],\n      [0, 0, 2],\n      [0, 0, 3],\n      [0, 0, 4]\n    ]\n  }\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Execute ",(0,o.kt)("inlineCode",{parentName:"p"},"PUT /api/v2/reports/{id}/instances/{instanceId}"),". This API can be used to update the current page-by selection."),(0,o.kt)("p",{parentName:"li"},"Sample Request Header:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "4bb7n1dhjo860e7tlpchg57hl"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754"\n')),(0,o.kt)("p",{parentName:"li"},"Sample Request Body:"),(0,o.kt)("p",{parentName:"li"},"The passed selection is Category = Books, Region = Central, Quarter = 2015 Q1. This can be validated as correct based on ",(0,o.kt)("inlineCode",{parentName:"p"},"validPageByElements.items[4]")," from the previous response."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "currentPageBy": [\n    {\n      "id": "h1;8D679D3711D3E4981000E787EC6DE8A4"\n    },\n    {\n      "id": "h4;8D679D4B11D3E4981000E787EC6DE8A4"\n    },\n    {\n      "id": "h20151;8D679D4A11D3E4981000E787EC6DE8A4"\n    }\n  ]\n}\n')),(0,o.kt)("p",{parentName:"li"},"The request body passes a ",(0,o.kt)("inlineCode",{parentName:"p"},'"currentPageBy"')," object, which is an array of objects with one ",(0,o.kt)("inlineCode",{parentName:"p"},'"id"')," parameter. The position in the array corresponds with the order of the objects on the page-by axis within the report."),(0,o.kt)("p",{parentName:"li"},"Sample Curl:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/v2/reports/FA055E5B408A9A7ABA47C6A001E8D72C/instances?limit=10" -H "accept: application/json" -H "X-MSTR-AuthToken: 93ur91sedfb9f61bcjama7ekms" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754" -H "Content-Type: application/json" -d "{\\"currentPageBy\\":[{\\"id\\":\\"h2;8D679D3711D3E4981000E787EC6DE8A4\\"},{\\"id\\":\\"h2;8D679D4B11D3E4981000E787EC6DE8A4\\"},{\\"id\\":\\"h20142;8D679D4A11D3E4981000E787EC6DE8A4\\"}]}"\n')),(0,o.kt)("p",{parentName:"li"},"Sample Response Body:"),(0,o.kt)("p",{parentName:"li"},"The report definition is returned along with the data in the body of the response. This includes a definition for the page-by in ",(0,o.kt)("inlineCode",{parentName:"p"},"definition.pageBy"),". The current page-by can be found within ",(0,o.kt)("inlineCode",{parentName:"p"},"data.currentPageBy"),", which shows ",(0,o.kt)("inlineCode",{parentName:"p"},"[0,0,4]")," aligning to the updated input that was provided."),(0,o.kt)("p",{parentName:"li"},"Metric data has been omitted from the following JSON sample for simplicity."),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "Unit Sales Paged",\n  "id": "FA055E5B408A9A7ABA47C6A001E8D72C",\n  "instanceId": "220E77C2F24A4246112B9BB85F31BEDB",\n  "status": 1,\n  "definition": {\n    "grid": {\n      "crossTab": false,\n      "metricsPosition": {\n        "axis": "columns",\n        "index": 0\n      },\n      "rows": [\n        {\n          "name": "Subcategory",\n          "id": "8D679D4F11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Art & Architecture"],\n              "id": "h11;8D679D4F11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        }\n      ],\n      "columns": [\n        {\n          "name": "Metrics",\n          "id": "00000000000000000000000000000000",\n          "type": "templateMetrics",\n          "elements": [\n            {\n              "name": "Unit Cost",\n              "id": "0782483A11D40C95C000C8906B98494F",\n              "type": "metric",\n              "min": 5.5406218487,\n              "max": 465.8073230769,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Unit Price",\n              "id": "078248EE11D40C95C000C8906B98494F",\n              "type": "metric",\n              "min": 7.1062801932,\n              "max": 586.7307692308,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Unit Profit",\n              "id": "7FD5B6D111D5AC76C000D98A4CC5F24F",\n              "type": "metric",\n              "min": 0.2646396825,\n              "max": 120.9234461538,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "formatString": "\\"$ \\" #,##0",\n                "negativeType": 1\n              }\n            },\n            {\n              "name": "Units Sold",\n              "id": "4C05190A11D3E877C000B3B2D86C964F",\n              "type": "metric",\n              "min": 25,\n              "max": 1586,\n              "dataType": "short",\n              "numberFormatting": {\n                "category": 0,\n                "decimalPlaces": 0,\n                "formatString": "#,##0",\n                "negativeType": 1\n              }\n            }\n          ]\n        }\n      ],\n      "pageBy": [\n        {\n          "name": "Category",\n          "id": "8D679D3711D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "nVarChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Books"],\n              "id": "h1;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Electronics"],\n              "id": "h2;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Movies"],\n              "id": "h3;8D679D3711D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Music"],\n              "id": "h4;8D679D3711D3E4981000E787EC6DE8A4"\n            }\n          ]\n        },\n        {\n          "name": "Region",\n          "id": "8D679D4B11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["Central"],\n              "id": "h4;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Mid-Atlantic"],\n              "id": "h2;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Northeast"],\n              "id": "h1;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Northwest"],\n              "id": "h6;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["South"],\n              "id": "h5;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Southeast"],\n              "id": "h3;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Southwest"],\n              "id": "h7;8D679D4B11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["Web"],\n              "id": "h12;8D679D4B11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        },\n        {\n          "name": "Quarter",\n          "id": "8D679D4A11D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "CCFBE2A5EADB4F50941FB879CCF1721C",\n              "name": "DESC",\n              "dataType": "varChar",\n              "baseFormCategory": "DESC",\n              "baseFormType": "text"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["2014 Q1"],\n              "id": "h20141;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q2"],\n              "id": "h20142;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q3"],\n              "id": "h20143;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2014 Q4"],\n              "id": "h20144;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q1"],\n              "id": "h20151;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q2"],\n              "id": "h20152;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q3"],\n              "id": "h20153;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015 Q4"],\n              "id": "h20154;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q1"],\n              "id": "h20161;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q2"],\n              "id": "h20162;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q3"],\n              "id": "h20163;8D679D4A11D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016 Q4"],\n              "id": "h20164;8D679D4A11D3E4981000E787EC6DE8A4"\n            }\n          ]\n        }\n      ],\n      "subtotals": {\n        "defined": false,\n        "visible": true\n      },\n      "sorting": {\n        "rows": [],\n        "columns": [],\n        "pageBy": []\n      },\n      "thresholds": []\n    }\n  },\n  "data": {\n    "currentPageBy": [0, 0, 4],\n    "paging": {\n      "total": 6,\n      "current": 1,\n      "offset": 0,\n      "limit": 1\n    },\n    "headers": {\n      "rows": [[0]],\n      "columns": [[0, 1, 2, 3]]\n    },\n    "metricValues": {\n      "raw": [[12.3690721003, 16.5736677116, 4.2045956113, 322]],\n      "formatted": [["$  12", "$  17", "$  4", "322"]],\n      "extras": [[{}, {}, {}, {}]]\n    }\n  }\n}\n')))))}D.isMDXComponent=!0},2160:function(n,e,t){e.Z=t.p+"assets/images/page_by_report-39ca3286a06fb812b9c054ae79de1f7a.png"}}]);