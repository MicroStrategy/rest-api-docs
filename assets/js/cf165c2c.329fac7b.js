"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[4986],{3905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return g}});var r=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=r.createContext({}),p=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},m=function(t){var e=p(t.components);return r.createElement(s.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,i=t.originalType,s=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),u=p(n),g=a,c=u["".concat(s,".").concat(g)]||u[g]||d[g]||i;return n?r.createElement(c,l(l({ref:e},m),{},{components:n})):r.createElement(c,l({ref:e},m))}));function g(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var i=n.length,l=new Array(i);l[0]=u;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:a,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},88562:function(t,e,n){n.r(e),n.d(e,{assets:function(){return d},contentTitle:function(){return p},default:function(){return y},frontMatter:function(){return s},metadata:function(){return m},toc:function(){return u}});var r,a=n(83117),i=n(80102),l=(n(67294),n(3905)),o=["components"],s={title:"Retrieve history lists",Description:"Retrieve history lists using the MicroStrategy REST API."},p=void 0,m={unversionedId:"common-workflows/administration/manage-history-lists/get-history-list/get-history-list",id:"common-workflows/administration/manage-history-lists/get-history-list/get-history-list",title:"Retrieve history lists",description:"This workflow sample demonstrates how to retrieve messages from the history list using the MicroStrategy REST API.",source:"@site/docs/common-workflows/administration/manage-history-lists/get-history-list/get-history-list.md",sourceDirName:"common-workflows/administration/manage-history-lists/get-history-list",slug:"/common-workflows/administration/manage-history-lists/get-history-list/",permalink:"/rest-api-docs/common-workflows/administration/manage-history-lists/get-history-list/",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/administration/manage-history-lists/get-history-list/get-history-list.md",tags:[],version:"current",lastUpdatedBy:"Darren Holmblad",lastUpdatedAt:1697826885,formattedLastUpdatedAt:"Oct 20, 2023",frontMatter:{title:"Retrieve history lists",Description:"Retrieve history lists using the MicroStrategy REST API."},sidebar:"tutorialSidebar",previous:{title:"Manage History Lists",permalink:"/rest-api-docs/common-workflows/administration/manage-history-lists/"},next:{title:"Manage subscriptions",permalink:"/rest-api-docs/common-workflows/administration/distribution-services/manage-subscriptions/"}},d={},u=[{value:"Get History Lists",id:"get-history-lists",level:2},{value:"Request URL",id:"request-url",level:3},{value:"Endpoint: GET /api/v2/historyList",id:"endpoint-get-apiv2historylist",level:3},{value:"Sample Curl Request",id:"sample-curl-request",level:3},{value:"Request Headers",id:"request-headers",level:3},{value:"Request Parameters",id:"request-parameters",level:3},{value:"Response",id:"response",level:3},{value:"Sample Response",id:"sample-response",level:4}],g=(r="Available",function(t){return console.warn("Component "+r+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",t)}),c={toc:u};function y(t){var e=t.components,n=(0,i.Z)(t,o);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)(g,{since:"2021 Update 8",mdxType:"Available"}),(0,l.kt)("p",null,"This workflow sample demonstrates how to retrieve messages from the history list using the MicroStrategy REST API."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,l.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},"POST /api/auth/login"),".")),(0,l.kt)("h2",{id:"get-history-lists"},"Get History Lists"),(0,l.kt)("p",null,"Use the following endpoint to get a list of history lists:"),(0,l.kt)("h3",{id:"request-url"},"Request URL"),(0,l.kt)("h3",{id:"endpoint-get-apiv2historylist"},"Endpoint: ",(0,l.kt)("a",{parentName:"h3",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/History%20List/getHistoryList_1"},"GET /api/v2/historyList")),(0,l.kt)("h3",{id:"sample-curl-request"},"Sample Curl Request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X 'GET' \\\n  'https://demo.microstrategy.com/MicroStrategyLibrary/api/v2/historyList?scope=single_user&projectId=9DE876B611E7C33BF65B0080EF45D3E8&offset=0&limit=-1' \\\n  -H 'accept: application/json' \\\n  -H 'X-MSTR-AuthToken: p3itnh1510c2j7kg29t29ju5us'\n")),(0,l.kt)("h3",{id:"request-headers"},"Request Headers"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"X-MSTR-AuthToken")),(0,l.kt)("td",{parentName:"tr",align:null},"Header"),(0,l.kt)("td",{parentName:"tr",align:null},"Authorization token")))),(0,l.kt)("h3",{id:"request-parameters"},"Request Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Located in"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"scope"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"History list retrieval scope, options: ",(0,l.kt)("inlineCode",{parentName:"td"},"single_user")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"all_users")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string (",(0,l.kt)("inlineCode",{parentName:"td"},"single_user"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"all_users"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"projectId"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Field to filter on project ID of the job"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetInfo.name"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of history list message target object, used for filtering as 'contains'"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"messageDisplayName"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Message Display Name"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ownerId"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Message Owner ID"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetInfo.objectCreator"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of object creator"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Type of the content, options: ",(0,l.kt)("inlineCode",{parentName:"td"},"report"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"document"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"dossier")),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string (",(0,l.kt)("inlineCode",{parentName:"td"},"report"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"document"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"dossier"),")")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Message status"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"readStatus"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Message read status"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"applicationType"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Application type"),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"string")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"offset"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Starting point within the collection of returned results. Used to control paging behavior."),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"integer (int32)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"limit"),(0,l.kt)("td",{parentName:"tr",align:null},"Query"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of items returned for a single request. Used to control paging behavior. Use -1 for no limit."),(0,l.kt)("td",{parentName:"tr",align:null},"No"),(0,l.kt)("td",{parentName:"tr",align:null},"integer (int32)")))),(0,l.kt)("h3",{id:"response"},"Response"),(0,l.kt)("p",null,"If successful, this API call returns a ",(0,l.kt)("inlineCode",{parentName:"p"},"200 OK")," status code and the list of documents in the response body. The response body follows the ",(0,l.kt)("inlineCode",{parentName:"p"},"HistoryListMessages")," schema."),(0,l.kt)("h4",{id:"sample-response"},"Sample Response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "historyList": [\n    {\n      "messageId": "0A6B683C4AF5FECC365F4CA18C11710A",\n      "title": "2.NormalRWD",\n      "stateId": 0,\n      "saveStateId": 0,\n      "serverStateId": 0,\n      "messageType": "read_message",\n      "status": "reserved",\n      "sequenceNumber": 10,\n      "parentId": "00000000000000000000000000000000",\n      "clientType": "MicroStrategyWeb",\n      "requestType": "document",\n      "requestStatus": "job_running",\n      "startTime": "2022-06-30T06:10:50Z",\n      "finishTime": "2022-06-30T06:10:52Z",\n      "targetInfo": {\n        "creationTime": "2022-06-30T06:10:50Z",\n        "modificationTime": "2022-06-30T06:10:52Z",\n        "objectId": "E0783EAF44DEF424CA5215A228D33606",\n        "type": "document_definition",\n        "objectDesc": "",\n        "objectCreator": "Administrator",\n        "folderId": "D6253070472AA691A4E9C88E72B7AC64",\n        "folderName": "HLCodeCoverage"\n      },\n      "projectId": "9DE876B611E7C33BF65B0080EF45D3E8",\n      "projectName": "MicroStrategy Tutorial",\n      "resultFlags": 0,\n      "cacheId": null,\n      "messageText": "User request is completed.",\n      "displayName": "2.NormalRWD",\n      "ownerName": "Administrator",\n      "ownerId": "D6253070472AA691A4E9C88E72B7AC6D",\n      "locale": 0,\n      "language": "English (United States)",\n      "children": [\n        {\n          "messageId": "33732CEC431C52F3FE781183676E2D62",\n          "title": "1.NormalReport",\n          "stateId": 0,\n          "saveStateId": 0,\n          "serverStateId": 0,\n          "messageType": "general",\n          "status": "new_message",\n          "sequenceNumber": 11,\n          "parentId": "0A6B683C4AF5FECC365F4CA18C11710A",\n          "clientType": "MicroStrategyWeb",\n          "requestType": "report",\n          "requestStatus": 1,\n          "startTime": "2022-06-30T06:10:51Z",\n          "finishTime": "2022-06-30T06:10:51Z",\n          "targetInfo": {\n            "creationTime": "2022-06-30T06:10:51Z",\n            "modificationTime": "2022-06-30T06:10:51Z",\n            "objectId": "1806052048A0120B1168D2B6EF66BA5B",\n            "type": "report_definition",\n            "objectDesc": "",\n            "objectCreator": "Administrator",\n            "folderId": "D6253070472AA691A4E9C88E72B7AC64",\n            "folderName": "HLCodeCoverage"\n          },\n          "projectName": "MicroStrategy Tutorial",\n          "resultFlags": "dtls_expr_nothing",\n          "messageText": "User request is completed.",\n          "displayName": "1.NormalReport",\n          "ownerName": "Administrator",\n          "locale": 0,\n          "language": "English (United States)"\n        }\n      ]\n    },\n    {\n      "messageId": "A414294343F46D29AE9DBF84F6B25A2E",\n      "title": "3Ms",\n      "stateId": 0,\n      "saveStateId": 0,\n      "serverStateId": 0,\n      "messageType": "general",\n      "status": "new_message",\n      "sequenceNumber": 9,\n      "parentId": "00000000000000000000000000000000",\n      "clientType": "MicroStrategyWeb",\n      "requestType": "report",\n      "requestStatus": "loading_prompt",\n      "startTime": "2022-07-30T06:10:51Z",\n      "finishTime": "2022-07-30T06:10:58Z",\n      "targetInfo": {\n        "creationTime": "2022-07-30T06:10:51Z",\n        "modificationTime": "2022-06-30T06:10:58Z",\n        "objectId": "6B9F06CB452CD307AE4F299EC1CD380A",\n        "type": "report_definition",\n        "objectDesc": "",\n        "objectCreator": "Administrator",\n        "folderId": "BE4B09B24918EA987267DBA2D9D11593",\n        "folderName": "_Chun"\n      },\n      "projectId": "9DE876B611E7C33BF65B0080EF45D3E8",\n      "projectName": "MicroStrategy Tutorial",\n      "resultFlags": "dtls_expr_nothing",\n      "messageText": "User request is completed.",\n      "displayName": "3Ms",\n      "ownerName": "Administrator",\n      "locale": 0,\n      "language": "English (United States)"\n    }\n  ]\n}\n')))}y.isMDXComponent=!0}}]);