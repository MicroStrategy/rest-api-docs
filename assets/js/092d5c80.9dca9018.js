"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[4224],{92034:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var t=a(74848),o=a(28453);const r={title:"Create a datasource",description:"The workflow for creating a datasource includes the following sequence of REST API requests."},s=void 0,i={id:"common-workflows/administration/datasource-management/create-a-datasource",title:"Create a datasource",description:"The workflow for creating a datasource includes the following sequence of REST API requests.",source:"@site/docs/common-workflows/administration/datasource-management/create-a-datasource.md",sourceDirName:"common-workflows/administration/datasource-management",slug:"/common-workflows/administration/datasource-management/create-a-datasource",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/create-a-datasource",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/administration/datasource-management/create-a-datasource.md",tags:[],version:"current",lastUpdatedBy:"ziyuhehe",lastUpdatedAt:1710490354,formattedLastUpdatedAt:"Mar 15, 2024",frontMatter:{title:"Create a datasource",description:"The workflow for creating a datasource includes the following sequence of REST API requests."},sidebar:"tutorialSidebar",previous:{title:"Datasource management",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/"},next:{title:"Update a datasource",permalink:"/rest-api-docs/common-workflows/administration/datasource-management/update-a-datasource"}},c={},d=[{value:"Create datasource login",id:"create-datasource-login",level:2},{value:"Create a datasource connection",id:"create-a-datasource-connection",level:2},{value:"Create a database source",id:"create-a-database-source",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The workflow for creating a datasource includes the following sequence of REST API requests."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#create-datasource-login",children:"Create a datasource login"})," ",(0,t.jsx)(n.code,{children:"POST /api/datasources/logins"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#create-a-datasource-connection",children:"Create a datasource connection"})," ",(0,t.jsx)(n.code,{children:"POST /api/datasources/connections"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#create-a-database-source",children:"Create a database source"})," ",(0,t.jsx)(n.code,{children:"POST /api/datasources"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"A detailed description of each step of this request is listed down below."}),"\n",(0,t.jsx)(n.h2,{id:"create-datasource-login",children:"Create datasource login"}),"\n",(0,t.jsxs)(n.p,{children:["Endpoint: ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/createDatasourceLogin",children:"POST /api/datasources/logins"})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Get the authorization token needed to execute the request with ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:'"Content-Type": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Test_Snow_Login",\n  "password": "mstr",\n  "username": "mstr",\n  "description": ""\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl --location --request POST \'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasources/logins\' \\\n--header \'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "name": "Test_Snow_Login",\n    "password": "mstr",\n    "username": "mstr",\n    "description": ""\n}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Test_Snow_Login",\n  "id": "34B407AA6B43C17B8286A3AEEA775DB3",\n  "description": "",\n  "dateCreated": "2021-08-04T15:44:35.000+0000",\n  "dateModified": "2021-08-04T15:44:35.000+0000",\n  "acg": 255,\n  "username": "mstr"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Code: 201 (Datasource login is created successfully.)"}),"\n",(0,t.jsx)(n.h2,{id:"create-a-datasource-connection",children:"Create a datasource connection"}),"\n",(0,t.jsxs)(n.p,{children:["Endpoint: ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/createDatabaseConnection",children:"POST /api/datasources/connections"})]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["Get the authorization token needed to execute the request with ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,t.jsxs)(n.p,{children:["Obtain the datasource login id from the response body of the previous call. From our example, it is ",(0,t.jsx)(n.code,{children:'"34B407AA6B43C17B8286A3AEEA775DB3"'})]})]}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:'"Content-Type": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Test_Snow_Connection",\n  "description": "",\n  "executionMode": "synchronous",\n  "maxCancelAttemptTime": 60,\n  "maxQueryExeTime": 0,\n  "maxConnectionAttemptTime": 60,\n  "connectionLifetime": 36000,\n  "connectionIdleTimeout": 60000,\n  "charEncodingWindows": "multibyte",\n  "charEncodingUnix": "utf8",\n  "tablePrefix": "",\n  "connectionString": "DSN=SNOWFLAKE_DSN",\n  "parameterizedQueries": true,\n  "extendedFetch": false,\n  "database": {\n    "login": {\n      "id": "{datasource_login_id}",\n      "name": "Test_snow_login"\n    },\n    "type": "snow_flake",\n    "version": "snowflake_1x"\n  },\n  "driverType": "odbc",\n  "oauthParameter": ""\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl --location --request POST \'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasources/connections\' \\\n--header \'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "name": "Test_Snow_Connection",\n    "description": "",\n    "executionMode": "synchronous",\n    "maxCancelAttemptTime": 60,\n    "maxQueryExeTime": 0,\n    "maxConnectionAttemptTime": 60,\n    "connectionLifetime": 36000,\n    "connectionIdleTimeout": 60000,\n    "charEncodingWindows": "multibyte",\n    "charEncodingUnix": "utf8",\n    "tablePrefix": "",\n    "connectionString": "DSN=SNOWFLAKE_DSN",\n    "parameterizedQueries": true,\n    "extendedFetch": false,\n    "database": {\n        "login": {\n            "id": "34B407AA6B43C17B8286A3AEEA775DB3",\n            "name": "Test_snow_login"\n        },\n        "type": "snow_flake",\n        "version": "snowflake_1x"\n\n    },\n    "driverType": "odbc",\n    "oauthParameter": ""\n}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Test_Snow_Connection",\n  "id": "CDCBE48C1342CBC68FCE4393AF33A1CC",\n  "description": "",\n  "acg": 0,\n  "executionMode": "synchronous",\n  "maxCancelAttemptTime": 60,\n  "maxQueryExeTime": 0,\n  "maxConnectionAttemptTime": 60,\n  "connectionLifetime": 36000,\n  "connectionIdleTimeout": 60000,\n  "charEncodingWindows": "multibyte",\n  "charEncodingUnix": "utf8",\n  "tablePrefix": "",\n  "connectionString": "DSN=SNOWFLAKE_DSN",\n  "parameterizedQueries": true,\n  "extendedFetch": false,\n  "database": {\n    "login": {\n      "id": "34B407AA6B43C17B8286A3AEEA775DB3",\n      "name": "Test_Snow_Login"\n    },\n    "type": "snow_flake",\n    "version": "snowflake_1x"\n  },\n  "driverType": "odbc",\n  "oauthParameter": ""\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Code: 201 (Datasource connection is created successfully.)"}),"\n",(0,t.jsx)(n.h2,{id:"create-a-database-source",children:"Create a database source"}),"\n",(0,t.jsxs)(n.p,{children:["Endpoint: ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/createDatasource",children:"POST /api/datasources"})]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["Get the authorization token needed to execute the request with ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,t.jsxs)(n.p,{children:["Obtain the datasource connection id from the response body of the previous call. From our example, it is ",(0,t.jsx)(n.code,{children:'"CDCBE48C1342CBC68FCE4393AF33A1CC"'})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Endpoint: ",(0,t.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Datasource%20Management/createDatasource",children:"POST /api/datasources"})]}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:'"Content-Type": "application/json"\n"X-MSTR-AuthToken": "pisu5dkkutqfblaamdomgr00ch"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Request Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Test_Snow_Source",\n  "description": "",\n  "datasourceType": "normal",\n  "database": {\n    "connection": {\n      "id": "{connectionId}"\n    }\n  },\n  "tablePrefix": "",\n  "odbcVersion": "version3x",\n  "intermediateStoreDbName": "",\n  "intermediateStoreTableSpaceName": "",\n  "dbms": {\n    "id": "86AC7FD44D2B4B0FB65AE948EF19BDD0"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl --location --request POST \'https://demo.microstrategy.com/MicroStrategyLibrary/api/datasources\' \\\n--header \'X-MSTR-AuthToken: pisu5dkkutqfblaamdomgr00ch\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "name": "Test_Snow_Source",\n    "description": "",\n    "datasourceType": "normal",\n    "database": {\n        "connection": {\n            "id": "{{connectionId}}"\n        }\n    },\n    "tablePrefix": "",\n    "odbcVersion": "version3x",\n    "intermediateStoreDbName": "",\n    "intermediateStoreTableSpaceName": "",\n    "dbms": {\n        "id": "86AC7FD44D2B4B0FB65AE948EF19BDD0"\n    }\n}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": "604F7EB2AF4E8CCB93F0C48071A3F466",\n  "name": "Test_Snow_Source",\n  "description": "",\n  "dateCreated": "2021-08-03T20:58:56.000+0000",\n  "dateModified": "2021-08-03T20:58:56.000+0000",\n  "acg": 255,\n  "datasourceType": "normal",\n  "database": {\n    "type": "snow_flake",\n    "version": "snowflake_1x",\n    "connection": {\n      "name": "Test_Snow_Connection",\n      "id": "1E6897CFC14887C5A1B7D19E0D023DDF",\n      "isEmbedded": false\n    }\n  },\n  "tablePrefix": "",\n  "odbcVersion": "version3x",\n  "intermediateStoreDbName": "",\n  "intermediateStoreTableSpaceName": "",\n  "dbms": {\n    "name": "Snowflake",\n    "id": "86AC7FD44D2B4B0FB65AE948EF19BDD0"\n  },\n  "owner": {\n    "name": "MSTR User",\n    "id": "7FC05A65473CE2FD845CE6A1D3F13233"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sample Response Code: 201 (A new database source is created successfully.)"})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>i});var t=a(96540);const o={},r=t.createContext(o);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);