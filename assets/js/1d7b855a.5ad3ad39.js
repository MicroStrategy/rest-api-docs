"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[4752],{63919:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var i=t(74848),s=t(28453);const o={title:"Retrieve a fact's definition",sidebar_label:"Retrieve a fact's definition",description:"This topic covers two workflows for retrieving a fact\u2019s definition."},r=void 0,a={id:"common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition",title:"Retrieve a fact's definition",description:"This topic covers two workflows for retrieving a fact\u2019s definition.",source:"@site/docs/common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition.md",sourceDirName:"common-workflows/modeling/manage-fact-objects",slug:"/common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition",permalink:"/rest-api-docs/common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition.md",tags:[],version:"current",lastUpdatedBy:"wangrenhang",lastUpdatedAt:1711017072,formattedLastUpdatedAt:"Mar 21, 2024",frontMatter:{title:"Retrieve a fact's definition",sidebar_label:"Retrieve a fact's definition",description:"This topic covers two workflows for retrieving a fact\u2019s definition."},sidebar:"tutorialSidebar",previous:{title:"Manage fact objects",permalink:"/rest-api-docs/common-workflows/modeling/manage-fact-objects/"},next:{title:"Retrieve a fact's definition within a changeset",permalink:"/rest-api-docs/common-workflows/modeling/manage-fact-objects/retrieve-a-facts-definition-within-a-changeset"}},c={},d=[{value:"Retrieve a fact&#39;s definition",id:"retrieve-a-facts-definition",level:2},{value:"Retrieve a fact&#39;s definition with expressions in tree and tokens formats",id:"retrieve-a-facts-definition-with-expressions-in-tree-and-tokens-formats",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{Available:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t,{since:"2021 Update 1"}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["You can try out this workflow at ",(0,i.jsx)(n.a,{href:"https://www.postman.com/microstrategysdk/workspace/microstrategy-rest-api/folder/16131298-3b137a26-4cf4-4902-8f11-9d7a7cffc5f0?ctx=documentation",children:"REST API Playground"}),"."]}),(0,i.jsxs)(n.p,{children:["Learn more about MicroStrategy REST API Playground ",(0,i.jsx)(n.a,{href:"/rest-api-docs/getting-started/playground",children:"here"}),"."]})]}),"\n",(0,i.jsx)(n.p,{children:"This topic covers two workflows for retrieving a fact\u2019s definition:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#retrieve-a-facts-definition",children:"Retrieve a fact's definition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#retrieve-a-facts-definition-with-expressions-in-tree-and-tokens-formats",children:"Retrieve a fact's definition with expressions in tree and tokens formats"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"retrieve-a-facts-definition",children:"Retrieve a fact's definition"}),"\n",(0,i.jsx)(n.p,{children:"This workflow sample demonstrates how to retrieve the definition of a fact through the Modeling service."}),"\n",(0,i.jsxs)(n.p,{children:['You want to get the definition of the "Profit" fact object. The object ID of the fact is ',(0,i.jsx)(n.code,{children:"FDD652E7444ADD7AB6B25F9C1FA15F92"})," in the MicroStrategy Tutorial project. The project ID is ",(0,i.jsx)(n.code,{children:"B7CA92F04B9FAE8D941C3E9B7E0CD754"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsxs)(n.p,{children:["Get the authorization token needed to execute the request with ",(0,i.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin",children:"POST /api/auth/login"}),"."]}),(0,i.jsxs)(n.p,{children:["Get the project ID from ",(0,i.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Projects/getProjects_1",children:"GET /api/projects"}),"."]})]}),"\n",(0,i.jsxs)(n.p,{children:["Retrieve the fact's definition using ",(0,i.jsx)(n.a,{href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Facts/ms-getFactDetails",children:"GET /api/model/facts/{factId}"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "ouddou5qdd421ndfpjqd6ssman"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Body: Empty"}),"\n",(0,i.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/facts/FDD652E7444ADD7AB6B25F9C1FA15F92" -H "accept: application/json" -H "X-MSTR-AuthToken: ouddou5qdd421ndfpjqd6ssman" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,i.jsx)(n.p,{children:"You can view the fact's definition in the body of the response."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "dateCreated": "2021-03-22T18:05:47.821Z",\n    "dateModified": "2021-03-22T18:05:47.821Z",\n    "versionId": "3FF0319C5B496906BE3EF5A0F825CE77",\n    "primaryLocale": "en-US",\n    "objectId": "FDD652E7444ADD7AB6B25F9C1FA15F92",\n    "subType": "fact",\n    "name": "Profit"\n  },\n  "dataType": {\n    "type": "float",\n    "precision": 53,\n    "scale": 0\n  },\n  "expressions": [\n    {\n      "expressionId": "7A4ABE8CAC6F11D58AD900C04FF2C54C",\n      "expression": {\n        "text": "TOT_DOLLAR_SALES - TOT_COST"\n      },\n      "tables": [\n        {\n          "objectId": "9A28CFCC42DB8E9627D547975958C138",\n          "subType": "logical_table",\n          "name": "CITY_MNTH_SLS"\n        },\n        {\n          "objectId": "54D82D5B4BD115DA313C03A5742900AE",\n          "subType": "logical_table",\n          "name": "CUSTOMER_SLS"\n        }\n      ]\n    }\n  ],\n  "entryLevel": []\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Response Code: 200 (The fact's definition was returned successfully.)"}),"\n",(0,i.jsx)(n.h2,{id:"retrieve-a-facts-definition-with-expressions-in-tree-and-tokens-formats",children:"Retrieve a fact's definition with expressions in tree and tokens formats"}),"\n",(0,i.jsxs)(n.p,{children:['In this sample workflow, you want to get the definition of the "Profit" fact object, with its expressions returned in tree and tokens formats. The object ID of the fact is ',(0,i.jsx)(n.code,{children:"FDD652E7444ADD7AB6B25F9C1FA15F92"})," in the MicroStrategy Tutorial project. The project ID is ",(0,i.jsx)(n.code,{children:"B7CA92F04B9FAE8D941C3E9B7E0CD754"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"Expressions are presented in the following formats:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'"text": A human-readable, but non-parsable text, describing the expression. This is the default format that is always returned in the response.'}),"\n",(0,i.jsx)(n.li,{children:'"tree": A tree data structure fully defining the expression. This format can be used if you want to examine and modify the expression programmatically.'}),"\n",(0,i.jsx)(n.li,{children:'"tokens": A list of parsed tokens. This format can be used if you want to examine and modify the expression using the parser component. Be aware that generating tokens requires additional time.'}),"\n"]}),(0,i.jsx)(n.p,{children:'Tokens are a semi-structured representation of MicroStrategy expression text that includes object references. For example, let\u2019s say a fact expression is "Revenue - Cost". When the fact expression is represented as tokens, the text is broken down into pieces (tokens) with information about what these pieces represent in the metadata: ("Revenue", Revenue_ID), ("-", Minus_ID), ("Cost", Cost_ID).'}),(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"showExpressionAs"}),' is omitted, the expression is returned in "text" format.']}),(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"showExpressionAs"})," is ",(0,i.jsx)(n.code,{children:"tree"}),', the expression is returned in "text" and "tree" formats.']}),(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"showExpressionAs"})," is ",(0,i.jsx)(n.code,{children:"tokens"}),', the expression is returned in "text" and "tokens" formats.']})]}),"\n",(0,i.jsxs)(n.p,{children:["This workflow sample is similar to ",(0,i.jsx)(n.a,{href:"#retrieve-a-facts-definition",children:"Retrieve a fact's definition"}),", except with ",(0,i.jsx)(n.code,{children:"showExpressionAs=tree"})," and ",(0,i.jsx)(n.code,{children:"showExpressionAs=tokens"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Header:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'"accept": "application/json"\n"X-MSTR-AuthToken": "ouddou5qdd421ndfpjqd6ssman"\n"X-MSTR-ProjectID": "B7CA92F04B9FAE8D941C3E9B7E0CD754\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Request Body: Empty"}),"\n",(0,i.jsx)(n.p,{children:"Sample Curl:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/facts/FDD652E7444ADD7AB6B25F9C1FA15F92?showExpressionAs=tokens&showExpressionAs=tree" -H "accept: application/json" -H "X-MSTR-AuthToken: ouddou5qdd421ndfpjqd6ssman" -H "X-MSTR-ProjectID: B7CA92F04B9FAE8D941C3E9B7E0CD754"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Sample Response Body:"}),"\n",(0,i.jsxs)(n.p,{children:['You can view the fact\u2019s definition in the body of the response. Notice that, each fact expression contains the fields "tree" and "tokens", representing the expression in ',(0,i.jsx)(n.code,{children:"tree"})," and ",(0,i.jsx)(n.code,{children:"tokens"})," format respectively."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "information": {\n    "dateCreated": "2021-03-22T18:05:47.821Z",\n    "dateModified": "2021-03-22T18:05:47.821Z",\n    "versionId": "3FF0319C5B496906BE3EF5A0F825CE77",\n    "primaryLocale": "en-US",\n    "objectId": "FDD652E7444ADD7AB6B25F9C1FA15F92",\n    "subType": "fact",\n    "name": "Profit"\n  },\n  "dataType": {\n    "type": "float",\n    "precision": 53,\n    "scale": 0\n  },\n  "expressions": [\n    {\n      "expressionId": "7A4ABE8CAC6F11D58AD900C04FF2C54C",\n      "expression": {\n        "text": "TOT_DOLLAR_SALES - TOT_COST",\n        "tree": {\n          "function": "minus",\n          "children": [\n            {\n              "type": "column_reference",\n              "columnName": "TOT_DOLLAR_SALES",\n              "objectId": "8D6792A011D3E4981000E787EC6DE8A4"\n            },\n            {\n              "type": "column_reference",\n              "columnName": "TOT_COST",\n              "objectId": "7A4ABDFD11D5AC6FC000D98A4CC5F24F"\n            }\n          ],\n          "type": "operator"\n        },\n        "tokens": [\n          {\n            "level": "resolved",\n            "state": "initial",\n            "value": "TOT_DOLLAR_SALES",\n            "type": "column_reference",\n            "target": {\n              "dateCreated": "2001-01-02T20:48:35.000Z",\n              "dateModified": "2016-08-18T19:20:24.000Z",\n              "versionId": "CFE0642A11E66578144C0080EF557A15",\n              "primaryLocale": "en-US",\n              "objectId": "8D6792A011D3E4981000E787EC6DE8A4",\n              "subType": "column",\n              "name": "TOT_DOLLAR_SALES"\n            }\n          },\n          {\n            "level": "resolved",\n            "state": "initial",\n            "value": "-",\n            "type": "character",\n            "target": {\n              "dateCreated": "2001-01-02T20:47:41.000Z",\n              "dateModified": "2021-03-09T15:22:04.454Z",\n              "versionId": "3417594811EB80EB25D80080EF25AB1A",\n              "primaryLocale": "en-US",\n              "objectId": "8107C311DD9911D3B98100C04F2233EA",\n              "subType": "function",\n              "name": "-",\n              "description": "Returns the difference between two values."\n            }\n          },\n          {\n            "level": "resolved",\n            "state": "initial",\n            "value": "TOT_COST",\n            "type": "column_reference",\n            "target": {\n              "dateCreated": "2001-09-18T19:59:30.000Z",\n              "dateModified": "2016-08-18T19:20:24.000Z",\n              "versionId": "CFE0642A11E66578144C0080EF557A15",\n              "primaryLocale": "en-US",\n              "objectId": "7A4ABDFD11D5AC6FC000D98A4CC5F24F",\n              "subType": "column",\n              "name": "TOT_COST"\n            }\n          },\n          {\n            "level": "resolved",\n            "state": "initial",\n            "value": "",\n            "type": "end_of_text"\n          }\n        ]\n      },\n      "tables": [\n        {\n          "objectId": "9A28CFCC42DB8E9627D547975958C138",\n          "subType": "logical_table",\n          "name": "CITY_MNTH_SLS"\n        },\n        {\n          "objectId": "54D82D5B4BD115DA313C03A5742900AE",\n          "subType": "logical_table",\n          "name": "CUSTOMER_SLS"\n        }\n      ]\n    }\n  ],\n  "entryLevel": []\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);