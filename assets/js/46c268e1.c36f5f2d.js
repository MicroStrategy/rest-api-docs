"use strict";(self.webpackChunkrest_api_docs=self.webpackChunkrest_api_docs||[]).push([[5741],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return u}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),i=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=i(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=i(a),u=r,h=m["".concat(c,".").concat(u)]||m[u]||p[u]||o;return a?n.createElement(h,l(l({ref:t},d),{},{components:a})):n.createElement(h,l({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var i=2;i<o;i++)l[i]=a[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},7237:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return c},default:function(){return u},frontMatter:function(){return s},metadata:function(){return i},toc:function(){return p}});var n=a(3117),r=a(102),o=(a(7294),a(3905)),l=["components"],s={title:"Update a custom calendar object",sidebar_label:"Update a custom calendar object",description:"This workflow sample demonstrates how to update an existing custom calendar object through the Modeling service."},c=void 0,i={unversionedId:"common-workflows/manage-calendar-objects/update-a-calendar-object",id:"common-workflows/manage-calendar-objects/update-a-calendar-object",title:"Update a custom calendar object",description:"This workflow sample demonstrates how to update an existing custom calendar object through the Modeling service.",source:"@site/docs/common-workflows/manage-calendar-objects/update-a-calendar-object.md",sourceDirName:"common-workflows/manage-calendar-objects",slug:"/common-workflows/manage-calendar-objects/update-a-calendar-object",permalink:"/rest-api-docs/common-workflows/manage-calendar-objects/update-a-calendar-object",draft:!1,editUrl:"https://github.com/MicroStrategy/rest-api-docs/tree/public/docs/common-workflows/manage-calendar-objects/update-a-calendar-object.md",tags:[],version:"current",lastUpdatedBy:"xdumstr",lastUpdatedAt:1667514843,formattedLastUpdatedAt:"Nov 3, 2022",frontMatter:{title:"Update a custom calendar object",sidebar_label:"Update a custom calendar object",description:"This workflow sample demonstrates how to update an existing custom calendar object through the Modeling service."},sidebar:"tutorialSidebar",previous:{title:"Create a custom calendar object",permalink:"/rest-api-docs/common-workflows/manage-calendar-objects/create-a-calendar-object"},next:{title:"Manage custom group objects",permalink:"/rest-api-docs/common-workflows/manage-custom-group-objects/"}},d={},p=[{value:"1. Create a changeset",id:"1-create-a-changeset",level:2},{value:"2. Update an existing custom calendar",id:"2-update-an-existing-custom-calendar",level:2},{value:"3. Commit the changeset",id:"3-commit-the-changeset",level:2},{value:"4. Delete the changeset",id:"4-delete-the-changeset",level:2}],m={toc:p};function u(e){var t=e.components,a=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This workflow sample demonstrates how to update an existing custom calendar object through the Modeling service."),(0,o.kt)("p",null,"You want to update the existing Custom Calendar with object ID 66FBD8D81F254B63B3C74B599EC7BB47 with the following changes:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Modify the weekStartDay to Monday"),(0,o.kt)("li",{parentName:"ul"},'Rename the calendar to "Chinese Calendar"'),(0,o.kt)("li",{parentName:"ul"},"Modify the calendarEnd to 20")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Obtain the authorization token needed to execute the request using ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Authentication/postLogin"},(0,o.kt)("inlineCode",{parentName:"a"},"POST /api/auth/login")),"."),(0,o.kt)("p",{parentName:"admonition"},"Since calendar objects are configuration objects, you must set the project ID as an empty string.")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"A changeset is required for creating, and/or updating objects such as filters, facts, attributes, and so on through the modeling APIs. A changeset maintains an indivisible group of creations or modifications on modeling objects. Eventually, the changes in the changeset should be either committed as one transaction or abandoned altogether.")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"schemaEdit")," must be ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," if you are committing a changeset that contains schema manipulations."),(0,o.kt)("h2",{id:"1-create-a-changeset"},"1. Create a changeset"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-createChangeset"},(0,o.kt)("inlineCode",{parentName:"a"},"POST /api/model/changesets"))," with ",(0,o.kt)("inlineCode",{parentName:"p"},"schemaEdit=false")),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "qr56qbrjb59oq5m193v8avjsdv"\n"X-MSTR-ProjectID": ""\n')),(0,o.kt)("p",null,"Sample Request Body: Empty"),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets?schemaEdit=false" -H "accept: application/json" -H "X-MSTR-AuthToken: qr56qbrjb59oq5m193v8avjsdv" -H "X-MSTR-ProjectID:"\n')),(0,o.kt)("p",null,"Sample Response Body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "8DF1659E9D74484D9D47B9478D4C7D00",\n  "dateCreated": "2020-11-17T17:36:31.187294Z",\n  "dateModified": "2020-11-17T17:36:31.187308Z",\n  "status": "Ready",\n  "schemaEdit": false,\n  "userName": "MSTR User",\n  "mstrProjectId": "38A062302D4411D28E71006008960167",\n  "mstrUserId": "7FC05A65473CE2FD845CE6A1D3F13233",\n  "userDateNumberLocale": "en-US",\n  "userMetadataLocale": "en-US",\n  "userWarehouseLocale": "en-US"\n}\n')),(0,o.kt)("p",null,"Sample Response Code: 201 (A new changeset is created successfully.)"),(0,o.kt)("h2",{id:"2-update-an-existing-custom-calendar"},"2. Update an existing custom calendar"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Calendars"},(0,o.kt)("inlineCode",{parentName:"a"},"PUT /api/model/calendars/{calendarId}"))),(0,o.kt)("p",null,"System calendars cannot be updated through API."),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "qr56qbrjb59oq5m193v8avjsdv"\n"X-MSTR-MS-Changeset": "46FB9631EB134C9F992BC2F9E92DDC50"\n')),(0,o.kt)("p",null,"Sample Request Body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "name": "Chinese Calendar",\n    "subType": "calendar_custom"\n  },\n  "baseCalendar": {\n    "objectId": "1414DF67F20B4E4F910E418C8DCE7274",\n    "subType": "calendar_system"\n  },\n  "tablePrefix": "MSTR_",\n  "calendarBegin": {\n    "staticYear": "2022"\n  },\n  "calendarEnd": {\n    "dynamicYearOffset": 20\n  },\n  "weekStartDay": "Monday"\n}\n')),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X \'PUT\' \\\n  \'https://env-294821.customer.cloud.microstrategy.com/MicroStrategyLibrary/api/model/calendars/015FB8D4CF30413DAF120DCDE4C2F85C\' \\\n  -H \'accept: application/json\' \\\n  -H \'X-MSTR-AuthToken: qr56qbrjb59oq5m193v8avjsdv\' \\\n  -H \'X-MSTR-MS-Changeset: 46FB9631EB134C9F992BC2F9E92DDC50\' \\\n  -H \'Content-Type: application/json\' \\\n  -d \'{\n  "information": {\n    "name": "Chinese Calendar",\n    "subType": "calendar_custom"\n  },\n  "baseCalendar": {\n    "objectId": "1414DF67F20B4E4F910E418C8DCE7274",\n    "subType": "calendar_system"\n  },\n  "tablePrefix": "MSTR_",\n  "calendarBegin": {\n    "staticYear": "2022"\n  },\n  "calendarEnd": {\n    "dynamicYearOffset": 20\n  },\n  "weekStartDay": "Monday"\n}\'\n')),(0,o.kt)("p",null,"Sample Response Body:"),(0,o.kt)("p",null,"You can view the new calendar's definition in the body of the response."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "information": {\n    "dateCreated": "2022-07-22T04:44:03.000Z",\n    "dateModified": "2022-08-03T06:46:42.019Z",\n    "versionId": "0CA4BAE39B44F1212BD6F8B843E736B6",\n    "acg": 255,\n    "primaryLocale": "en-US",\n    "objectId": "015FB8D4CF30413DAF120DCDE4C2F85C",\n    "subType": "calendar_custom",\n    "name": "Chinese Calendar",\n    "ownerId": "7E7D7CAA4F1F36CAE1DC01B7220EE3C1",\n    "description": "custom calendar",\n    "destinationFolderId": "636200232691438EA7CA6CB26CCDB4EF"\n  },\n  "baseCalendar": {\n    "objectId": "1414DF67F20B4E4F910E418C8DCE7274",\n    "subType": "calendar_system",\n    "name": "Gregorian Calendar"\n  },\n  "tablePrefix": "MSTR_",\n  "calendarBegin": {\n    "staticYear": "2022"\n  },\n  "calendarEnd": {\n    "dynamicYearOffset": 20\n  },\n  "weekStartDay": "Monday"\n}\n')),(0,o.kt)("p",null,"Response Code: 200 (Calendar is successfully updated in the changeset.)"),(0,o.kt)("p",null,"The following fields of a custom calendar could be updated using PUT API."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"information.name")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"baseCalendar.objectId")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"tablePrefix")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"calendarBegin")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"calendarEnd")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"weekStartDay"))),(0,o.kt)("h2",{id:"3-commit-the-changeset"},"3. Commit the changeset"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-commitChangeset"},(0,o.kt)("inlineCode",{parentName:"a"},"POST /api/model/changesets/{ChangesetId}/commit"))),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken": "qr56qbrjb59oq5m193v8avjsdv"\n"X-MSTR-MS-Changeset": "46FB9631EB134C9F992BC2F9E92DDC50"\n')),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets/46FB9631EB134C9F992BC2F9E92DDC50/commit" -H "accept: application/json" -H "X-MSTR-AuthToken: qr56qbrjb59oq5m193v8avjsdv" -H "X-MSTR-MS-Changeset: 46FB9631EB134C9F992BC2F9E92DDC50"\n')),(0,o.kt)("p",null,"Sample Response Body:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "46FB9631EB134C9F992BC2F9E92DDC50",\n  "dateCreated": "2020-11-17T17:42:13.312629Z",\n  "dateModified": "2020-11-17T17:44:30.814816Z",\n  "status": "Ready",\n  "schemaEdit": true,\n  "userName": "MSTR User",\n  "mstrProjectId": "38A062302D4411D28E71006008960167",\n  "mstrUserId": "7FC05A65473CE2FD845CE6A1D3F13233",\n  "userDateNumberLocale": "en-US",\n  "userMetadataLocale": "en-US",\n  "userWarehouseLocale": "en-US"\n}\n')),(0,o.kt)("p",null,"Sample Response Code: 200 (The changeset is committed successfully.)"),(0,o.kt)("h2",{id:"4-delete-the-changeset"},"4. Delete the changeset"),(0,o.kt)("p",null,"Endpoint: ",(0,o.kt)("a",{parentName:"p",href:"https://demo.microstrategy.com/MicroStrategyLibrary/api-docs/index.html#/Changesets/ms-deleteChangeset"},(0,o.kt)("inlineCode",{parentName:"a"},"DELETE /api/model/changesets/{ChangesetId}"))),(0,o.kt)("p",null,"Sample Request Header:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-http"},'"accept": "application/json"\n"X-MSTR-AuthToken: qr56qbrjb59oq5m193v8avjsdv"\n"X-MSTR-MS-Changeset: 46FB9631EB134C9F992BC2F9E92DDC50"\n')),(0,o.kt)("p",null,"Sample Request Body: Empty"),(0,o.kt)("p",null,"Sample Curl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X DELETE "https://demo.microstrategy.com/MicroStrategyLibrary/api/model/changesets/46FB9631EB134C9F992BC2F9E92DDC50" -H "accept: */*" -H "X-MSTR-AuthToken: qr56qbrjb59oq5m193v8avjsdv" -H "X-MSTR-MS-Changeset: 46FB9631EB134C9F992BC2F9E92DDC50"\n')),(0,o.kt)("p",null,"Sample Response Body: Empty"),(0,o.kt)("p",null,"Sample Response Code: 204 (The changeset has been deleted successfully.)"))}u.isMDXComponent=!0}}]);